# 我将代码分成 80 列；为什么你也应该

> 原文：<https://dev.to/jonesm13/i-wrap-my-code-at-80-columns-why-you-should-too-4140>

在全新安装时，我的标准 Visual Studio 设置的一部分是添加[编辑器指南](https://marketplace.visualstudio.com/items?itemName=PaulHarrington.EditorGuidelines)，在第 80 列设置一个指南，并告诉 Resharper 也应该在第 80 列包装我的代码。在一个高 DPI，超宽屏幕的时代，我为什么要采用更适合电传打字机和前 GUI 绿屏终端时代的列宽？

# 命名

当您只有几个专栏可以使用时，命名成员突然变得非常重要；你不能再用`_incrediblyLongVariableNameLikeThis`了，因为它用掉了你可用宽度的四分之一，甚至在你开始把它作为参数传递之前。

变量名必须有足够的描述性，以便有用和明确，但现在也必须足够简洁。我们都知道给事物命名是困难的，但是添加这个额外的约束要求我们多考虑几个周期。

# 缩进和嵌套

如果每次你有了一个新的作用域(不管是类、方法、委托、`if`、`while`还是`switch`)，你就损失了一个标签宽度(4 个字符)，那就是直接减去可用宽度的 5%。因此，在传统格式的 C#类文件中，名称空间、模块和方法已经各少了一个制表符宽度；在我们开始编写任何实现之前，我们已经在第 12 列了。

复杂的代码段落(尤其是那些使用像`if`和`switch`语句这样的条件语句的段落)现在在易读性方面有一个开销，这是一件好事，因为太多嵌套的`if`和`switches`也会给理解代码本身的评审者带来认知负担。

# 内联

虽然在一行代码中实现一些令人眼花缭乱的算法诡计很诱人，但当你在度假时，你的同事可能不会留下深刻印象，他们必须调试它。

内联代码在某些情况下是有用的，但是和以往一样，太多的好东西，顾名思义就是太多。添加一个新的列宽约束正好可以迫使开发人员考虑格式化，而不是将如此多的调用连接成几行。

# 回顾

GitHub 对于 PR 评审的默认行为是分屏呈现 diff 左边是现有代码，右边是您提议的更改。将代码换行到 80 个字符可以确保这两个窗格舒适地并排显示在一个屏幕上，GitHub 不必将代码换行到原始文件中不存在的额外行上。当我检查差异时，这是一个很大的帮助，因为添加或修改的内容立即就很明显，我的眼睛不必为了理解完整的语句而接受额外的行。

总的来说，这就是为什么我认为将代码格式化为 80 列可以给你足够的约束，结果是代码更容易审查和理解。