# 常量与 let 和 var

> 原文：<https://dev.to/duranenmanuel/const-vs-let-vs-var-2fi8>

*原贴于[Enmascript.com](https://enmascript.com/articles/2018/07/06/const-let-and-var)T3】*

JavaScript 是一种令人惊叹的强大的编程语言，它允许我们创建令人惊叹的网站、应用程序，以及比我们在当今世界所能想象的更多的东西。

在本文中，我们将开始讨论变量和常量的定义，具体来说，我们将涵盖所有变量和常量的下一项:

*   定义
*   如何使用它们
*   const、let 和 var 之间的区别
*   何时使用它们
*   例子

所以不再多说，我们开始吧。

## 常数

允许我们定义常量(基本上是值不会随时间改变的变量)，常量是*块范围的*，这意味着它们被使用花括号的表达式隔离，如条件和循环。

例如，下面的代码将以一个错误结束，该错误表示，`MARS_GRAVITY is not defined`

```
if (true) {
    const MARS_GRAVITY = '3.711 m/s²';
}
console.log(MARS_GRAVITY); 
```

发生这种情况是因为常量是在条件块中定义的，这意味着我们只能从它的作用域中访问它，所以只需将`console.log`移到条件块中就可以了。

**如何使用**

```
const MY_NAME = 'Enmanuel'; 
```

**何时使用:**不仅在知道某类数据保持不变时使用，而且在不确定数据是否需要改变时也要使用，为什么？因为使用它作为缺省值可以帮助你意识到一个值是否突变，并且减少突变的数量，如果你从来没有改变它的需要，你知道它是一个常数。

**重要提示:**保留字 *const* 仅使变量本身不可变，这意味着如果我们使用它定义一个对象或数组，我们仍然可以修改对象或数组的属性和值，例如:

假设我们有一个地球常数，它被赋予一个物体，像这样:

```
const EARTH = { type: 'Planet' }; 
```

如果我们现在尝试给地球添加一个属性，比如:

```
EARTH = { type: "Planet", water: true; } 
```

我们会得到一个类似于`Uncaught TypeError: Assignment to constant variable`的错误，很好，这正是我们想要的，对吗？嗯…但是等等，如果我们做类似于
的事情会发生什么

```
EARTH.water = false; 
```

哈！，现在我们的地球上没有水了，我们都会因此而死，这种行为的发生是因为我们实际上改变的是对象的属性，我们没有改变变量本身，同样的原理也可以应用到数组中，所以下次要注意，因为没有水我们无法生存。

## 让

我们使用 *let* 来声明在我们的应用程序中可以随时间变化的变量， *let* 是一个*块范围的*声明以及*常量*。

**何时使用:**如前所述，在 const 的定义中，一个推荐且常用的实现是开始用 *const* 声明所有变量，如果您后来意识到某个值需要在开发期间更改，您可以将该声明改为使用 *let，*，因此一般规则是使用 *const* 而不是 *let* 。

**使用示例:**

```
let names = 'Steve';
console.log(names); // Prints Steve

names = 'Tony';
console.log(names); // prints Tony 
```

**重要提示:**您只能声明一次 *let* 或 *const* 变量，如果您再次这样做，您将会得到一个错误，例如，根据上面的代码，如果您像这样使用 let 保留字重新给名称赋值:

```
let names = 'Steve';
let names = 'Tony'; 
```

你会得到一个错误提示`'names' has already been declared`

## 有一个“t0”

这是声明变量的另一种方式，但这次是*函数作用域的*变量，而不是*块作用域的*变量，这意味着用 *var* 定义的变量只考虑声明它们的函数的作用域，所以如果你在像`if () { ... }`条件块或`for() { ... }`循环这样的块中声明这种类型的变量，该变量将在它们的内部作用域之外声明，该值将在整个函数中可用。 由于这个原因，自从 *let* 问世以来，总是推荐使用 *let* 而不是 *var* ，也就是说，这里有一个关于 *var* 的简单例子:

```
function favoriteAnimal(person) {
    if (person === 'Jon') {
        var animal = 'direwolf';
    }

    console.log(animal);
} 
```

函数`favoriteAnimal`简单地记录了 Jon 最喜欢的动物类型，注意动物变量是如何在`if`块中声明的，但是`console.log`是在块外执行的，它仍然可以正确地访问它。另一方面，如果你用上面的代码替换为使用 *let* ，你会看到它会抛出一个错误消息`animal is not defined`，因为它的作用域是`if`块而不是函数。

好了，devs，这篇文章就到这里，我希望我能帮助你更好地理解这个话题，如果是这样的话，我邀请你分享这篇文章，非常感谢，下一篇再见。