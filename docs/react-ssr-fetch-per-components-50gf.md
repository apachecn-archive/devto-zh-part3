# 对每个组件的 SSR 提取做出反应

> 原文：<https://dev.to/jfn0/react-ssr-fetch-per-components-50gf>

Hi folk!

经过大量的谷歌搜索和阅读关于以 SSR 方式处理每个组件获取的最佳方式，我得出结论，我需要一些 React 社区的帮助，呵呵。

我测试了 razzle、nextjs 和 express 的自定义设置...所有的方法都遵循相同的模式；

1 获取所有数据并
2 将其传递给
3 渲染到字符串...
4 水合物，*初始状态*...等等等等

然而，我不喜欢这种方法。我在过去做了很多 SPA 项目，不关心 seo，也不能在 facebook 或 twitter 上分享页面，让头盔在飞行中改变我的 meta...

但是现在，用这种 ssr 方法做事情，不能在我的组件构造函数中获取数据...我觉得我必须打破我做事的方式。

因此，问题是，有没有一种方法，可以让一个非 ssr react spa 项目转移到 ssr，而不必在开始时获取我的所有数据，就像我在没有 ssr 的情况下一样。

旁注:
我得到的最接近的结果是尝试使用 JSDOM，我可以在服务器中使用 Render(来自 react-dom)而不是 renderToString...这种方法的缺点是我没有看到任何公开这种方法的博客文章。另一个缺点是我不知道所有的组件何时完成了它们的获取，所以我必须把所有的东西都嵌入到一个。设置超时的延迟，以确保一切都已完成。

谢谢你