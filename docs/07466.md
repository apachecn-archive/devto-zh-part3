# 重塑我们对生产事故的看法

> 原文:[https://dev . to/shubheksha/re-frameing-how-we-think-on-production-incidents-53dj](https://dev.to/shubheksha/re-framing-how-we-think-about-production-incidents-53dj)

我在 2.5 个月前开始了一份新的工作，就我必须学习的东西而言，这是一段相当有趣的旅程。开始一份新工作不仅仅是学习技术和流程，还要学习适应你之前建立的思维模式。这是我的第二份工作，就工程文化和流程而言，一切都与我的第一份工作不同。我们相信做小的迭代的改变，并且经常部署到产品中，而不是做有时间限制的发布。这让我思考了很多关于无可指责的文化，以及人们在职业生涯早期如何处理生产中断的问题(让我们接受这是不可避免的，会在某个时候发生，没关系)

这篇文章的目的是提供一些关于团队如何帮助新工程师处理这一问题的指导，同时也让处于职业生涯早期的人们可以重新构建思考和处理生产中断的方式。

### 团队高级成员的再次保证大有帮助

有趣的事实:我从事的第一个大的改变打破了生产中的某些东西😂我不知道该做什么，如何处理它，所以，我是我，我立即开始恐慌。一旦发现是我的改变把事情搞砸了，我的技术主管丹尼尔·查特菲尔德就给我发了一条安慰信息。他的这个非常简单的手势立刻让我平静下来，对我来说意义重大，我会记住很久。

[![Screenshot](../Images/e594273a7876e649a8a6a04c4ae87dce.png)T2】](https://res.cloudinary.com/practicaldev/image/fetch/s--J4XwUloO--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/1600/1%2Af7SxBXfJosu2fn0PTvrgaw.jpeg)

### [](#not-all-bugs-are-equal)并非所有的 bug 都是平等的

在 Monzo，我们相信定期部署和发布小规模的[增量变化](https://monzo.com/blog/2018/06/29/engineering-principles/)，我们的平台使我们能够做到这一点。因此，回滚大多数更改非常容易—您只需运行一个命令来恢复更改。

但是，并不是所有的 bug 都是平等的。例如，在我上面概述的特定情况下，这是不够的，因为在我们检测到需要修复的问题之前，一些无效数据已经被写入数据库。作为团队的新成员，我对服务并不太熟悉，但是团队中一位更有经验、更有背景的成员和我坐在一起，解释如何平静地修复无效数据，我能够自信地编写修复程序。😊

重要的是设计系统和过程，使之难以将大的错误发送到产品中。然而，错误总是会溜走，拥有能让你快速解决问题并限制影响的工具是非常宝贵的。在这种情况下，我们使用迭代器服务(允许我们跨所有用户运行作业)来快速修复无效数据。

### 谈论你搞砸的事情

根据事件的严重程度，可以采取事件后的深入汇报、知识分享会议、详细的事件报告等形式。详细的调查报告在这里可以被证明是非常有用的，它们可以是传递上下文的关键，这种上下文通常存在于人们的脑海中，可以填补文档中的空白。

在 Monzo，我们最近开始每周进行闪电谈话，最初的谈话之一是关于我们最资深的工程师之一[马特·海斯](https://twitter.com/mattheath)的“我在 prod 中打破的东西”。听到几乎每个人都会犯错，但这没什么，这是一种激励。谈论事情变糟不应该让你感到羞愧或内疚。如果是这样的话，这更可能是一个潜在的文化问题，而不是一个技术问题。

### [](#communication-is-key)沟通是关键

当你*知道*你把事情搞砸了，最重要的是寻求帮助。归根结底，管理事故是一项团队运动，而不是个人表演。如果你从这篇博文中学到了什么，那就是这篇。不要为了显得聪明而试图隐藏你的错误。这不是关于你或你的自我，这是关于在对客户影响最小的情况下修复错误，你需要所有人尽快为此做好准备。主动沟通是关键，从长远来看，这会让你成为更好、更强的团队成员。

### [](#treat-it-as-a-learning-opportunity)把它当作一次学习的机会

尽管这个问题看起来很简单，但我还是想给你一些见解，让你知道我是如何看待这个问题的。当生产中出现问题时，我通常会从中获得多方面的收获:

*   我学会了更好地思考我们的代码
*   我学习如何调试问题(或者观察其他人如何推理这个问题，这对我来说也非常有趣，因为每个人的大脑工作方式不同)
*   人们实际上注意到了什么东西坏了——这是一件好事！这意味着人们使用你做的很酷的东西！
*   它还让更广泛的工程团队了解如何使过程对故障更有弹性——修复工具、更新文档、自动化和早期检测故障等。，这样后来者就可以避免犯同样的错误。

### 从来都不是一个人的错

当出现问题时，很可能是你写了代码，而 T2 和其他人评审了代码。而且他们也没抓到虫子。这并不是邀请他们为任何错误承担责任。这是看待同一件事情的另一种方式:人类是有缺陷的，无论工具或自动化多么完善，都会犯错误。目标不是不犯错误，而是从中吸取教训，避免两次犯同样的错误。

### [](#engineering-culture-sets-the-tone-for-everything)工程文化为一切定下基调

个人在这种情况下的反应与团队动态和组织的工程文化有着内在的联系。如果你的工作场所斥责犯错误的人，并挑出他们(相信我，这比你想象的更常见)，那么很有可能你会不舒服地与你的同事或同事谈论你的错误。这是一个支配性的点，与我接触的所有其他点相切。拥有一种无可指责的文化，在这种文化中，人们感到安全地接受他们搞砸了一些事情，这是一个好的工程团队的基础和标志。

我想在这里特别强调，对于第一份或第二份工作的人来说，知道一个好的工程文化是什么样子真的很难，因为他们没有足够的时间依靠经验。如果人们的第一份工作是一场文化垃圾大火，这可能会让他们彻底醒悟，但这并不罕见。我在另一篇[文章](https://shubheksha.com/posts/2018/11/toxic-jobs-and-the-tech-industry/)中写了更多关于有毒工作及其症状的内容。如果你最终进入了一家文化糟糕的公司，这不是你的错。💖

最后，我将试着总结一下我和一位同事关于“人性化”bug 的对话:我们不应该把中断看作是把一个人扔到公共汽车下面的邀请，而是应该把它们看作是使我们的系统更好、更健壮、更能抵御失败的机会。😊

大声喊出来[丹妮尔·汤姆林森](https://twitter.com/dantoml)、[丹尼尔·查特菲尔德](https://twitter.com/danielchatfield)和[苏海尔·帕特尔](https://twitter.com/suhailpatel)审阅了早期草案并提供了有用的反馈，以及在 [Twitter 帖子](https://twitter.com/ScribblingOn/status/1110547116156424192)中就此话题提出建议的所有人！😊