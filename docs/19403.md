# Redux cheatsheet:不同的组件及其作用

> 原文：<https://dev.to/bechev/redux-cheatsheet-the-different-components-and-their-role-2km0>

当我第一次接触 Redux 时，它对我来说是一个真正的挑战。这很令人困惑，因为考虑到它是如何建立的，抽象层次已经相当高级了。我相信，更好地理解所有组件及其作用会对我有很大帮助。
所以请看我的解释。

### **为什么是 Redux？**

[官方文档](https://redux.js.org/introduction/threeprinciples)解释的很清楚。Redux 围绕 3 个原则工作:

1.  实现单一的真理来源。 *你的整个应用程序的状态存储在一个单独的存储中的一个对象树中。*
2.  **只读状态。** *改变状态的唯一方法是发出一个动作，一个描述发生了什么的物体。*
3.  **仅通过纯函数改变。为了指定状态树如何被动作转换，你编写了纯 reducers。**

商店，减速器，行动？这些是什么，它们具体是如何工作的？

#### React-Redux:

*   角色:允许 React 和 Redux 正常通信。事实上，Redux 不是 React 专用库，可以与其他框架(Angular.js 等)一起工作。
*   类型:库
*   地点:它将在多个地方使用。在您的组件中，您可以通过 connect()函数访问商店(参见下文)。在你的应用程序的更高层，你将在那里使用组件(参见:下面)。

#### 动作:

*   角色:为了修改状态而对状态进行的操作。
*   类型:Javascript 对象。这很重要。动作只是 Javascript #对象
*   其中:它几乎可以在任何地方被定义。最佳实践是将它们定义在一个专用的文件夹中，其名称与它们将使用的 reducer 相关

#### 减速器():

*   角色:基于动作有效改变状态的功能
*   类型:功能
    *   返回值:动作后的更新状态。_ _ _ 减速器不应返回未定义。因此，缩减器应该总是有一个当前状态的默认返回值
*   其中:通常在一个专用文件夹中，该文件夹将把应用程序的所有 reducers 分组在一起

#### 组合减少器:

*   角色:允许将多个减速器组合成一个，并且只需通过商店中组合的减速器。它主要允许在关注点分离后编写多个 reducer，而不是一个包含应用程序所需的所有动作的大而乱的 reducer
*   类型:功能
*   其中:专用于减速器的文件夹中

#### 分派():

*   角色:
    1.  保持对状态的更改(非破坏性的)
    2.  在一个动作之后用新的状态重新呈现 DOM
*   类型:功能！
    *   返回值:无。
*   地点:Redux 库中！无需在您的应用程序中定义它！

#### 店铺:

*   角色:包含状态
*   类型:包含应用程序状态的对象，可以访问两个函数:
    *   dispatch 函数:该函数将更改发送到状态(给定一个特定的动作),并重新呈现 DOM
    *   getState 函数:允许访问状态
*   位置:通常在应用程序的最高级别，这样实体就可以访问它(index.js 在创建-反应-应用程序中似乎是一个不错的选择)

#### createStore():

*   角色:将存储分配给变量
*   类型:将接受一个缩减器作为参数的函数，该参数将用于定义相关的分派函数(即:通过将一个缩减器作为参数给 createStore 函数，它将允许您的应用程序知道您的操作将被分派到哪个缩减器)

*   其中:函数是在 Redux 库中定义的。但是，您将在应用程序中调用它来创建商店。通过使用 combineReducer 函数，您通常只需在应用程序中调用一次 createStore()函数。

#### 提供者:

*   作用:包装你 app 的主要关卡组件，把商店当道具传过去。当状态发生变化时，提供程序将提醒 Redux 应用程序，并重新呈现 React 应用程序
*   类型:组件
*   其中:组件将在您的应用程序的最高级别使用，以包装它。

#### connect():

*   角色:允许一个组件从存储的内部状态获取数据，向存储的内部状态发送新数据并重新呈现。connect 函数返回一个组件，该组件看起来像它所绑定到的组件，但是可以访问正确的数据。请注意，如果您的 connect 函数中只有一个参数，默认情况下您将可以访问 dispatch 函数。
*   类型:功能
*   其中:您将在需要访问商店内部状态(读或写)的每个组件中使用该函数

#### mapStateToProps():

*   角色:允许指定我们需要向组件提供存储状态的哪一部分，并允许通过给定的属性访问它们。mapStateToProps 在每次更改存储状态时执行
*   类型:功能
*   其中:该功能由用户在每个需要访问状态的组件中定义

#### mapDispatchToProps():

*   角色:允许通过组件的道具访问动作创建者。mapDispatchToProps()将 dispatch 函数作为参数，允许将操作分派给 reducer
*   类型:功能
*   其中:该功能由用户在每个需要访问状态的组件中定义