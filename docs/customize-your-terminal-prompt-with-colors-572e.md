# 用颜色自定义您的终端提示符

> 原文：<https://dev.to/flaviabastos/customize-your-terminal-prompt-with-colors-572e>

> 注意:下面的步骤假设您有一个 [Bash shell](https://www.gnu.org/software/bash/manual/html_node/What-is-Bash_003f.html) 。如果您使用的是 Unix 机器(Mac 或 Linux ),并且不确定您使用的是什么类型的 shell，那么它可能是 Bash。

在大多数系统中，缺省情况下，终端(或命令窗口)中的提示符显示主机名和工作目录，但是可以很容易地定制这个提示符，以显示其他与您更相关的信息，甚至是样式！

关于提示必须如何显示的信息存储在环境外壳变量`PS1`中——还有其他变量，但对于大多数简单的情况，`PS1`就足够了。

**使用**检查系统中`PS1`的值

`echo $PS1`

输出会是这样的:

`\\u@\h \w]\\$`

在屏幕上，这被解码为:

`myuser@hostname ~/projects $`

向下滚动以查看可以使用的反斜杠转义字符的列表及其含义。

**开始测试提示变化**

在永久保存更改之前，尝试各种选项，直到您对结果满意为止，这总是比较安全的。

首先，保存当前配置，如下所示:

`OLD_PS1=$PS1`

然后，您可以通过使用`export`命令临时设置`PS1`来测试对提示符的新更改:

`export PS1="[\d \u]: "`

这将立即更改您的提示，但不会永久保存更改(如果您注销并重新登录，提示将返回到原始设置)。不断添加/删除选项，直到你找到一个你喜欢的组合。

**给你的提示添加颜色**

是的，没错。您可以在提示中添加颜色和样式。为此，您必须分别用`\e[`和`\e[m`指示颜色信息的开始和结束。

以下是颜色代码列表:

| **颜色** | **代码** |
|黑色| 0；30 |
|蓝色| 0；34 |
|绿色| 0；32 |
|青色| 0；36 |
|红色| 0；31 |
|紫色| 0；35 |
|棕色| 0；33 |

与上面相同的想法:在永久保存更改之前继续测试(公平的警告:这可能会浪费时间)。

下面的设置:

`export PS1="\e[0;34m[\d \e[m \e[0;35m \u@\h]: \e[m"`

将显示为:

`[Sun Jan 06 myuser@myhost]:`

通过在颜色上加 1 来加粗一个部分，如下所示:

`export PS1="\e[0;34m[\d \e[m \e[01;35m \u@\h]: \e[m"`

**找到 PS1 在系统中的设置位置**

不同的 Unix 发行版在不同的地方设置这个变量，所以一个简单的方法是检查`.bashrc`和`.bash_profile`文件:

`cat .bashrc`

`cat .bash_profile`

在其他几种配置中，它通常在`.bashrc`中。

**修改 PS1 的内容**

打开。bashrc 与您喜欢的终端文本编辑器一样:

`vi .bashrc`

或者

`nano .bashrc`

并寻找设置了`PS1`的块。在那里应用您的更改，保存并退出文本编辑器。您可能需要注销并重新登录工作站才能看到更改。

> 注意:编辑`.bashrc`、`.bash_profile`等文件时要小心。只改变你 100%确定你知道是什么的东西，否则你会冒把你的系统搞砸的风险！

**在提示中使用的反斜杠转义字符的完整列表:**

*   **\ a**:ASCII 字符(07)
*   **\d** :“工作日月份日期”格式的日期(如“5 月 26 日星期二”)
*   **\D{format}** :将格式传递给 strftime(3)，结果插入提示字符串；空格式会产生特定于区域设置的时间表示形式。大括号是必需的
*   **\e** :一个 ASCII 转义字符(033)
*   **\h** :第一个'.'之前的主机名
*   **\H** :主机名
*   **\j** :当前由 shell 管理的作业的数量
*   **\ l**:shell 终端设备名称的基本名称
*   **\n** :换行
*   **\r** :回车
*   **\ s**:shell 的名称，basename $ 0(最后一个斜杠后面的部分)
*   **\ t**:24 小时制的当前时间
*   **\ T**:12 小时制的当前时间
*   **\@** :当前时间，12 小时制
*   **\ A**:24 小时制的当前时间 HH:MM
*   **\u** :当前用户的用户名
*   **\ v**:bash 的版本(如 2.00)
*   **\ V**:bash 的发布，版本+补丁级别(如 2.00.0)
*   **\w** :当前工作目录，$HOME 用波浪号缩写
*   **\W** :当前工作目录的基本名，$HOME 用波浪号缩写
*   **！**:该命令的历史编号
*   **#** :该命令的命令号
*   **\$** :如果有效 UID 为 0，则为 a #，否则为 a $
*   **\nnn** :八进制数 nnn 对应的字符
*   * *\** :反斜杠
*   **[** :开始一个非打印字符序列，可以用来在提示中嵌入一个终端控制序列
*   **]** :结束一个非打印字符序列

**其他参考:**

*   [如何:更改/设置 bash 自定义提示(PS1)](https://www.cyberciti.biz/tips/howto-linux-unix-bash-shell-setup-prompt.html)
*   [BASH Shell 改变 Linux 或 UNIX 上 Shell 提示符的颜色](https://www.cyberciti.biz/faq/bash-shell-change-the-color-of-my-shell-prompt-under-linux-or-unix/)
*   [如何为 Mac OS 定制您的终端提示](http://osxdaily.com/2006/12/11/how-to-customize-your-terminal-prompt/)
*   简单的 Bash 提示生成器:选择你想要的选项，这个工具显示 PS1 的代码

> 帖子[用颜色](https://wp.me/pa0b0y-2d)定制你的终端提示最初发表在 [flaviabastos.ca](https://flaviabastos.ca/)