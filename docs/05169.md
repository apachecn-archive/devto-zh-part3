# 你的工作不仅仅是与众不同

> 原文：<https://dev.to/julioolvr/your-work-is-more-than-a-diff-8p2>

当处理一个特性时，我们不会一行一行地考虑需要修改的文件。我们在更高的层次上思考，更有概念。在典型的 MVC web 应用程序中，路由与特定的控制器动作相关，而控制器动作又与执行业务逻辑的某个模型相关。我们认为所有这些运动部件是一个单一的“东西”，只是同一条装配线上的不同部件。

然而，当我们发送一个拉请求，有人不得不审查我们的代码，他们看到的是一系列的变化。一份又一份文件。**有一整层的意义只存在于我们的头脑中，现在审查者必须从`git diff`** 的输出中逆向工程它。我们的评审者将看到一堆控制器文件的修改，而不是能够看到 API 调用的数据流。然后可能是模型，他们必须来回了解发生了什么。也许到最后他们会看到新的路线。

确切的细节高度依赖于项目和我们选择的设计模式，但无论是哪种情况，**一行一行地查看一系列修改后的文件，并不能传达我们在编码时所经历的想法和思维过程**。仅从变化来看，底层的结构和设计并不明显。虽然代码是这些想法的最终形式，**但它是设计，是我们在概念层面上提出的解决方案，是我们工作的真正成果**。

基于这样的观察，我认为作为贡献者，找到将思考过程传递给我们的评审者的方法是很重要的。虽然我怀疑是否有一个完美的方法来实现这一点，但我们可以使用各种技术来使我们的工作更容易理解。

第一个，可以说是最好也是最难实现的，是**保持拉请求的范围尽可能小**。更小的拉请求，没有很多活动的部分，单看代码更容易理解。如果他们有一个明确的目标，每一行修改都可以清晰地追溯到这个目标。较小的变化可以被更彻底地审查。当评审者能够立刻理解变更的整体范围时，错误就很难溜进来。

也就是说，有时这是不可实现的。有可能一个大的特性充满了移动的部分，很难将它们局限在一个单独的变化中，而这个变化本身又是有意义的。或者我们发送一个重构的拉请求，这必然会改变整个代码库。

出于这个目的，我认为写一个好的描述对于评审者理解我们的拉取请求是至关重要的。修改只是我们实现目标所需的所有活动部件的列表，**描述讲述了我们工作的故事**。

那么，什么是好的描述呢？这是非常主观的，但我认为一个好的描述应该在清晰和简洁之间寻求平衡。一个好的描述是能够让我们的评审者理解的最短的描述。这意味着它不仅取决于变化本身，*它还取决于评论者！如果高级开发人员要审查 MVC 应用程序中的一个传统特性，它可能不需要什么澄清。在你的问题跟踪器中有一个相应用户故事的链接作为背景，如果你决定添加一个新的依赖项，可能会有一些澄清，但可能还需要更多。相反，如果拉请求将由经验较少的人，或者来自另一个团队的对代码库了解较少的人来审查，那么更详细的解释将有助于指导他们完成变更。*

尽管这是主观的，但我发现，可以说，将评审者指向变更的*界面*非常有用。你在做用户界面的改变吗？**一张截图或一张 GIF 胜过千言万语**。它是 API 端点吗？**将您的评审者指向使用新端点**的测试。修复 bug？同样，**触发现已修复的 bug 的测试是让您的评审人员前往**的好地方。

这样想:**想象你正坐在你的评论者旁边，解释你的修改**。如果在某个时候你想跳转到应用程序并直观地展示一些东西，那就是添加截图的时候了。如果你要展示一个端点是如何工作的，那就是指向测试的时候了。给你的评审者一些开始的东西，这样他们就不必盲目地浏览变化。

总而言之，**评审者必须理解我们的目标是什么，我们如何对解决方案建模，以及我们如何实现它**。单看变化就能解释最后一部分。在许多情况下，指向问题跟踪器上的票证就足以说明目标。拉请求描述通过解释导致我们特定实现的思维过程将这些联系在一起。

## 奖金

并非所有的评审者都必须是开发者。在我们的团队中，我们发现让项目经理和设计师参与评审过程非常有用。考虑到他们不需要设置一个环境来本地运行我们的变更，**将每一个拉请求部署到一个单独的环境中极大地简化了从功能角度来看的变更审查过程**。这可能不是对每个项目都有意义，但是我强烈推荐在 web 应用程序中尽可能使用它。

* * *

Irvan Smith 的封面图片，在[unsplash](https://unsplash.com/photos/5eBW5GomfhY)T3 发现