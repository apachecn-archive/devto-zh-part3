# 企业软件开发

> 原文：<https://dev.to/stealthmusic/enterprise-software-development-383o>

我想解释一下，为什么企业软件开发会带来很多开销，为什么它仍然有意义。

我们最近需要建立一个新的微服务，这将是未来新功能的基础。你可能会说，你只需要一个 git 存储库，这就是你要的，但这还不够。事实上，我将在本文中解释更多的内容。

让我们开始吧:

# git 仓库

好了，这是最基本的部分，我们建立了一个包含新服务的空 git 存储库。

# 清空申请

然后，我们创建一个空的应用程序存根。对于春季启动，我们将使用 [start-dot-spring-dot-io](https://start.spring.io/) ，为乔希·朗干杯。

# 建立工作岗位

现在我们需要在像 Jenkins 这样的持续集成服务器上构建作业，而不仅仅是其中一个。我们需要一个连续的(C)作业，在代码更改(推送触发器)后构建服务器，我们需要一个每夜的(N)构建，即使没有代码更改也能定期构建代码，并做一些额外的工作以及一些额外的扫描作业，我们将在后面讨论。

# 静态代码检查

在 C 和 N 构建期间，我们将执行静态代码分析(例如 SonarQube)。如果代码覆盖率太低或者有太多的问题(代码味道、错误、复杂性等)，在这里启用质量关将会使构建失败。

根据我的经验，覆盖率和发现的问题都不应该被太认真地对待(比如“我们需要 100%的覆盖率”)。然而，低覆盖率(< 60%)和高数量的问题通常是代码可维护性差、在生产中产生 bug 的风险高的好指标。

# 开源库许可检查

像 Sonatype CLM 服务器这样的系统会自动检查所有 Java 和 JavaScript 的依赖关系，看是否违反政策。违反政策的行为可能是病毒式许可，例如 GPL 许可代码，这也将迫使我们的生产代码开源。因此，如果找到标记的许可证，或者没有找到许可证或双许可证，构建将会失败。在这种情况下，您需要手动选择。当所有许可证都正常时，将自动生成一个披露 PDF，其中包含所有库及其相应的库以及所有许可证文档本身。这将与已部署的工件一起交付，并且可以从 UI 访问。

这一部分至关重要，也是法律义务。否则，公司可能会被起诉。

# 源代码许可检查

另一种合法扫描将检查编写的源代码是否包含从开源项目复制的部分或整个文件，而没有引用项目及其许可证。这个 BTW 也适用于 StackOverflow。它的许可证是 CC BY-SA，需要正确的归属。

违反也将导致构建失败。

# 安全漏洞检查

这是构建管道的下一步。将根据漏洞数据库自动检查使用的库。任何 CVE 都将显示在构建结果中。根据严重性，它也可能导致构建失败。这一部分显然非常重要，但也非常繁琐。这种扫描可以在任何给定时间破坏一个构建，而无需任何代码更改，仅仅因为发现了一个新的漏洞。这种情况每隔一两周就会发生一次。扫描通常会显示实际受影响的部分，是否有没有问题的新版本或如何解决漏洞。

# 病毒扫描

最终的部署工件经过了病毒扫描，并将报告附加到二进制工件上。

# 码头工人

对于每个后端服务，我们还构建和部署 docker 映像。这用于测试和部署。

# 测试

软件质量也很重要。如果你对细节感兴趣，请参阅我的文章[未经测试的一切都会崩溃](https://dev.to/stealthmusic/everything-thats-not-tested-will-break-1adg)。

我们有

*   单元测试
*   集成测试
*   系统/用例测试
*   UI 结束 2 结束测试
*   性能测试

即使对于一个空服务，我们也将创建一个虚拟端点，在系统和性能测试中进行测试。

# 不同的部署场景/数据库

由于我们不是单一产品初创企业，我们需要支持几个不同的部署目标，从基于 zip 的内部部署到基于 docker 的部署，再到多云部署。将与我们支持的多个数据库混合使用。并导致了各种各样的基于 Docker 和非基于 Docker 的测试环境。

# 执照

根据服务计划的功能，我们还需要申请一个新的许可证模块，以允许客户使用新功能。

# 认证/授权

每个服务将获得一个或多个新的权限，允许用户或其他服务进行通信。这些将在服务启动时自动创建。因此，即使对于存根服务，我们也将设置它。

# 结论

唷，所有这些都需要在编写第一个特性之前完成！

我想向感兴趣的人展示这在大公司中会是什么样子。

此外，我很好奇你实际上是如何处理上述话题的。我可以想象，在一些较小的公司，这可能只是在“我们不需要它”下归档。其他人可能会以不同的方式解决它。我们一直在寻求将单个任务以及整个流程自动化，但这并不容易，因为所有步骤都涉及许多不同的系统。
所以，有问题或建议请评论！

我非常有信心，当编写将交付给客户并在互联网上运行的软件时，如果不是全部的话，上面的大部分实际上是创建没有高法律和安全风险的高质量软件产品所必需的。

*照片由[朗笋](https://unsplash.com/photos/Q3e5ucjJV5I?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText)在 Unsplash 上拍摄。*