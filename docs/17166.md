# 许多节点，一个分布式系统

> 原文:[https://dev . to/vaidehijoshi/many-nodes-one-distributed-system-kl9](https://dev.to/vaidehijoshi/many-nodes-one-distributed-system-kl9)

他们说没有男人(或女人，或人，真的)是一座孤岛；如今，我们真的可以在列表中添加“计算机”了。我们被相互交流的机器、计算机和数据库所包围。事实上，我们与之交互的大多数应用程序和服务(以及构建！)实际上，每天都有一大堆计算元素在相互交流，即使我们可能不知道。

对这些系统以及它们如何工作的研究是 ***分布式计算*** 世界的一部分，它以分布式系统的研究为中心。在某些方面，分布式系统是计算机科学领域的延续或扩展——它通常涉及解决问题，将事情分成离散的任务，并弄清楚如何处理、存储和处理数据。

但是在其他方面，分布式系统完全不像计算机科学。分布式计算几乎要求我们抛弃对机器如何工作的假设。当处理单台计算机时，我们甚至会觉得事情有点简单。但是当涉及多台计算机时呢？

嗯，那是完全不同的故事。

#### [](#before-there-were-many-there-was-one)前有多，后有一

为了理解到底什么构成了一个*分布式*系统，我们首先要理解什么不是分布式系统。需要说明的是，在定义分布式系统的“T2”和“T3”时，肯定会有一些争议。理论上，我们可以用不同的方式定义分布式系统的对立面，因为分布式系统的定义在某种程度上取决于系统的*组件*到底是什么。但一会儿我们会详细讨论这个问题。

我们可以把非分布式系统看作一个“单一”系统。一个 ***单一系统*** 是一个不*不*与他人通信并且独立运行的系统*不是*一个分布式系统。

<figure>[![](../Images/7743af63a34053e54c798f3bb1ace4ce.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--ofiPFu3W--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/1024/1%2AxjjPQycoYYpagu9YoaGWCQ.jpeg) 

<figcaption>什么不是分布式系统？</figcaption>

</figure>

我们计算机上的一个进程就是一个独立运行的系统。如果一个进程不与*其他*进程通信，那么它本质上就不是更大系统的一部分。我们也可以认为我们的机器是独立的，与互联网断开连接，是一个“单一”的系统——尽管有研究声称并非如此(比如【2009 年的论文)。

***分布*** 这个词的意思是将某物分散、散开或散布到整个空间。如果我们考虑这个词的定义和*单个系统如何工作，那么很明显单个系统本身不是分布式系统。只有*一台*机器独立工作，所以显然这台单机是不能分散的！*

那么在这种情况下，什么是真正的分布式系统呢？嗯，如果我们思考现实世界中的机器是如何真正互动的，我们开始意识到，实际上，*大多数*计算机存在于一个分布式系统中。计算机很少在只有它们自己的环境中使用；我们几乎总是使用它们来与某种应用程序或服务进行交互。

> 如果你曾经在网上玩过多人游戏，订过机票，在推特上发过猫咪 gif，看过网飞秀，或者在亚马逊上买过连体衣——你都是依靠分布式系统来完成的。

事实上，您可能每天都在与最大的分布式系统进行交互:互联网！但是分布式系统并不都是大规模的。事实上，它们的巨大并不是它们分布的原因。

<figure>[![](../Images/0ddb02f7e6b88ef9f16551652ba9b201.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--PhjlRkfD--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/1024/1%2A3nGHiVyXC73_5ROWg2lOfQ.jpeg) 

<figcaption>分布式系统:一个定义。</figcaption>

</figure>

一个 ***分布式系统*** 只不过是多个实体以某种方式相互对话，同时也执行它们自己的操作。这种系统可以是简单的智能传感器或家中的无线插头，可以通过 wifi 网络捕获和发送数据，甚至只是可以连接到笔记本电脑的无线键盘或鼠标。

只要一个系统中的所有进程都是 ***自治的*** ，或者能够执行自己的操作，同时还能够与系统中的其他进程通信，我们就可以将该系统归类为*分布式的*。

#### [](#nodes-that-stick-together)粘在一起的节点

现在我们对什么是分布式系统有了更多的了解，让我们更仔细地看看它的主要特征——即系统中的“实体”!

您可能已经注意到，我将分布式系统的组件称为“计算机”、“进程”，甚至只是“机器”。我们用来描述分布式系统的确切术语实际上取决于系统本身的样子，以及它是什么样的系统。如果系统是一组分布式服务器，那么这些组件可以被称为“服务器”；如果系统包括相互对话的进程，那么实体可能只是“进程”。

为了帮助消除术语上的差异，我们实际上可以使用一个不同的、更通用的术语。我们可以将分布式系统中的个体实体称为系统的 ***节点*** 。

<figure>[![](../Images/2be303b69675ef313ac45ff1ea038a80.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--fBZJjFz1--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/1024/1%2Abt3gc4zJow0ztzMuu-n1OA.jpeg) 

<figcaption>分布式系统中的节点定义。</figcaption>

</figure>

如果“节点”这个术语感觉很熟悉(并且让你想起了[图论](https://medium.com/basecs/a-gentle-introduction-to-graph-theory-77969829ead8)，那么你的直觉是正确的——这里确实有联系！如果我们把一个分布式系统想象成一个由计算元素组成的网络(这正是它们的本质)，那么我们可以把这个网络想象成一个由相互连接的节点组成的图形。

因为我们知道分布式系统可以在大规模或小规模上运行，所以我们也可以推断出实际的节点本身在本质上是不同的。节点可以是硬件设备(如传感器)，也可以是软件进程(客户端或服务器)。节点本身也不需要在同一个地方——因此是系统的“分布”——并且可以在物理上相隔很远。

#### [](#a-new-way-to-know-nodes)认识节点的新方法

尽管分布式系统中的节点与图中的节点非常相似，但分布式系统中的节点在某些方面会使事情变得有些棘手。我们在处理单个系统时所做的一些假设在处理分布式系统时被证明是不正确的。而说到分布式计算，我们前进道路上几乎所有的障碍都与一件事有关: ***节点之间的通信*** 。

<figure>[![](../Images/8c4480a70cd747cca34b462a51ec8b16.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--tInW9LaG--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/1024/1%2A1vYql3ZQ0NV0Vz1e1StEEw.jpeg) 

<figcaption>节点内的操作与节点间的通信。</figcaption>

</figure>

因为分布式系统中的节点根据定义是自治的，所以它们能够运行自己的操作。在节点内发生的操作*(由节点自身运行)不需要依赖外部信息。换句话说，节点可以运行自己的操作，而不需要与分布式系统中的其他节点通信。这意味着节点可以运行自己的操作，不需要任何人的帮助，并且可以快速运行。*

> 节点内的操作很快；然而，对于节点之间的通信来说，情况并非如此。

正如我们现在所知道的，系统的节点可能位于不同的地方，并且依赖于分布式系统及其网络来来回回地进行所有的聊天，通信是一个完全不同的故事。虽然在一个节点内执行任务可能很快，但两个节点之间的通信并不能保证如此。事实上，两个节点之间的通信通常非常慢(更不用说不可靠了！)，这恰好是分布式计算中最大的问题之一。

<figure>[![](../Images/536e863a6b3b072024912a45dcf7d6fc.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--WtKI4cHV--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/1024/1%2A0qWzT3ZlqtpY-q4U90mdAA.jpeg) 

<figcaption>一个节点的操作按顺序发生。</figcaption>

</figure>

单个节点内的操作不仅快速发生，而且按顺序发生。起初，这对我们来说似乎是一个显而易见的事实，因为*当然*事件是按顺序发生的，对吗？嗯，说到分布式系统，答案是…不总是这样。

尽管一个节点内的操作是按顺序发生的，但是当多个节点在一个分布式系统中一起工作时，事情会变得有点混乱。一旦我们从单个系统/单个节点转移到分布式系统/多个节点，那么跨一组节点的操作可能会以不正确的顺序呈现。

节点内操作有序的部分原因是由于系统内的每个节点根据其自己的时钟操作。

<figure>[![](../Images/bf9e234b79722d19bdebb4e68b1c8136.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--SMO9D96r--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/1024/1%2ATXM3dpqfSAshp9yI7Cq4ww.jpeg) 

<figcaption>节点按照自己的时钟运行。</figcaption>

</figure>

如果我们想一想分布式系统中的不同节点，比如传感器、进程、服务器或数据库，这个事实就很明显了。但是同样，我们可以猜测这在分布式系统中可能会有什么问题:如果系统中两个独立节点的时钟不完全匹配怎么办？这是另一个难题(我们将在本系列中讨论！)说到分布式计算。

当涉及到处理单个节点时，我们所知道和喜欢的所有事情都开始变得陌生，一旦我们将许多节点放入组合中，就变得不那么可爱了。但是这就是学习新事物的乐趣——比如分布式系统！我们将不得不改变我们对系统的看法和思考方式，改变它们如何作为一个整体一起工作，以及允许它们有效工作的不同部分。

如果你问我，这似乎是开始一个全新系列的好方法。😊

#### [](#resources)资源

关于分布式系统，有太多的东西需要学习，并且有很多地方可以开始！这里有一些介绍性的资源，可以帮助你加深对分布式系统的构成和组成它的实体的理解。

1.  [分布式系统简介](https://link.springer.com/content/pdf/10.1007%2Fs00607-016-0508-7.pdf)，马腾·范·斯汀&安德鲁·s·塔南鲍姆
2.  从门外汉到超人:分布式系统导论
3.  [分布式系统(DS)简介](https://www.uio.no/studier/emner/matnat/ifi/INF5040/h11/lectures/IntroDS-1.pdf)，弗兰克·埃利亚松教授

* * *