# TypeScript 与后台反应的流

> 原文:[https://dev . to/areknawo/typescript-vs-flow-with-react-in-the-background-bek](https://dev.to/areknawo/typescript-vs-flow-with-react-in-the-background-bek)

**这篇文章摘自[我的博客](https://areknawo.com)，所以请务必查看更多最新内容😉**

考虑一下这个场景。你是一名网络开发人员，想要建立一个自己的超棒的网站。你知道，作品集，博客，橱窗，什么都行。但是，因为你是最棒的😅，不可能只是标准的 HTML + CSS + JS 组合。不不。你知道你可以做得更好。因此，在[*的驱动下，把你的反应相关的情绪放在这里*🙃]你选择**反应**作为这项工作的最佳工具。然后，当您准备用 **TypeScript** -您的首选语言来替换类型安全的 JavaScript 时，您停下来了。盘算着**的优越性。js** 扩展超过**。你开始寻找替代方案。而你找到的一个替代品——**流量**。这种方式——你——受到漂亮的徽标和登录页面的鼓舞😂，或者由于你在网上偶然发现的炒作，你决定随波逐流。😉但是你后来改变了主意。一次又一次...这就是我们旅程的开始...**

# [](#versus)对战

所以，上面的故事可能不完全真实，但我认为提供一些背景会很好。😉我以前确实遇到过类似的情况，但是在输入了几个 loc 之后，我的选择就很明显了。但是我知道有些人仍然在为选择正确的工具而挣扎。也许您刚刚开始发现 JavaScript 中静态类型检查的潜力，或者您正在寻找当前工具的替代品？如果是这样，那么很有可能你迟早会遇到 TypeScript 和 Flow。而且，最有可能的是，你必须决定选择哪一个。这就是这篇文章存在的原因，帮助你做出自己的选择。现在，让我们仔细看看并比较这两者，记住 React web 应用程序开发。尽情享受吧！🎉

[![img](../Images/275dceb3ee9b5769e382ffb9bcac957b.png)T2】](https://res.cloudinary.com/practicaldev/image/fetch/s--MRF2ycob--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://areknawo.com/content/images/2019/02/68747470733a2f2f64323169693931693379366f36682e636c6f756466726f6e742e6e65742f67616c6c6572795f696d616765732f66726f6d5f70726f6f662f31303037342f6c617267652f313435353731343038312f747970657363726970742e706e67.png)

# [](#typescript)[打字稿](http://www.typescriptlang.org/)

**TypeScript** 是 JavaScript 的**类型化超集**。所以，基本上是一种全新的，编译成 JS 的**语言**。因为它的语法是 **ES-Next** 兼容的(当不考虑类型时),所以它可以很容易地作为一种工具，为您的 JavaScript 代码提供类型安全。还要考虑什么？它得到了微软的支持，背后有一个相当大的、不断增长的社区。这可能是编写类型化 JS 最成熟的选择之一。有大量的教程和指南可以学习，包括官方文档，它们写得很好，涵盖了这门语言最重要的方面。它有非常好的 IDE 支持。事实上，你可以感谢 TS 为 web 开发人员中最受欢迎的编辑器提供了动力- **VS Code** ！只要自动补全快速可靠，这里一切正常。TypeScript 还提供了一种无需直接通过**声明文件**来修改 JS 代码的方法。而且，由于社区的原因，许多流行的 JS 库都有很多这样的类型声明。

[![img](../Images/fc36de8fd0ca90e8ed40674fbafa194e.png)T2】](https://res.cloudinary.com/practicaldev/image/fetch/s--Zd1XmA0O--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://areknawo.com/content/images/2019/02/ogp-1200x630-1.png)

# [](#flow)[流](https://flow.org/)

与 TypeScript 相反的 Flow 不是一个超集或语言。这是一个用 **OCaml** 编写的用于 JavaScript 的**静态类型检查器**。因此，除了类型系统之外，它不提供任何其他功能。而且，因为它不是一门语言，所以它可以通过一个注释注释与 JavaScript 顺利集成。此外，如果你不喜欢类型，你可以把它们写成 JS 注释的形式(虽然这可能很烦人，而且新版本的 ts 支持类似的，甚至更好的基于处理 JSDoc 注释的解决方案)。它由**脸书**开发，有好看的 **logo** 和网站(细节很重要😅).但是，也有一些缺点。例如，它的文档，即使看起来更好，它们的结构也不好，很难阅读和理解。再往深了说，它的社区比 TypeScript 的要小很多。这意味着更少的教程、在线资源和库定义(Flow 也提供了一种用外部文件键入遗留 JS 代码的方式)。它在许多内置和/或带有插件的 ide 中都有支持。它可以提供很好的自动补全和代码建议，但感觉不如 TypeScript 那样快速可靠。但是让我们不偏不倚地比较一下这两个工具的特性集。

# [](#features-amp-differences)特色&差异

就功能而言，Flow 和 TypeScript 可能看起来非常相似。事实上，它们确实有许多共同的特征和句法关系。这很好，因为在尝试这些方法的任何时候，您都可以轻松地进行切换。但是，有一些方面和自定义添加这两个不同，这就是为什么你必须做出选择。

从基础开始，TS，以及 Flow，很好地涵盖了它们。基本类型(原语和文字)、类、接口、函数类型、元组、联合、别名、泛型和任何声名狼藉的类型通常都以相同的方式处理。不同之处在于它收集了大量的[](https://flow.org/en/docs/types/utilities)**实用程序类型。它们允许您操作其他类型以满足许多不同的场景。这是 TypeScript 所缺乏的(但值得注意的是，它正在随着时间的推移而改进)。**

 **然后我们有了导出语法。在 TypeScript 中，您可以使用 ES6 模块语法导入/导出任何现有类型，就像您处理任何其他 JavaScript 构造一样。另一方面，在 Flow 中，您必须使用`import` / `export type`语法。这看起来没什么大不了的，但是它可以极大地改变你思考代码的方式。在 TS 中，当处理模块时，你不必考虑某个东西是否是类型。在心流中，情况完全不同。同样，在 Flow 中，您可以在导入时使用`typeof`操作符来导入唯一类型的给定值。

当涉及到**方法重载**时，也有一个小的区别(用不同的参数和/或返回类型重新声明你的函数/方法)。在 Flow 中，它只在定义文件中可用，这个事实没有被记录。在 TypeScript 中，您可以在代码和声明的任何地方自由使用它。

接下来，在类内部的 TypeScript 中，可以使用可访问性修饰符，即`public`、`protected`和`private`。这是你在心流中看不到的。对我来说，这个特性非常重要，即使它只是不加任何修改地翻译成标准 JavaScript(例如，您可能希望私有属性以下划线开头)。这大概就是 Flow 不支持这个的原因——它只想完全符合 JS。

有一些更小和更大的差异。类型**变异**、**结构型和名词型**可能是其中最重要的。但这是一个有点复杂的东西，你不会注意到它，直到你开始做一些真正的打字。你可以自己发现其余的差异，或者看一看 [**这张对照表**](https://github.com/niieani/typescript-vs-flowtype) 。

# [](#support-amp-community)支持&社区

这一类真的很重要。我认为特定产品从用户那里获得的支持量是其生存的决定性因素。这里事情很简单——更老、更成熟的 TypeScript 比更年轻、有一些性能问题的 Flow 有更大的社区。但是让我们深入挖掘一下！😉

我们拥有的 TypeScript 是一个良好的生态系统，基于它有 **Angular** 等等。你有更多的类型声明(甚至整个集合)和基于它的伟大工具( **VS 代码**)。表演很棒，很爽快。它正处于积极的发展阶段，并且越来越受欢迎。

跟怜的情况有点不同。社区较小，因此缺乏支持。当然，它正处于非常活跃的发展阶段。甚至到了不同版本需要重大改变的程度(这也不太好)。库定义的集合更小，但是有一些聪明的方法让它变得更大更好。我可以说，Flow 最近经历了一些内部变化，这些变化反映在它的[新路线图](https://medium.com/flow-type/what-the-flow-team-has-been-up-to-54239c62004f)中。那很好。也许在某个地方，某个时候，有一个光明的未来在等着它。

最后，我可以比较两个产品的登陆页面和官方文档。我忽略了一个事实，TS 有一些由社区编写的非常好的指南。我只是在看官方资料。在这里你可以清楚地看到 flow 有一个更好的标志和网站。😂它很好地鼓励你使用心流。TypeScript 也有一个很好的网站和标志，但这些并不真的，你知道，特别。遗憾的是，Flow 的文档并不像它们的设计那样好——它们缺乏对一些特性的描述，有时还不清楚。

# [](#setup)设置

通过使用设置这个词，我指的是您的开发工具。使用 TypeScript，您的文件要么有**。ts** 或 **.d.ts** (申报文件)扩展名。你可以用 TypeScript * *编译器** 或者其他工具处理你的文件，比如 Babel 插件。请记住，当您不使用编译器时，您只是将代码从类型中分离出来，而不检查任何错误等等。

当使用 Flow 时，提醒您它只是一个静态类型检查器，您的工作流看起来会有所不同。你所有的文件都应该有**。js** 或 **.js.flow** (定义文件)扩展名。你可以使用提供的 **CLI 工具**来检查你的代码，或者依靠 IDE 集成来完成。为了真正处理你的代码，你必须使用 Babel 和一个合适的插件来从你的代码中去除这些类型。除非你已经以注释的形式写了你的类型，但是，我认为这不是一个好主意。

# [](#react)做出反应

因此，作为最后一类，让我们考虑一下我们两个工具的 React 工作流。其实这才是流量真正能发光的地方。就像 React 一样，它是由同一家公司的人开发的，所以您会期望很好地(甚至更好地)集成这个特定的库。你不会错的。流的确拥有**高级**、**内置**对 React 的支持。你只需要将 JSX 插件添加到你的巴别塔配置中，你就可以开始了。它对你期望的所有特性都有很好的支持——组件、hoc、上下文、引用甚至 Redux 本身！此外，如果您已经看过 Flow 的路线图，React 支持将会变得更好，请继续关注！

现在，让我们回到打字稿。有些人可能会说，这里对 React 的支持不如 Flow。但是，我不完全同意你的观点。TS 确实在一段时间内缺乏对 React 的良好支持，但这些时代早已过去。在 TS 编译器中，您内置了对 JSX 语法的支持，并带有一个特殊的 React 选项。React 类型化不像在 Flow 中那样是 TS 的一个组成部分，所以 React 的最新版本可能并不总是最新的，但我认为这也适用于 Flow。尽管如此，他们写得很好。我可以说我很喜欢在我的一个项目中使用 React 和 Redux 以及 TypeScript。HOCs 和 Redux 连接组件可能会有一些问题，但这并不难克服(至少对我来说)。我可以有把握地说，TypeScript 中对 React 的支持与 Flow 中的非常匹配。

# [](#final-word)最终字

所以，上面我比较了这两个**生产力工具**的一些方面。是时候下结论了。

至于推荐，我可以有把握地说...看情况。😛没有一种方法对每个人都适用。我个人使用 TypeScript，对此我没有意见。即使在特定于 React 的工作流中，对我来说也很棒。IDE 对它的支持非常出色，性能...

Flow 也可以很好的工作！也许您需要它的一些 TypeScript 没有的实用程序类型，或者您希望 React 有更好的集成(如果 TypeScript 中的类型还不够的话)。Flow 可能没有 TS 那样的支持、社区(规模)和性能，但由于它仍然是一个年轻的项目，我想我们(或至少我)会看到它在不久的将来会走向何方。

本文到此为止。如果你觉得不错，可以考虑**分享一下**看看 [**我的个人博客**](https://areknawo.com) 。另外， [**在 Twitter 上关注我**](https://twitter.com/areknawo) 和 [**在我的脸书页面**](https://www.facebook.com/Areknawos-Blog-770620059945105) 上关注我，了解更多最新内容。🔥**