# 写函数的时候我在想什么😵

> 原文:[https://dev . to/ma5ly/what-goes-through-my-mind-while-writing-a-function-4c3k](https://dev.to/ma5ly/what-goes-through-my-mind-while-writing-a-function--4c3k)

我想我没有一周不写函数的。通常是简单的处理程序来修改一段状态或格式化一点数据。有时候事情更复杂，有时候我觉得我的头要爆炸了。

我写过一行程序、上百行程序，可能还写过太多的程序。但是不管我做多少次...每次我写一个函数，我都会碰到很多问题。

对于初学者: *我需要写这个函数吗，或者我身边有一个助手已经做了我需要的工作吗？*

随着应用程序的增长，你寻找的功能很有可能已经(部分)存在了。要么通过你自己的伟大作品，要么通过藏在你`package.json`某处的图书馆。

但也许它不在那里，或者你觉得你可以做得更好。你向自己保证，你将创建一个函数来管理它们...对我来说，通常是这样的...

我要从测试开始吗？互联网告诉我要在测试驱动下工作。公平地说，他们说得很有道理。尽管如此，我可能会失去我所拥有的能量和动力。因为如果我不得不写一个测试，我需要一些时间来思考，重新调整我的思维来思考测试。

## 我们只想要纯的东西

好吧，让我们暂时忘记测试...我可以以后再做。我使我的函数变得纯净了吗？那是最好的选择。当我要写测试时，它会有所帮助，也许我甚至可以在其他地方重用这个函数。

但是现在我在写函数，我注意到自己引用了`this.state`和`this.props`。它只是加快了一切，你知道吗，我总是可以稍后修复。

我甚至发现自己在用`new Date()`。好吧，我们休息一下。
也许我可以把功能分割成更小的部分。我写的一些东西可以是纯粹的和模块化的，而函数的其余部分可能有点像一个发出命令的不纯的容器。那似乎不错。

现在我开始变得真正聪明了。我有更小的函数互相调用，返回漂亮的可预测的结果。我为他们编写一些单元测试...我运气很好。让我们试着变得更聪明。我记得我在应用程序中还有一些其他功能，这些功能肯定会从我刚才写的一些东西中受益。

## [](#enter-the-genius)进入天才

让我们把这些和我的小函数联系起来，开始抽象吧！

...抽象
...抽象
...提取

我做完了，感到筋疲力尽。干得好！对吧...？还是我太聪明了？

突然我想起来，我刚刚连接的一些额外功能可能会在不久的将来进行修改。我绝对听到其他人谈论过这个。这是否意味着我必须编辑我的抽象？抽象中的例外。我知道我不喜欢这些。

我已经开始做噩梦了，那些复杂到我再也看不懂的代码。我该如何删除那一个没人使用的功能，但现在它与我所有的天赋联系在一起？

我像个疯子一样恢复了，回到了我唯一的功能。重复的逻辑意味着更少的依赖性和更容易的删除。轻装上阵，对吧？这就是我们想要的！

## [](#doubt-creeps-up)怀疑爬起来

然而...如果这个以三种不同形式分布在应用程序中的非常简单的逻辑需要更新，因为我们决定用应用程序做一些不同的事情。我不会错过一个应该更新的地方吗？

同样，问题和场景不断出现。

对我来说不幸的是，未来不会自己显现。我准备的事情可能不会发生，我认为以后会发生的事情可能会成为另一个人的问题。

所以我仍然有很多问题。我决定一步一步地编写函数，记录我的选择。我试着意识到上下文，但不要让它削弱我。不会很完美，但没关系。不完美的代码更容易被替换或删除。让我们瞄准有效的和可以理解的。我们不断进步，并努力从中获得乐趣。