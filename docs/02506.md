# 安全领袖访谈:亚当·苏拉克谈阿尔戈利亚的安全措施

> 原文:[https://dev . to/sqree nio/security-leader-interview-Adam-surak-on-approxing-security-at-algolia-45dl](https://dev.to/sqreenio/security-leader-interview-adam-surak-on-approaching-security-at-algolia-45dl)

今天，我们的安全领导者访谈系列有了一个新成员。最近，我们采访了 Adam Surak，他是 Algolia 的基础设施和安全总监，讨论了他的安全方法以及他在职业生涯中在安全方面学到的东西。我们想分享从我们的谈话中获得的深刻见解。

## [](#tell-me-a-little-bit-about-yourself-and-how-you-got-to-where-you-are-at-algolia)告诉我一些关于你自己的事情，以及你是如何在 Algolia 取得现在的成就的

我叫亚当·苏拉克。我是阿尔戈利亚基础设施和安全主管。我最初于 2014 年加入 Algolia，是一名专注于自动化基础设施的 SRE。当时阿尔戈利亚是 8 个人。现在是 350 人，我管理着一个 22 人的团队，增长相当快！

在 Algolia 之前，我是芬兰一所技术大学的教师和研究员。

## [](#what-is-your-history-with-security)您的安全历史是怎样的？

大概我最初和最有趣的安全体验是在高中的时候。我花了一些时间开发一个网页游戏。在那个时候，尝试黑掉网页游戏是一件很流行的事情，所以我不得不花很多时间想办法保护它。

后来，我在芬兰大学工作时，和几个曾在俄罗斯国家安全部门工作过的俄罗斯人一起工作。他们非常严格，注重安全。每当我们开发某个东西时，他们都会问“我们如何破解它？”这是我第一次接触这种安全角度；这种看待事物的方式。

## 到目前为止，您是如何应对阿尔戈利亚的安全问题的？

这些年来，随着我们在 Algolia 的发展，我们开始有了真正的安全需求。从安全的角度来看，我们的主要问题是，要让 Algolia 的服务发挥作用，我们需要有客户数据的副本，我们需要能够读取这些数据，所以我们不能只在边缘加密，从来不看这些数据。这带来了很多潜在的安全风险。因此，[我们在公司早期就开始关注安全性](https://blog.algolia.com/algolia-vault/)。

2015 年初，我被标记为负责 Algolia 的安全，因为我当时拥有最深刻的知识。现在是 2019 年，我有一个由 3 名安全工程师、合规主管和一个经验丰富的法律团队支持的团队。我们关注安全性、合规性以及差距分析和 SOC2 审计等活动。

我们很早就开始做的一件事是专注于培养保护个人设备的习惯。我们办公室里进进出出的人很多，但是人们经常不锁他们的笔记本电脑。我们在 Slack 中实现了一个“羞耻通道”，这样如果你发现有人的设备解锁了，你就可以在他们的 Slack 账户上的羞耻通道中发帖。这是一种轻松的方式，让人们负起责任，并养成保护设备安全的习惯。现在，人们告诉我，当他们独自在家时，他们甚至会锁上电脑，然后起来上厕所！所以这个习惯真的流行起来了。

## 你的安全理念是什么？

我总结说，安全不应该是一个补丁。我坚信安全性和合规性需要自动化。我们在安全方面做的很多事情都可以写成代码。历史上，安全工程师不被视为软件工程师，但今天他们需要这样。他们的工作是自动化。规模太大，无法手动检查所有内容。

> 不要多此一举。有很多工具已经解决了安全性的一个方面。好好利用他们。

我认为最重要的另一件事是找到将安全性硬编码到软件中的方法。在过去，许多安全措施只是没有人愿意遵循的政策。如今，这些策略需要被引入到软件中。一个例子是密码。现在，你防止人们在软件中使用不安全的密码。你强迫他们进入一个安全的，否则他们不能注册或登录。对于其他安全问题，我们不会这样做，但我们应该这样做。

安全性需要更贴近开发人员。在 Algolia，安全团队与开发人员一起坐下来，对他们想要创建的代码进行概念验证。他们一起寻找潜在的弱点和安全风险。你必须找到合作的层次，让团队一起工作来解决问题。如果安全团队只是指出风险或法规遵从性问题，然后走开，您不会以强大的安全状况结束。

## [](#how-have-you-scaled-and-evolved-security-at-algolia)在 Algolia，您是如何扩展和发展安全性的？

扩展安全性是一个棘手的问题，因为几乎不可能以公司扩展的速度扩展安全团队。这就是我们在阿尔戈利亚的情况。

2015 年，我们的一个客户要求我们做一次 pentest。这是我们的第一次。当报告回来时，他们指出了几件无关紧要的事情，以及几件我们最初认为不太重要的事情，比如我们的 SSH 板暴露在世人面前(因为我们已经在它上面建立了保护)。最终，我们意识到其中一些项目值得修复，这增强了我们的安全性。

在 2015 年底，我们有足够的信心以邀请模式开放一个 bug bounty 计划。当时我们在阿尔戈利亚有 25 个人。我们邀请了很多人，最终觉得我们已经抓住了大多数东西，所以我们向公众开放。

这是我们公司历史上最大的安全惊喜。几天后，一切都爆炸了。我们收到了大量警报和电子邮件，事情开始变得不可收拾。我们花了两个月才恢复过来。有大量的问题！

自从我们从第一次努力开始就弥补了我们的安全债务以来，这些天进展顺利多了。它还有另一个重要的影响:当你在公共记录上时，你不能依靠“默默无闻的安全感”它增加了一定程度的压力。当人们在内部说某件事是个问题时，让外部的人也说同样的话真的很有帮助。它让事情变得真实，让你想要解决它，而不是陷入这样的信念，即问题太小，没有人会发现它或被它困扰。

> 不要把安全当成事后的想法。趁早投资吧。你拖延的时间越长，你的安全债务就越大。

我们还试图在 Algolia 树立安全意识。安全人员的想法不同。他们不关注某个功能的作用；他们关心风险以及如何暴露。这种心态试图消除保护你的工作的自然倾向，并保护它免受安全的眼睛。通过关注安全性并向人们展示利用的影响(例如，通过内部利用)，您可以真正地以一种吸引人们的方式传达安全性的重要性。它让影响变得真实。

## [](#what-are-the-challenges-you-see-blocking-your-ideal-state-of-security-today)您认为目前阻碍您实现理想安全状态的挑战有哪些？

现有的工具对信噪比关注不够。我们需要改变这种心态，推动工具只输出可操作的信息。很多安全工具输出绝对的一切，所以真正的信号被淹没在噪音中。这对用户来说是非常令人沮丧的。更好的做法是从产出开始缩小范围，然后逐步提高。

我看到的另一件事是，安全被大量数据淹没。多层、多应用、多堆栈。数据量如此之大，以至于安全团队不得不进行异常检测，只寻找异常值。

另一个挑战是关于易受攻击的依赖项。在理想的情况下，所有的依赖项都将保持最新。然而在现实中，这并不总是可能的。有时候，你所依赖的东西在新版本中被否决了，或者新版本破坏了你流程中的某些东西，你不得不坚持使用旧版本。因此，你需要非常清楚自己暴露在哪些简历中，这样你才能找到保护它们的方法。你还需要确定这些简历对你和你的企业是否是真正的风险。它们需要是可利用的，并且是能够产生影响的东西。

安全需要走向随处可操作。我们需要清晰的信号和清晰的建议，以便根据可能对您的业务产生影响的实际风险采取行动。

## [](#do-you-have-any-advice-for-companies-or-people-beginning-their-own-security-journey)对于开始自己的安全之旅的公司或个人，你有什么建议吗？

如果你正在考虑开始一个公共的臭虫奖励计划，停下来和已经做过的人谈谈吧！这是一个比看起来要大得多的事件！

说真的，根据我一路走来学到的东西，这里有一些建议:

1.  不要把安全性当作事后的想法。趁早投资吧。你拖延的时间越长，你的安全债务就越大。我知道有一家公司在最终进行 pentest 之前忽略了安全性很多年。他们收到的报告长达 100 页。他们不得不暂停工作 3-6 个月来处理主要问题。
2.  看看自动化的工具，尤其是在早期，当你不需要花时间去看所有手工出现的问题的时候。你可能不需要对大的国家行为者有弹性；你只需要在一开始防范竞争对手和脚本小子。您需要的安全级别取决于您可以合理预期的威胁级别。对于大多数企业来说，在开始时保护您的代码和应用程序就足够了。
3.  不要多此一举。有很多工具已经解决了安全性的一个方面。好好利用他们。即使在安全工具本身之外，您也应该利用其他公司的安全团队。例如，利用 Slack 的安全功能，而不是创建自己的消息应用程序。
4.  最后向业内人士求助！尽管有些名声与此相反，安全领域的大多数人都很乐意与您分享他们的知识和经验。请他们喝杯咖啡，或者加入你的顾问委员会。让他们参与进来，他们会很乐意帮忙的。

* * *

非常感谢亚当抽出时间。如果您想阅读更多的技术和安全领导者访谈，请查看我们与 [Ricardo Félix 在 Uniplaces](https://blog.sqreen.com/devops-uniplaces/) 关于扩展开发运维的对话。

帖子[安全领导者访谈:Adam Surak 谈如何在 Algolia 实现安全](https://blog.sqreen.com/security-leader-interview-adam-surak-algolia/)首先出现在 [Sqreen 博客|现代应用安全](https://blog.sqreen.com)上。