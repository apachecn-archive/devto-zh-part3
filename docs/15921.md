# 透明:单一系统的幻觉(上)

> 原文:[https://dev . to/vaidehijoshi/transparency-missions-of-a-single-system-part-1-17ao](https://dev.to/vaidehijoshi/transparency-illusions-of-a-single-system-part-1-17ao)

尽管我们可能不熟悉分布式系统，但现在我们可以看到，根据定义，它们涉及许多移动部分。这些移动的部分使事情变得无限复杂，因为现在，我们要处理的不是一个人的表演，而是一整套角色(阅读:节点)!

在之前的一篇文章中，我们开始研究在一个单一系统中我们可能认为理所当然的最简单的事情在一个分布式系统中变得复杂得多的方式。我们知道节点可以独立自主地运行。在某些方面，这是理解分布式系统更容易的部分。

那么，节点协同工作的方式是怎样的呢？如果我们深入思考一下，不协同工作的自治节点违背了分发的目的！分布式系统中的节点将不可避免地相互通信，我们已经知道这是事情变得棘手的地方。

但是，我们究竟为什么希望节点合作和一起工作呢？当有效实现时，分布式系统为我们提供了什么启示？是时候找出答案了。

#### [](#transparency-in-a-system)系统中的透明度

因为分布式系统仍在被积极地学习和研究，所以快速粗略地探究一下这个主题会产生各种不同的结果。例如，你可能会发现，在分布式系统最著名的定义中，甚至只有“已定义”的*定义*来自莱斯利·兰波特，一位获得图灵奖的计算机科学家。

> 在分布式系统中，一台您甚至不知道存在的计算机的故障会导致您自己的计算机无法使用。
> 
> —莱斯利·兰波特

我发现这个定义最有趣的地方是，当使用分布式系统时，事情可能在你不知道的情况下发生。在 Lamport 的定义中，这意味着可能会出错(系统的一部分可能会失败)，但您(作为用户)可能甚至不知道。

> 但是我认为这个想法的核心是分布式系统对你隐藏了一些东西。

我们知道，根据定义，分布式系统涉及多个机器/进程/资源(称为节点)，它们可能位于完全不同的位置。然而，当使用分布式系统时，一切看起来都像一个内聚的单元。换句话说，即使我们，用户，可能同时与几个节点进行交互，对我们来说却完全不是这样。相反，我们似乎在处理一个单一的系统，或者一个单一的机器/过程。

例如，当我们从一个基于 web 的电子商务平台订购一些东西时，我们可能实际上是从一个节点获取数据，将数据发送到另一个节点，并等待另一个节点的响应，而另一个节点又很可能依赖其他三个节点来完成某些事情！对我们这些最终用户来说，一切都可能感觉天衣无缝，就好像我们只是在与一个网站或平台进行交互。但在现实中，实际上有许多节点在一起工作，使这些进程*看起来*好像它们是一个单一的单元。

<figure>[![](../Images/35cfba90305044f0cd4f815da9e42aee.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--8fggYjmz--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/1024/1%2AjSt9Fu_xW4mg39CL-1iuIQ.jpeg) 

<figcaption>分布式系统中的透明性:一个定义。</figcaption>

</figure>

这是分布式系统中常见的概念，被称为*。由自治节点组成但表现为单一系统的分布式系统被称为 ***透明*** 系统。*

 *在设计分布式系统时，系统的透明性是一个主要因素。最终，透明性决定了一个系统的节点将一起工作的方式。换句话说，分布式系统处理透明性的方式向我们展示了该系统是如何准确地向最终用户隐藏其“分布”的，而是表现为一个内聚的系统(不是分布式的)。

> 但是隐藏分布式系统的“分布”是什么意思呢？

好吧，如果我们把一个分布式系统想象成一堆分散在各处的节点——但是在一起工作——那么我们可以推断出这里可能有各种各样的东西要“隐藏”。例如，透明性可以隐藏这样一个事实，即一个系统可以跨不同的节点处理数据。它还可能隐藏这样一个事实，即数据可能存在并存储在许多节点上，这些节点也在一起工作。

不管系统实际上实现这一点的确切方式是什么，分布式透明的最终目标是创造一种错觉，即系统不是一堆不同的部分(各种节点)，而是一个整体(单个系统)。值得注意的是，这种错觉——系统的透明性——不仅是为系统的最终用户创造的，也是为使用系统的程序员以及任何可能偶尔接触系统以使用它的潜在应用程序创造的。

#### [](#the-ways-in-which-we-hide)我们隐藏的方式

既然我们已经理解了设计透明系统背后的目标，那么让我们深入研究一下实际情况。

当设计或观察分布式系统时，有不同的方法来处理透明性问题。可以说，大多数情况下，它与我们要“隐藏”的系统行为有关。根据系统架构的方式，系统的一些“片段”可能比其他部分更容易伪装成一个“整体”。随着我们开始研究分布式系统中不同形式的透明性，这将变得越来越明显。所以，让我们开始吧！

***访问透明***

在许多系统中，资源——可能是一个对象、一些数据、一个进程，甚至是一台机器——的访问方式实际上可能与资源*真正的样子*以及它的表示方式有很大的不同。例如，我们的分布式系统中可能有不同的节点，这些节点可能运行不同的操作系统，这可能意味着一个节点上的相同资源在另一个节点上的表示可能略有不同。

然而，虽然资源的真实表示可能非常不同，但是如果我们希望我们的最终用户感觉他们在一个单一的系统中工作，我们需要对他们隐藏这一点。 ***访问透明性*** 允许我们隐藏资源的数据表示和访问方式的任何差异。

<figure>[![](../Images/94eb338b66cc14a13a32391e428c305e.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--KxWNGCqj--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/1024/1%2AEWviOc-U7536INQuq3Y75Q.jpeg) 

<figcaption>分布式系统中访问透明</figcaption>

</figure>

访问透明性的一个很好的例子是你可能每天都在使用的东西:一个 API！API 是一种使用相同的、可重复的操作访问资源的可靠方法，这些操作可以在任何机器上复制，同时仍然产生相同的结果。即使数据改变了形状或形式，这些细节对最终用户是隐藏的(或者在 API 的情况下，它们也应该对程序员或任何使用 API 作为服务的外部应用程序隐藏)。访问透明性将这些细节抽象化，以便可以可靠地检索资源，即使它在某些时间或某些地方可能以不同的方式表示。

我们想得越多，就越会意识到访问透明性隐藏了我们周围的一切！例如，您能够在某些设备上阅读这篇文章的事实也是访问透明的结果！web 依赖于访问透明性，以便隐藏这样一个事实，即无论您是在笔记本电脑、移动设备、旧操作系统还是新操作系统上浏览，都可以通过相同的方式(通过 URL)访问网页。又一个幻觉！

然而，我们或许也能感觉到访问透明性是如何难以处理的。如果我们的系统以一种过时/旧的操作系统不能处理(或不能正确处理)的特定方式表示资源，会发生什么？也许我们获取资源的方式中断了！在这种情况下，最终用户将能够看到他们实际上不是在处理一个单一的系统，这破坏了我们努力追求的透明的“假象”。

***位置透明度***

就像资源在分布式系统中的不同节点上可能有不同的表示一样，不同的资源很可能位于不同的位置！ ***位置透明*** 是隐藏资源所在位置的东西。这种形式的透明性允许系统中的对象被一致地访问，而不用考虑它们的位置(更不用说知道它们的位置)。

<figure>[![](../Images/f870386ed4ce425e77d86b0327f35caa.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--bEmoVXKu--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/1024/1%2A9wZdYPYQiVaTi-H6uKIypw.jpeg) 

<figcaption>分布式系统中的位置透明</figcaption>

</figure>

网络本身就是这种透明性的另一个很好的例子；例如，一个网站存在于一个可预测的、显而易见的 URL。然而，网站在互联网上的物理位置是抽象的，因为就最终用户而言，他们可以在逻辑命名的位置找到资源(网页)。URL 实际上代表*“统一资源定位符”*，这是一个非常好的例子，说明资源的名称实际上并没有揭示资源所在的*(例如，在特定的服务器上)。*

 *网络并不是唯一的例子。一个系统可以有一个对象存储在数据库中，或者它可以内联生成，或者它实际上可以存在于一个静态文件中；在任何情况下，位置透明系统对最终用户隐藏了这一事实，并简单地确保用户总是可以访问该对象，而不管它住在哪里(也不暴露它住在哪里！).

***搬迁透明度***

既然我们知道一个资源可以位于与另一个资源不同的位置，我们也可以得出结论，资源可以四处移动，也就是说，一个资源可以位于一个位置，在某个时候，需要移动到另一个节点。 ***重定位透明*** 允许资源在被其他东西(或某人)使用或访问时从一个节点移动到另一个节点。

<figure>[![](../Images/43bee70acc8f909b47a8c41f12646280.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--CXZYw9HS--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/1024/1%2AE5JhpGp4d1dOyTfj4PtktA.jpeg) 

<figcaption>分布式系统中的重定位透明</figcaption>

</figure>

重新定位透明性需要两个重要部分协同工作。首先，被移动的资源需要能够“被”移动。也许这意味着被复制到另一个位置，或者也许这意味着复制资源，移动它，然后从它原来的位置删除它。其次，如果它是重定位透明的，它需要“隐藏”它正在移动的事实，因为有人(终端用户、程序员，甚至只是分布式系统中的另一个节点！)很可能正在访问它。

因为这两个方面都需要考虑(不知何故！)，在分布式系统中实现重定位透明性有时会很复杂和棘手。有时，如果“移动”资源不是经常发生的事情，甚至可能不值得考虑。在这些情况下，与其创建重定位透明系统，不如将资源脱机以便移动它。

<figure>[![](../Images/e9837c5b231433887fc6794a1910983a.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--giDr0s9E--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/1024/1%2A4jHbunqlYtl00ddgTwdG7w.jpeg) 

<figcaption>访问、定位和重定位:三种透明形式</figcaption>

</figure>

然而，如果有许多用户访问您的系统，或者如果经常需要移动资源，不考虑这种形式的透明性将意味着分布式网络不再作为一个单一的、内聚的单元，因此对最终用户来说不是完全透明的，这可能会也可能不会破坏您试图分发的系统的目的。

到目前为止，我们也许能够理解这里的一个主题:一些透明形式比其他形式更难，但是每种形式都有助于向我们的最终用户“隐藏”我们系统的复杂性，并且似乎需要一些深思熟虑！

在这篇文章的第二部分，我们将看看一些更复杂的分发透明形式，以及它们所呈现的不同的权衡和障碍。敬请关注第二部分！

#### [](#resources)资源

关于分发透明性和它的许多权衡，还有很多要学习的！这里有一些我最喜欢的资源，可以帮助你开始你的学习之旅。

1.  [分布式系统原理](http://www0.cs.ucl.ac.uk/staff/ucacwxe/lectures/ds98-99/dsee3.pdf)，埃梅里希教授
2.  透明胶片，乔恩·克罗夫特教授
3.  分布式软件开发，第一讲，弗朗西斯·马尔凯塞教授
4.  [分布式系统的目标](http://web.cs.iastate.edu/~cs554/NOTES/Ch1-Intro.pdf)，鲁阮教授
5.  [分配透明度](https://www.cs.helsinki.fi/webfm_send/917)，朱哈妮·托伊沃宁教授

* * ***