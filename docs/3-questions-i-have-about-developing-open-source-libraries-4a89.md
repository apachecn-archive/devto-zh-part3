# 关于开发开源库，我有 3 个问题

> 原文：<https://dev.to/turnerj/3-questions-i-have-about-developing-open-source-libraries-4a89>

我在 GitHub 上维护了一些开源项目，并对维护这样的软件有一些疑问，特别是关于版本和维护。我不认为有一个单一的“正确”答案，但讨论可能有助于其他人在自己的图书馆工作。

我继续工作。NET 库会对任何语言/平台/包管理器的这些问题的答案感兴趣。

## 你多久发布一次你的库的新版本？

这个问题很宽泛，本身似乎没什么用。我的意思是，如果有人提出了一个问题，你修补了它，你会立即发布一个新版本的库吗？你在释放之前会等待任意长的时间吗？在发布之前，你会尝试将多个变更放在一起吗？

## 你如何将你的库发布到你使用的包管理器上？

再一次，表面上这是一个宽泛的问题。我知道各种各样的包管理器都有 CLI 工具，或者可能只是阅读 GitHub 上的“发布”或标签。我在这里感兴趣的是实际碰撞你的库的版本号*和*得到它的过程。

例如，我和。并且当前在一个`*.props`文件中有版本号，该文件在构建期间被读取。此版本在“更新版本”提交中手动更新(例如“版本 1.0 已发布”)。然后，我向 GitHub 添加一个具有相同版本号的版本，并设置它创建一个具有相同版本号的标签。

现在，我从 CI 服务器获取构建好的包(因为它在创建标记时触发一个构建),然后我手动登录 NuGet，上传这个包。

现在我知道我至少可以自动推送 NuGet，但是在这里这样做好吗？我甚至应该让某些 CI 构建自动推送到 NuGet 吗？这些应该碰撞他们自己的“补丁”版本号吗？我会推出太多的版本吗？

这可能是我的 3 个问题中最重要/最好奇的一个。关于这个东西的任何想法都将是可怕的。

## 你如何维护旧版本的代码库，尤其是当它们是一个落后的主要版本时？

我遵循[语义版本化](https://semver.org/)，所以我已经在考虑需要一个主要版本冲击的突破性变化。

如果有人正在开发一个旧版本的库，你会回去从那个版本中分离出代码库，并使用新的补丁吗？你只是告诉人们升级到你的最新(重大变化)版本，它已经修复？是不是介于两者之间的其他东西？

当我使用开源产品(如 CMSs)时，他们通常会保留一些主要版本并进行安全更新。人们在图书馆也这么做吗？你只是维护一个“尖端”版本的库吗？这是否更多的是资源/时间的问题，以便能够维护一系列旧版本的补丁版本？