# 盖茨比和 Netlify CMS:第一印象

> 原文:[https://dev . to/bbar bour/Gatsby-and-netlify-CMS-first-impressions-4 ink](https://dev.to/bbarbour/gatsby-and-netlify-cms-first-impressions-4ink)

作为我妹妹的生日礼物，我决定用盖茨比给她建一个快速、干净、现代的网站。这是她的漫画系列，上古之神传奇。她不是一个网站开发人员，所以我需要它与一个系统相结合，使她能够轻松地更新她的页面和内容。

有相当多的无头 CMS 选项。在做了一些研究后，我决定选择 Netlify CMS。我本来打算用 Netlify 来托管，所以我想为什么不试试同步呢。

[http://sagaoftheoldgods.com](http://sagaoftheoldgods.com)(如果你想看现场。)

## [](#gatsby)盖茨比

我和盖茨比的第一次经历是文档。我以前从未使用过静态站点生成器。React 对我来说并不陌生，但盖茨比的许多内部工作方式却是。

让我告诉你...

他们的文档是惊人的。的确，字迹清晰明快。这些例子和描述让人着迷。我已经使用了相当多的库，并为它们准备了大量的文档。例如，Firebase 是我最近花了很多时间使用的一个产品，并且经常让我挠头。然而，对盖茨比来说，没有片刻的困惑或退缩。我能够相对容易地复制他们在教程中教授的一切。

当然，里程可能会因人而异。如果你正在寻找接盖茨比，我不能推荐它足够的新手经验。在几个小时内，你将有一个坚定的理解，并能够投入到制作自己的内容。

Gatsby 得到了开源社区的大力支持。有几十个官方插件，让做事变得简单高效。此外，还有一些启动器或包，可以让你的项目顺利启动。

这些我都没用过。因为，我想从基础层面了解如何把一个盖茨比的网站放在一起。我可以看到自己在未来呼吁创业者让我的时间花得更有效率。当然，我现在也明白这一切是怎么回事了。我建议像我一样学习它，然后召唤初学者。

我最终确实遇到了 Gatsby 的问题，但是这些问题更多的是在 Netlify CMS 的集成中，而不是与框架的核心功能相关的任何事情。

能够使用 React 创建页面，并向其中添加组件是我的梦想。我真的很了解 React，所以那部分感觉就像在家里一样。

GraphQL...哇哦。默认情况下，盖茨比使用它。这是我第一次接触这项技术。我听到这个词已经有一段时间了，还有一些好的方面。现在我已经尝过了，我渴望更多。GraphQL 使得处理网站数据更加高效和直观。在其基于 web 的 IDE GraphiQL 中构建查询是可视化和优化我的组件所需的数据片段的梦想。

如果你像我一样来自创造-反应-应用程序的世界，盖茨比就有点不同。您不需要安装 react-router-dom，因为 Gatsby 处理自己的路由。您用几行代码在 gatsby 节点文件中设置了动态页面。

Gatsby 能够解析 Markdown 文件并以编程方式生成页面，这让我非常感兴趣。这是我花时间最多的部分，因为我真的很想知道他们是如何做到的。使用 Netlify 作为主机，任何时候您更新 Github repo 时，它都会重建实时网站，这意味着会自动添加新内容。

我能找到的唯一的缺点是盖茨比处理图像的方式。与其说是技术问题，不如说是有时我搞不清盖茨比图像锐利插件提供的流动图像的小怪癖。例如，如果我试图浮动一个流体图像，图像就会消失。我认为这与图像周围的包装组件有关，但并没有深入到那个兔子洞。我解决了这些怪癖。延迟加载部分是最好的部分，值得努力去搞清楚。特别是因为我的姐姐将使用她的网站为漫画和艺术，所以图像是超级重要的正确工作。

## [](#netlify-cms)Netlify CMS

Netlify CMS 文档还算不错，不完全是盖茨比级别的，我觉得这是我的新酒吧。我能够理解它。建立 CMS 实际上是小菜一碟。您进行 npm 安装，创建一个 assets 文件夹，然后在 config.yml 文件中设置您的模式。在那之后，它会自己照顾自己。如果您添加测试或占位符内容，您需要将它实际托管在 Netlify 上，CMS 才能工作。否则，它只是挂在 CMS 的本地状态，并在页面刷新时消失。

CMS 让 git 提交给你的 repro，当它在 Netlify 上运行时，它反过来重建你的站点。可能需要五分钟左右的时间才能看到网站上的实时变化。如果你不想把它放在互联网上，我相当肯定你可以使用新的 Netlify CLI 在本地托管它。我没有测试过。我想我会在未来的项目中，如果我决定再次使用 CMS。

默认情况下，Netlify 允许您使用 Github 帐户登录 CMS。还有通过 Netlify 身份服务的 oauth 提供者集成。我建议用这个给更新网站内容的人访问权。你甚至可以把商标从 Netlify 上去掉，放上你自己的商标。我可以看到，这对自由职业者或为人们建立网站的机构很有效。

这是我第一次使用无头 CMS，所以我没有太多可以比较的。界面很好，也很简洁，因为它也是在 React 中制作的。我还没有我姐姐作为最终用户的印象，因为她刚刚开始添加她的内容。如果我们发现了问题或者开始对它产生负面的看法，我可能会写一篇后续的博文。

除此之外，作为一个独立的东西，它很好，我也没有什么可抱怨的。如我所说，我的问题始于盖茨比整合。

## [](#gatsby-and-netlify-cms-together)盖茨比和 Netlify CMS 在一起

盖茨比和 Netlify CMS 一起有一个岩石的关系。我这么说是因为我用了相当多的插件来让**工作**。我仍然不确定它们是否会破裂。

我使用了一个名为 gatsby-markdown-remark 的插件来解析我所有的 markdown 文件并从中获取数据。还有像 gatsby-remark-images 这样的插件，它会把你的降价图片变成 gatsby-image-sharp 图片。这是一个插件的生态系统，使事情无缝。很少是天衣无缝的。

我注意到，偶尔在构建我的网站时，我的 GraphQL 查询会中断，无法找到降价图片。超级讨厌。经过几乎一整天的搜索，我发现这是因为 Netlify CMS 处理图像的方式。您可以看到，它将图像放在它们自己的单独目录中，称为资产。盖茨比怀疑你的图像和你的书页在一起。

要解决这个问题，您的插件必须按照一定的顺序加载到 gatsby-config 文件中。你还应该使用一个名为 Gatsby-plugin-netlify-CMS-paths 的插件。此外，所有 Netlify CMS 的东西必须放在最后。添加这些插件和调整配置文件似乎有所帮助。我希望我已经让它稳定下来了。因为，我最不需要的就是我妹妹添加内容，让她的网站在构建时中断。那根本不会是一个好的用户体验。

我推荐这两个人在一起，前提是你有耐心理清这些怪癖。我想将来我会尝试一些其他的 CMS 选项，并在比较中分享我的观点/发现。

## [](#final-thoughts)最后的想法

Netlify CMS 是免费的。盖茨比自由了。我没有看到任何与此相关的成本。我还会提到 Netlify 主机是免费的。如果你愿意，你可以在使用它时支付其他额外费用。不过，基线对你来说没有风险。我完全不能抱怨价格问题。整个项目花了我 10 美元，因为我需要给她弄一个域名。只需要做点跑腿的工作，她就可以去比赛了。

我希望这篇第一印象的帖子对你们所有人都有帮助。如果您有任何问题或顾虑，请随时提问。总而言之，我两个都推荐，尤其是盖茨比。让你的反应，让你的 CMS，走出去，使酷的东西。因为，这就是我要做的。