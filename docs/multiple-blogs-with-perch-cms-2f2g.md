# 多个博客与鲈鱼 CMS

> 原文：<https://dev.to/juanfernandes/multiple-blogs-with-perch-cms-2f2g>

一个现有的客户让我把他们的博客从/self-help/blog/移到网站的根目录，但是他们想保留自助博客，并有一个博客来发布一般的文章，还有一个博客来发布媒体相关的文章，如新闻发布等。

我想知道 perch 博客应用程序是否有一个内置的方式来做到这一点——它有，但不是以我想象的方式。它确实有`perch_blog_section()`功能，可以让你将博客部分输出到页面上。

您可以将博客分区视为虚拟文件夹，在其中可以存储一些博客文章。所以你还是和以前一样写所有的博文，只是你选择它属于哪个版块。

## 创建章节

要开始，您需要登录到 perch 并创建您的新分区。登录后:

1.  点击博客->版块
2.  点击*添加部分*按钮
3.  添加*标题*【不需要图片】
4.  点击*保存*

对于我的客户，我根据他们将在哪里被展示来创建这些部分*媒体*和*自助*。

你可以将*文章*作为博客的默认部分。

## 多个博客

我们现在可以创建多个博客了。根据您正在处理的网站，您可能需要创建一个新页面或编辑现有页面。

对于我客户的网站，我使用默认模板创建了一个新页面，然后添加了以下代码:

```
<?php
  perch_blog_custom([
    'section' => 'media',
    'sort' => 'postDateTime',
    'sort-order' => 'DESC',
    'template' => 'blog/media_post_in_list.html'
  ]);
?> 
```

如果您已经使用了 Perch，那么上面的代码看起来会很熟悉，但是如果您没有。

*   *第 3 行*——我们不是获取所有的博客文章，而是只调用属于*媒体*部分的博客文章
*   *第 4-5 行* -我们将博客文章按照创建日期排序，并按降序显示
*   *第 6 行*——这指定了要使用的模板。这是专门针对我的客户的网站。你可以使用你自己的或者默认的`post_in_list.html`模板。

使用上述代码，您可以在网站的不同区域创建多个博客。

## 创建内容

现在您已经有了在网站的不同页面上显示来自不同部分的文章的代码，您可以创建博客文章并将它们添加到每个部分。

1.  登录到鲈鱼
2.  转到博客应用程序
3.  创建或编辑帖子
4.  切换到*元和社交*标签
5.  向下滚动并从下拉列表中选择部分
6.  救援

现在，去你网站上那个博客版块的页面，看看你在那个博客版块的帖子。

### 如果你也在移动博客

在我的例子中，我首先将博客文件夹移动到网站的根目录，更改了所有的 URL，在 Perch 设置中更新了博客应用程序的设置，并在`.htaccess`文件中更改了重写。