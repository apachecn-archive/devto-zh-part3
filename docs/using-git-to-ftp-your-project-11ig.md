# 使用 Git 来 FTP 您的项目

> 原文：<https://dev.to/workingwebsites/using-git-to-ftp-your-project-11ig>

Git 已经成为一个版本控制标准，这是有充分理由的。它的分支项目、跟踪和回滚变更的能力使开发变得更加容易！

## Git 和 FTP 之间的差距

当你在某个时候开发时，你把你的作品上传到服务器上。FTP 通常可以做到这一点，有几种方法可以部署您的工作:

A)上传所有文件。
当然，所有东西都会上传，但这很耗时，有时文件会被不应该被覆盖的内容覆盖。

*B)仅上传已更改的文件。*
这更有意义，除了跟踪哪些文件被更改可能会很麻烦。

Git 知道哪些文件发生了变化，而你一直都在使用它，**难道我们就不能用 Git 来 FTP 吗？**

不，不是这样的。Git 是一个版本跟踪器，而不是一个文件管理器。您可以在实时服务器上安装 Git，但有时这并不实际。有了 Git，FTP 就遥不可及了。

## Git-ftp:弥合差距

这就是 Git-ftp 的用武之地。这是一个插件，它向 Git 添加了一组命令，允许您通过 FTP 上传更改过的文件。

正如其[网站](https://git-ftp.github.io/)所说:

> 如果您使用 Git 并且需要将文件上传到 FTP 服务器，Git-ftp 可以通过只上传那些自上次上传以来发生变化的文件来节省时间和带宽。
> 
> 它通过将提交 id 存储在服务器上的日志文件中来跟踪上传的文件。它使用 Git 来确定哪些本地文件发生了更改。
> 
> 您可以轻松地部署另一个分支，或者回到 Git 历史中上传一个旧版本。

嗯，这就够了，不是吗？

**git-FTP 网址:**[**【https://git-ftp.github.io/】**](https://git-ftp.github.io/)

### 注意:Git-ftp 不是您服务器上的 Repo

Git-ftp 并没有使您的服务器成为一个合适的存储库！Git 没有安装在您的服务器上，git-ftp 只是跟踪更改的文件并上传它们。可以上传不同的分支(太棒了！)，但您不能从您的服务器中提取已更改的文件。老实说，我从未觉得这些限制是个问题。

把 git-ftp 看作是管理 ftp 上传的一种方式，而不是版本控制。

## 如何在你的工作流程中使用 git-ftp

我使用 git-ftp 已经有一段时间了，发现它使工作流程更加顺畅。例如，假设我正在向现有项目添加一个名为 FeatureA 的新代码。

过程:

1.  **Create a new branch called 'FeatureA' in development**

    没有必要从服务器中提取，因为它不是一个存储库。官方知识库正在开发中。

2.  **Build and test in development.**

    该代码非常有效！

3.  **Deploy to the live server.**

    一个简单的命令: *git ftp push* 会将新的分支文件发送到服务器。

4.  **Test on the live server**

    啊哦！不像预期的那样工作，不要这么快！

    1.  **Reinstate the 'master' branch**

        将分支“主服务器”推送到实时服务器。分支“FeatureA”已不存在。回到绘图板。

    2.  **Fix the problem, try again.**

        将分支“FeatureA”推送到实时服务器并进行测试。
        成功了！快乐的舞蹈！

5.  **Merge with 'master'**

    我有一个个人原则，即实时服务器只使用“主”分支。我发现如果我有另一个分支，很容易忘记哪个分支正在被使用。所以，现在我将上传另一个分支，只用于测试，但一旦它检查出来，它会被合并到“主”中，“主”会被推送到实时服务器。
    如果有问题，我仍然可以将“主”回滚到上次合并之前。

6.  **Client review and approval**

    在客户签署之前，我会保留分支“功能 a”。即使在它被批准后，我也会将这个分支重新命名为‘feature a _ done’这样的名字。这样可以保留分支，以防我不得不返回，但是“_done”告诉我它是一次性的。当我确定改变是好的时，我通常会摆脱它。

虽然这个过程可能并不适合所有的情况，但我已经使用了一段时间，它对我很有效。我可以使用 Git 功能，并以最小的摩擦通过 FTP 进行部署。我喜欢的另一件事是，这是肯定的事。如果你正在使用一个新的服务器，只要你能 FTP，它应该可以工作。你不必花时间配置服务器来运行 Git 等。专注于你的代码！