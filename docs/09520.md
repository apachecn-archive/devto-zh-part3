# 合适的工具，但是合适的工具可能是 Perl。

> 原文:[https://dev . to/goober 99/right-tool-for-the-job-but-chance-the-right-tool-is-perl-ck8](https://dev.to/goober99/right-tool-for-the-job-but-chances-are-the-right-tool-is-perl-ck8)

*标题有意挑衅。这不是一篇真正关于 Perl 的文章——尽管我确实认为 Perl 通常是正确的工具(至少对我来说是这样)。它是关于为一个项目选择一种语言和学习新语言的一般哲学。*

## [](#chances-are-the-right-tool-is-insert-language-here)正确的工具可能是【在此插入语言】

有时候，在开始一个新项目之前，我会花上几天时间，为我应该使用什么语言而苦恼。我经常创建复杂的文本文件，比较与项目相关的几种不同语言的特性、库和生态系统。我需要合适的工具来完成这项工作。

[![Comic](../Images/55375f9504bdcbcaa66875e7a2866db9.png)T2】](http://www.commitstrip.com/en/2017/03/16/when-we-leave-coders-to-do-their-own-thing/)

在这之后，我通常会选择 Perl。Perl 是我最喜欢的编程语言。这是我最熟悉的。在大多数情况下，Perl 是合适的工具。

你可能有一种你最熟悉的不同的语言。在这种情况下，合适的工具可能是[在此插入语言]。插入您喜欢的编程语言。

像许多黑客一样，我从 HTML 和 CSS 开始。我在 12 岁左右开始学习 HTML 和 CSS。我很快进步到 JavaScript。我花了几个小时在学校的电脑上，试图开发在浏览器中运行的游戏和实用程序。我做了一个屏幕键盘...我真的不知道为什么。我开始开发一个从未完成的 JavaScript《卡坦岛的定居者》。

高中时，我找到了一份课外工作，有了实际的钱。我从 GeoCities 毕业，拥有了自己的域名和廉价的虚拟主机。没过多久，我想在浏览器中做的不仅仅是倒计时和动画。我想学习服务器端编程的魔法。我记得我在学习 Perl 和 PHP 之间做了选择。我不记得我为什么选择 Perl。也许是因为我在一家商场书店清仓时发现了一本关于 Perl 的书。如果我拿起一本 PHP 的书，也许历史会有所不同。如果 Node.js 在那个时候存在，也许我永远不会有动力超越 JavaScript。

Perl 是我爱上的第一种编程语言。我并不讨厌 JavaScript，但我只是把它作为达到目的的一种手段。我想创建自己的程序，JavaScript 和浏览器允许我这样做。对于 Perl，情况就不同了。我喜欢 Perl。做黑客很有趣。

我为我的网站写了自己的 CMS...从零开始。我现在足够聪明，不会再尝试了，但这是一个必经之路(另外，在此之前，我的网站完全是手工编码的 HTML)。

在我大学一年级的时候，Perl 给了我第一个作为学生工作者的付费开发人员的职位(尽管作为学生工作者，这是最低工资，而且每周只限于 10 小时)。学生们在进出每周礼拜仪式时扫描他们的身份证。每学期都需要一定数量的小教堂。当时，卡扫描被保存到网络驱动器上的文本文件中。我编写了一个 Perl 脚本来处理文件，将数据存储在 SQL Server 数据库中，并创建了一个 web 界面，允许院长运行关于学生参加了多少小教堂的报告，并允许学生查看他们还需要参加多少小教堂才能满足本学期的要求。在只用 [CGI.pm](https://metacpan.org/pod/distribution/CGI/lib/CGI.pod) 为我的个人网站编写 CMS 之后，我足够明智地为这个项目选择了 [CGI::Application](https://metacpan.org/pod/CGI::Application) 。(今天，每当我需要创建一个网络应用程序或网络界面时，我通常会使用 [Mojolicious](https://mojolicious.org/) 。)

今天，我在同一所大学担任 DBA。最近，一位同事翻出了我大一时写的那个 web 应用程序的副本(谢天谢地，大学已经把那个自制的解决方案换成了现成的解决方案)。我对这些代码感到震惊。我和 Perl 在十五年里都发生了很大的变化。即使作为一名 DBA，Perl 仍然是我工具箱中最常使用的工具。我需要解决的大部分任务包括从数据库中获取数据，格式化数据(通常是 CSV 或 XML 格式)，有时使用 API 或 SFTP 将数据与第三方集成。这些都是 Perl 擅长的任务。CPAN 有 [DBI](https://metacpan.org/pod/DBI) 、 [Text::CSV](https://metacpan.org/pod/Text::CSV) 、 [Net::LDAP](https://metacpan.org/pod/distribution/perl-ldap/lib/Net/LDAP.pod) 。

## [](#except-when-it-isnt)...除非事实并非如此。

合适的工具通常意味着在一个项目中使用不止一种语言。即使你用 Perl(或 Ruby 或 Python 或 Groovy)编写 web 应用程序的后端，你也需要 HTML 来构建用户将在浏览器中看到的内容，需要 CSS 来对其进行样式化，如果你需要任何客户端交互，还需要 JavaScript。我认为所有这些都是显而易见的，大多数开发人员甚至不会再考虑它。当我谈到为我的下一个 web 应用程序选择一种语言时，我指的是我应该选择我熟悉的 Perl 还是尝试一些新的东西，比如后端的 Erlang。HTML、CSS 和 JavaScript 是已知的。

如果我的应用程序需要查询关系数据库，我将使用 SQL。我尝试过几种不同的 ORM，可能因为我是 DBA 而有偏见，但是我总是发现直接使用 SQL 是更好的体验。我认为很多开发人员试图避免 ORM 混合 SQL 和 Perl。我同意那是丑陋的。我将我的 SQL 保存在单独的文件中，并用 [Template::Toolkit](https://metacpan.org/pod/Template::Toolkit) 加载它。把我的 SQL 当作模板，我能做的比只绑定变量多得多。

虽然 SQL 是查询数据库的正确工具，但大多数数据库供应商已经扩展了 SQL，将其变成了一种图灵完整的通用编程语言。对于 Oracle(工作中的数据库)，这就是 PL/SQL。我知道我是个 DBA，但是我发现 PL/SQL 特别讨厌。它非常冗长。我用几行 Perl 就能完成的工作，却要用几十行 PL/SQL。我们有紧急通知服务，用于在紧急情况下向所有学生和员工发送短信。我们需要定期从数据库中导出手机号码，以特定的格式对其进行格式化，并使用 WebDAV 将它们传输到服务中。我的前任已经将它实现为用 PL/SQL 编写的存储过程。我们需要对输出格式进行一些修改。我决定用 Perl 重写它，我从未后悔过我的决定。

我还认识一个同事，他的做法正好相反。我们最近雇佣了一名新的分析师。他取代的分析师有很多 Perl 脚本来自动格式化文件等等。新的分析师正在 PowerShell 中重写其中的大部分内容。即使我认为 Perl 擅长自动化和格式化文件，PowerShell 可能是适合他的工具，因为他更熟悉 PowerShell。我试图让同事相信学习 Perl 的好处，但最终我没有成功。

我喜欢摆弄 Arduino。我可以在 Arduino 上使用其他语言，但是由于 Arduino IDE 的易用性，Arduino 语言可能是最合适的工具。

我还没有做过任何移动应用程序开发，但我希望有一天能开发一个移动应用程序(即使只是为了好玩)。在这种情况下，合适的工具通常取决于您的目标移动平台支持什么。如果我想写一个 Android 应用程序，我可以选择 Kotlin。对于一个 iOS 应用程序来说，Swift 可能是合适的工具。我也可以选择跨平台框架，比如 LambdaNative、Flutter 或 React Native。

在大多数情况下，性能并不是选择正确工具的重要因素。开发人员的生产力通常比减少几毫秒的处理时间更重要。对于大多数应用程序来说，无论你最熟悉哪种语言都可能足够快。不过也有例外。

我知道电子现在是每个人最喜欢的出气筒，所以我讨厌堆积更多的批评，但它基本上是应得的。我试过用 VS 代码。它很吸引人，有一些很酷的功能，但也很慢。如果我打开了几个选项卡(比如一个 Perl 脚本、HTML 文档和 CSS 样式表)，在选项卡之间切换需要几秒钟。我的工作站是酷睿 2 双核处理器，内存为 8 GB。我知道，我知道，摩尔定律和所有这些，但我不应该被迫升级我的电脑只是为了使用一个文本编辑器。我并不是在尝试玩一个真实的 3D 游戏。也许你有一个用 Electron 编写的应用程序，它足够简单，即使在旧系统上也能运行良好。对你有好处。那么电子可能是适合你的工具。但是我要说，对于 VS 代码来说，Electron 是错误的工具(这并不是说我说的真的很重要)。

我正在做一个项目，我正在编写一个 FUSE 文件系统来安装云服务。我的第一个想法是，像 FUSE 文件系统这样的东西可能是我钟爱的 Perl 不适合的工作。出于性能原因，我认为我需要用 C 或 Rust 之类的编译语言来编写它。然后我看到了一篇关于用 Python 编写网络文件系统的文章，任何来自网络的延迟都比选择 Python 重要。果然有一个带保险丝绑定的 [CPAN 模块](https://metacpan.org/pod/Fuse)。我做了一些测试，Perl 已经足够快了。我不应该怀疑。

我也用 Bash 和 AWK 写脚本。对于简单的系统管理任务，它们是合适的工具。

## [](#so-many-tools-to-choose-from)这么多工具可供选择

我有一个不断增长的编程语言列表，我希望有一天能学会。最近依赖类型引起了我的兴趣，我想学习 Agda(或者我应该学习 Idris)。Rust 似乎是最新的热门，我想学一门编译语言。几乎从我第一次学习编程开始，我就想学习 Ruby，但是我一直没有时间。

我看过一些文章，建议每年学习一门新的编程语言。我喜欢这个想法，但我更喜欢每七年一种新的编程语言。有一本书名叫《七周七种语言》。疯狂，纯粹的疯狂，我说。我有点惭愧地承认我所知道的语言列表很短(按照我学习它们的顺序):JavaScript、Perl 和 Scheme。

[![Books](../Images/32dc1c6e3c0438d8d2ba2bce230fff94.png)T2】](https://res.cloudinary.com/practicaldev/image/fetch/s--A_Va0JXe--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/ed9hwp3rd4r7xclbt14p.jpg)

嗯，我想这取决于你所说的“懂一门语言”是什么意思我认为自己已经掌握了 JavaScript、Perl 和 Scheme。我知道这些成语。我对生态系统非常熟悉，知道什么库和框架最适合某种情况。我可以不用查阅文档就能编写简单的程序。我已经创建了至少一个不平凡的项目。

在我了解 Perl 几年后，可能是受到许多学习新编程语言博客帖子的启发，我决定扩展我的视野。我听说过各种关于函数式编程的精彩事情，所以我想学习一门函数式语言。我考虑过 Haskell，但是我有一个朋友实际上主修计算机科学(我主修宗教，从来没有上过计算机科学或编程课),关于 Haskell 的课程是他最难的课程之一，所以我寻找一种更温和的方法来介绍函数式编程。我被 Lisp 吸引，并最终决定(出于我已经不记得的原因)使用 Scheme 方言。

我对 HTML、CSS、SQL、Bash、AWK、YAML、JSON 也很熟悉，这个列表还可以继续下去。我认为这是理所当然的。它们是开发人员必备的工具。我猜如果你是一个只为嵌入式系统编写 C 语言的嵌入式软件工程师，你可能不知道 HTML 和 CSS。如果你是一名 Windows 开发人员，也许你不需要 Bash(但是我假设你知道一些类似 PowerShell 的东西)。

编程语言有很多共同点。如果你懂 JavaScript，即使你从未使用过 Python 或 C，你也可能理解很多用这两种语言编写的源代码。事实上，我认为对于一个开发人员来说，能够阅读你不懂的语言的源代码，至少能够识别代码的某些部分是做什么的，这是一项基本技能。

如果两种编程语言使用两种不同的范式(比如面向对象和函数式)，它们可能比同一范式的两种语言更不同。这就是为什么从每种范式中学习至少一种语言是有用的，但即使是 C++黑客也不应该有太多的麻烦来找出 Haskell 或 OCaml 源代码。

我已经修复了用 C、COBOL(是的，我们的 ERP 的一部分仍然是用 COBOL 写的)、Java、PHP、Python 和 Ruby(可能还有一些我已经忘记了)写的程序中的错误，或者对它们做了一些小的修改。我不考虑我所知道的这些语言中的任何一种。我能够利用我的编程知识浏览源代码，识别代码的相关区域，在该区域查找任何不熟悉的关键字或语法，然后进行必要的修改。

我工作的大学最近改变了我们使用的 LMS。支持 LMS 的分析师可以将以前 LMS 中的等级导出到 CSV，然后导入到我们的 ERP 中。新的 LMS 没有手动导出成绩的功能。相反，您可以配置一个 HTTPS 端点，它以 CSV 格式向其发布成绩。该文档给出了一个 PHP 脚本示例，该脚本可以将发布到端点的分数保存到一个文本文件中。当然，我们可以用 Perl、Ruby、Python 等语言编写自己的端点。，但是为了节省时间，我们使用了文档中的例子。我不知道 PHP，但是我能够查找足够的关于例子中的关键字的信息来对它做一些小的修改。(现在分析师要求再做一些修改，我正在认真考虑用 Perl 重写它，使我更容易维护。)

为了省钱，我们最近也从专有的 COBOL 编译器切换到 GnuCOBOL。我们的 ERP 供应商只正式支持专有编译器。我们有一个足够老的分析师，他实际上是从 COBOL 编程开始的。他的帮助(以及阅读 Wikipedia 上关于 COBOL 的文章)足以让我对 COBOL 进行一些修改，以便用 GnuCOBOL 编译。我实际上修改了 Makefile(另一种语言本身),在编译 COBOL 之前使用 sed 来修改它。这样，对 ERP 的升级不会覆盖我们对 COBOL 的定制。

我还在我感兴趣的几种语言的网站上阅读了入门教程，有时还用这种语言解决了几个项目欧拉问题。我不考虑我知道的那些语言。直到我真正用它构建了一些东西，我才认为自己懂这门语言(不，一些项目欧拉问题不算)。

我在 Go 网站上完成了[互动之旅](https://tour.golang.org/)。我不喜欢 Go 语言(我觉得它在告诉我该做什么)，但我认为 tour 应该是语言教程的黄金标准。每种语言都应该在他们的网站上有一个像这样的互动教程。

## Perl 的喜悦

当我想到我需要用编译语言编写上面提到的 FUSE 文件系统时，我参加了这次旅行。令人沮丧。对我来说，编程是我喜欢的事情。是的，我为工作编程，但我也在业余时间为娱乐编程。我喜欢用 Perl 编程。围棋似乎并不有趣。如果我对这个项目使用 Go，我担心我可能不会喜欢它。

我认为这是阻碍我学习更多语言的一个因素。如果我把所有的时间都投入到学习一门新的语言中，但后来我不喜欢这门语言，该怎么办？

我也可能喜欢这种语言，如果我不试一试，就永远不会发现。在掌握了几年 Perl 之后，我学习了 Scheme。我非常喜欢这个计划。我不像使用 Perl 那样经常使用它。主要原因是图书馆。我需要的几乎所有东西都有一个 CPAN 模块。即使球拍及其电池包含哲学和一个软件包库也无法接近 CPAN 上可用的东西。

我在 2011 年学习 Scheme(至少那是我第一次在 GitHub 上提交 Scheme 代码的日期)。如果我不想让我每七年掌握一门新语言的平均水平下降，我最好开始学习下一门语言。我想在一个周末使用[光线追踪创建一个光线追踪器。也许我会用铁锈来写。或者 OCaml。哦，不，我觉得几天的研究和详细的文本文件来了。也许我最终会用 Perl 来做。](https://github.com/petershirley/raytracinginoneweekend)

*托德·夸肯布什在 Unsplash 上拍摄的封面照片。标题灵感来源于这篇[文章](https://dzone.com/articles/polyglot-programming-good)。*