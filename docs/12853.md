# 测试自动化初学者指南

> 原文:[https://dev . to/Angela Riggs/a-初学者-测试指南-自动化-4f70](https://dev.to/angelariggs/a-beginner-s-guide-to-test-automation-4f70)

*【最初发表于 [Techwell 的 sticky minds](https://www.stickyminds.com/article/beginners-guide-test-automation)】*

如果您是自动化测试的新手，您可能会从许多问题开始:我如何知道哪些测试要自动化？为什么自动化测试对我和我的团队有用？我如何选择一个工具或框架？自动化测试的选项非常开放，您可能会感到不知所措。

我想帮助你把一些“未知的未知”变成“已知的未知”！自动化的目标是创建易于理解、维护和交付的抗脆弱测试。我将通过回答一些当我们第一次开始自动化测试时很多人都有的问题，让你更接近那个目标，我还会给你一些值得考虑的附加问题。

## [](#introducing-automation)引入自动化

一旦你决定开始自动化，下一步可能是向你的团队介绍这个想法。自动化可能不是你正在做的唯一的工作，但它将是一个很大的工作量！试图把它挤在你的日常工作中意味着它可能不会最终完成。为了在自动化工作上取得真正的成功，您需要得到团队的认可，并为此投入时间和精力。

我首先解释了为什么自动化很重要，以及它如何对我们的工作有用。我试图与工程团队建立的一个想法是，没有一种测试应该对质量负责。不同的方法服务于不同的目的，它们都是整体的一部分。

自动化对于测试低风险的功能是有用的，这将您从高风险、高优先级或者更复杂的功能上解放出来。另一方面，也许您有一些需要定期测试的高风险项目，为这些项目创建自动化测试会对它们产生更多的信心。

作为一个团队，我们最大的风险是从现有的 monolith 存储库过渡到新的微服务代码库。提供创建自动化回归测试得到了团队的大力支持:工程师从中受益，因为他们可以更有信心他们的工作不会破坏任何东西，而我们的产品负责人有信心在发布到产品之前，任何破坏性的变化都会被迅速发现。这也让我受益匪浅，因为我现在要自动化所有的重复测试场景了！

当您提议自动化时，考虑团队的需求是什么，然后确定如何以平衡这些需求的方式包含自动化。如果好处更容易被感受到，你就更有可能得到支持，所以问问你的产品所有者或开发者什么对他们来说是重要的。总的来说，目标是确保您的自动化工作得到团队的支持，这样您就可以专注于创建支持团队的测试。

## [](#choosing-a-tool)选择工具

开始自动化测试时最常见的问题之一是“我应该使用什么工具或框架？”和许多事情一样，答案是“视情况而定”。有几个问题你需要考虑:

*   谁在编写自动化测试？
*   你在做什么样的测试？
*   对于付费框架，你的部门有预算吗？
*   如果工具是开源的，是否有好的文档和社区支持？

如果开发人员正在编写单元测试，他们可能会用与代码库的其余部分相同的语言来编写。如果他们使用 PHP，他们可能会看 PHPUnit 对于 JavaScript，他们可能会查看 Jest。这里的目标是让开发人员尽可能容易地将测试合并到他们的常规开发工作流程中。因此，与其对他们用于测试的框架进行规定，不如将重点放在帮助他们找到满足其需求的正确工具上。

当我考虑自动化工具时，我的主要考虑通常是在基于代码和无代码、开源和付费之间进行选择。

作为一名 QA 工程师，我通常同时负责多个工程团队的 QA 和测试。让我单独负责所有团队的自动化是不可行的，所以我用开发人员也将参与这些测试的想法来处理自动化。这导致我选择基于代码的框架，因为它遵循开发人员熟悉的工作模式，并且它将工作保持在与代码库相同的 repo 中。无代码解决方案意味着学习一个全新的工具，需要跟踪另一个登录，并且测试与他们每天已经使用的代码库有所不同的内容。

当考虑开源和付费时，我经常遇到预算限制，这促使我选择开源。在比较开源选项时，我会考虑工具维护的活跃程度——是否有许多未解决的问题和拉式请求？代码库最后一次更新是什么时候？我查看文档，发现安装和开始编写我的第一个测试是多么容易。如果可以的话，我会询问其他测试人员是否有过使用该工具的经历，以及他们对该工具的看法。

请记住，您的需求和情况可能与我的不同。这些信息并不是要告诉你你的答案应该是什么，而是给你一些思考的东西。目标是考虑您需要从自动化工具中得到什么，并理解如何筛选选项以找出满足您需求的工具。

## [](#writing-your-first-test)编写你的第一个测试

当我开始编写我的回归测试时，我专注于让测试通过——这是目标，对吗？我会让用户旅程的一部分通过，然后开始为下一部分编写测试。每当我运行测试时，看到不断增长的绿色检查列表是令人兴奋的。最终，我测试并通过了我们的三个主要用户旅程。我被自动化的力量冲昏了头脑！

我还有一个巨大的测试文件。

这有几个缺点。首先，所有的用户旅程都作为一个单一的测试流程进行测试。因此，如果在这个过程中有什么东西失败了，所有后续的测试都是无用的，因为它们现在也会失败。如果发生了变化，更新这个文件也会变得更加困难，因为我必须检查用户旅程中的每一步，看看还有什么会受到变化的影响。简而言之，我创建了一个脆弱的测试。

为了改进我的自动化套件并使其更具弹性，我将用户旅程分成更小的块，并将这些块放入它们自己的测试文件中。这是一个相当乏味的过程，因为我现在必须重新运行每个测试，以确保我没有在提取过程中破坏它。

在我最初对自动化测试感到兴奋的时候，我还提交了我们的登台站点的基本身份验证。我想稍后我会带着适当的设置回到凭证上，因为我的重点是编写测试并让它们通过。幸运的是，我意识到我在提交之前做了什么，并且我能够做一些 Git 操作来删除提交的凭证。

这一经历虽然乏味，却教会了我在开始写测试之前列出测试大纲的重要性。大纲让我更好地估计创建测试可能需要的时间和精力，如果我的时间更有限，它可以帮助我区分哪些是最重要的。我还意识到安全地处理凭证应该是大纲中的首要任务之一。

重要的是不要陷入你需要编写通过测试的想法中。相反，集中精力创建你的测试，使它们易于运行和维护，并且尽可能的安全和抗脆弱。

## [](#best-practices)最佳实践

安全性和测试结构只是您在编写自动化测试时需要考虑的几件事情。以下是我刚开始时不知道需要问的一些问题:

*   这些测试在数据上相互依赖吗？
*   从日志中很容易理解故障吗？
*   其他人更新您的测试有多容易？

理想情况下，您的测试可以彼此独立运行。如果他们的数据依赖于其他测试，一个测试的失败会产生连锁反应。无论您是使用 fixture 数据在单元或服务级别进行测试，还是在 UI 级别测试用户旅程，都要确保测试可以独立运行。这不仅有助于您创建抗脆弱的测试，而且当失败发生时，它使查明失败变得更加容易。

你会失败，但这并不意味着你写了一个糟糕的测试。相反，这意味着你写了一个有用的测试，却失败了！一旦一个测试失败了，你需要调查原因，有一些方法可以让你自己变得更容易。

当你写测试的时候，不要仅仅停留在快乐的道路上——确保你包含了错误信息。如果你的测试没有错误信息，失败只是告诉你测试没有成功；它没有告诉你为什么不成功。清晰的错误消息有助于缩小故障发生的范围。例如，抛出类似“服务没有返回预期的 200 响应”这样的错误比“它没有工作”或无声的失败要清楚得多。

出于同样的原因，你的测试描述和测试步骤应该写得清晰明了。测试输出就像一个日志，所以你应该牢记这一点来编写你的自动化。考虑类似“It 404s”与“如果文件不存在，则发送 404”的描述第一个是通用的，除了 404 之外不提供任何信息。第二个例子提供了更多的信息，因为它告诉我，当测试没有找到文件时，我正在检查预期的 404 响应。

拥有清晰的步骤和错误信息也使得测试套件的维护和更新变得更加容易，不管是你还是其他人。一旦自动化到位，团队中的其他人也可能开始做出贡献。如果你已经建立了一个好的编写测试的模式，其他人从你停止的地方继续就相对容易了。

## [](#go-forth-and-automate)往前走，自动化

重要的是要记住，它不是关于任何事情的唯一正确答案。它是关于理解你需要问的问题，以及如何找到对你和你的团队有用的答案。获得对自动化工作的支持，创建一个实用的基础设施，并为您的需求选择合适的工具，将为您开始自动化工作打下良好的基础。

因此，满怀信心地前进并实现自动化吧。你可能还没有所有的答案，但是有问题是一个很好的开始！