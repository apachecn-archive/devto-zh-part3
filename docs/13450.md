# 可伸缩性:向不同的方向发展系统

> 原文:[https://dev . to/vaidehijoshi/scalability-growing-a-system-in-different-directions-485j](https://dev.to/vaidehijoshi/scalability-growing-a-system-in-different-directions-485j)

许多关于分布式系统的对话之所以出现，是因为每个人都在谈论一个特定的话题:规模。当人们谈论规模时，他们通常指的是系统本身的规模。说到分布式系统，事实证明，大小真的很重要。

计算领域本身有着惊人的悠久历史；然而，当涉及到分布式系统时，情况就有点不同了。我们今天所知道的分布式计算开始于 20 世纪 60 年代末 70 年代初，那时计算机开始在网络上运行(想想以太网！).十年之内，分布式计算变得越来越普遍，并得到了广泛的研究。有趣的是，随着一个*大型*分布式系统:互联网的创建，系统开始变得“分布式”。到 20 世纪 80 年代，计算机开始变得越来越普遍，访问互联网(和其他网络)变得越来越普遍。在这里，我们不去探究太多的历史细节，我们只能说，越来越多的机器出现了，它们之间的联系也越来越紧密。

这种“增长”在分布式系统领域有自己的名字。事实上，如今许多工程师(甚至是非分布式系统工程师)都相当宽松地使用它。当然，我说的是可伸缩性。因此，让我们深入了解一下什么是可扩展的分布式系统，以及系统增长的不同方式！

### [](#how-will-it-scale)(如何)会缩放？

系统中可伸缩性的概念可能意味着许多不同的东西，这取决于我们正在处理的系统，以及系统的哪个部分正在增长。但是从更一般的角度来说，我们可以说系统的 ***可伸缩性*** 反映了系统在规模增长时处理任务的能力。同样，我们可以说一个 ***可扩展的*** 系统是一个在开始增长时能够继续工作并有效运行的系统。

> 但是到底是什么在“成长”呢？系统的哪一部分在增加？

当我们提到系统如何增长时，我们可能是在谈论系统在任何给定时间增长的不同方面。换句话说，一个系统可以很容易地向不同的方向发展。

<figure>[![](../Images/ea91bb2481abed2514dd8254d29f5b04.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--QelZZ4Zo--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/1024/1%2Aqqzz0m1VbbmvLneAhEUYng.jpeg) 

<figcaption>可扩展的分布式系统:一个定义。</figcaption>

</figure>

例如，我们可以说一个系统可以随着使用它或与之交互的用户数量的增加而增长。如果一个有 5，000 名用户的系统突然经历了用户数量的上升，看到了 50，000 名用户…嗯，这当然是一种增长！

<figure>[![](../Images/fb811d14f217357e32396dc7af53d4c7.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--O_dfP35V--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/1024/1%2Ashkcwi5bdUqUQP_SLBfEHw.jpeg) 

<figcaption>一个系统能够成长的方式有哪些？</figcaption>

</figure>

然而，一个系统也可以根据它自己的资源来增长。例如，一个系统可能会在某一天收到大量的流量，并最终有大量的数据资源需要处理。或者，系统可能在某段时间内经历高使用率，这可能导致在给定时间运行大量进程。再举一个例子:一个系统可以增加它所拥有的实际物理机器的数量；这可能需要增加实际机器或服务器的数量(不仅仅是进程！).无论所讨论的资源是实际的数据、流程还是机器，这些都代表了系统在任何时候都可能需要增长的方式。当然，正如我们之前发现的，即使只是用户的冲击也是系统的一种增长。

事实上，现实世界中的分布式系统很可能不会只向一个方向发展，或者在真空中发展。而是同时向不同的方向生长。例如，由于用户的增长，我们可能会发现数据资源的数量也会随之增长。由于数据量更大，我们可能会添加更多的服务器或数据库来处理增加的资源。

> 现实生活中的分布式系统倾向于以多种方式增长。

<figure>[![](../Images/1aedf4f9d9d5f8c90bd728c38d53fc20.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--e5N4sZpS--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/1024/1%2A5u0wIs7RVBsAygy5-Et5XA.jpeg) 

<figcaption>衡量可扩展性的形式。</figcaption>

</figure>

考虑到一个系统可以以如此多不同的方式成长，我们有理由谈论一个基于 T2 方式成长的系统的可伸缩性。事实证明，有几个不同的术语可以帮助我们更具体地描述*一个系统如何*扩展。

我们可以用三种主要方式来衡量分布式系统的可伸缩性:规模可伸缩性、地理可伸缩性和管理可伸缩性。这三种衡量系统可伸缩性的方式通常被称为 ***可伸缩性维度*** 。

让我们更深入地探讨每一个问题。

### [](#growth-by-numbers)按数字增长

第一个可伸缩性维度位于我们已经讨论过的两个事物的交叉点:用户和资源(无论它们是什么类型的资源)。我们知道这两个方面的数量都会增加；当他们这样做时，我们说系统的*大小*增加了。

<figure>[![](../Images/63964803d57b83a9e793768577770fa1.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--yju2oSKC--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/1024/1%2AGMxioWZujuANdnoxpKwSWg.jpeg) 

<figcaption>尺寸可扩展性:一个定义</figcaption>

</figure>

当分布式系统的规模增加时，我们需要考虑系统的规模可伸缩性，或者当系统的规模(用户或资源)增加时，为了继续有效地执行，系统将做什么。一个 ***大小可扩展的*** 确保其系统对其用户保持高性能和可用性，不管它可能有多少资源。

比如说，我们的分布式系统在特定的一天接收到高流量；由于高流量，我们可能会意识到我们系统中的数据库数量或服务器数量无法在这个高流量的日子里处理大量的请求输入。

我们可能会选择增加数据库的大小，或者选择添加更多的服务器，以便在几个小时内处理更大的数据流。但是，如果我们的系统真正按照大小进行扩展，那么添加更多节点应该不会中断系统的操作和性能。换句话说，如果我们决定添加更多的节点来处理资源或用户的增加，我们不应该在这样做的同时降低系统的性能或效率。如果我们选择添加更多的节点，我们的系统性能应该继续允许系统按照我们用户的预期工作…当然也不应该让他们的速度变慢！

### [](#growing-into-further-complexity)变得更加复杂

到目前为止，我们已经讨论了在一个正常运行的系统中添加更多的资源或用户。但是故事还没完！随着系统的增长，我们可能会发现，向组合中添加更多的节点/用户并不能完全解决所有问题；事实上，有时它会带来自己无法预料的后果。

乍一看，向系统中添加更多的节点或资源并就此结束似乎很容易。然而，对于一个复杂的问题来说，这是一个有点幼稚的方法。在衡量分布式系统的可伸缩性维度时，地理和管理可伸缩性稍微有些微妙。尽管规模可伸缩性似乎是考虑如何发展分布式系统的一种显而易见的方式，但这两个维度并不那么直接。但是我们忽略他们就是失职！

所以让我们开始吧。

#### [](#growth-by-distance)按距离增长

当一个系统开始增长时，简单地向它添加更多的节点，并假设我们的可伸缩性问题已经解决了，这似乎很容易。很简单，对吧？不完全是这样(没有什么事情是那么简单的)。

当我们的系统在规模上开始显著增长时，我们不得不考虑另一个问题:我们的资源到底在哪里？这就是地理可扩展性发挥作用的地方。一个 ***地理上可扩展的*** 系统是这样一个系统，它可以持续有效地运行，并且可以被它的用户访问，而不管用户和系统资源之间的距离。

<figure>[![](../Images/829d89efc6ad81f43ac103997a795608.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--cGA2CbNf--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/1024/1%2ABHtCgS4-vhw2ZoprR-RjGA.jpeg) 

<figcaption>地理扩展性:一个定义</figcaption>

</figure>

起初，这可能看起来是一个奇怪的或者可能是荒谬的方面，但是请继续关注我。假设，为了使我们的系统规模可伸缩，我们添加更多的节点来处理更高的用户或资源负载。如果这些节点是服务器，那么这些服务器可以位于一个地方，也可以位于不同的地方。如果我们要添加像整个服务器数据中心这样重要的东西，我们的新数据中心可能会离我们现有的数据中心更远。

向我们的系统添加另一个节点这一看似简单的行为实际上增加了我们创建一个系统的最终目标的复杂性，该系统将继续高效地执行并且可以被我们的用户容易地访问。根据新旧节点之间的位置以及节点与资源/用户之间的距离，我们很可能*向系统中添加*新节点，甚至没有考虑它们之间的*距离*。系统中资源之间的距离是它们之间的实际物理空间，或地理距离。

但是为什么地理距离很重要呢？因为系统的各个部分发送数据和相互通信需要时间。可以理解的是，同一个房间中的两个节点可以比位于另一个房间中间的节点更快地相互发送信息。不幸的是，这只是…物理(或者可能是地理)的限制？).无论您的系统通信和发送数据/消息的速度有多快，都有一些地理和物理限制，即使是非常好的 wifi 也无法解决。在一个地理上可扩展的系统中，添加新节点不应该减慢它们之间通信的时间；换句话说，添加另一个节点应考虑该节点相对于系统其余部分的物理位置。

#### [](#growth-by-effort)靠努力成长

最后，随着系统规模和位置的增长，最后一个问题仍然存在:谁来监管这个不断扩展的系统中新增加的部分？输入管理可伸缩性。在管理上可扩展的*系统中，向系统中添加更多的节点不需要在管理这些新节点方面有显著的提升。如果一个系统由多个管理员(或者是一个经理，或者是一个正在运行该系统并与其他人共享该系统的组织)使用，并且每个管理员都希望能够使用同一个系统，即使其他人正在与他们共享该系统，这一点就特别重要。*

 *<figure>[![](../Images/ec042f411719dcbcbd102a941d478169.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--QeP84ZlT--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/1024/1%2ALtCcn-vGezfcf8YFTh6XDA.jpeg) 

<figcaption>行政扩展性:一个定义</figcaption>

</figure>

管理可伸缩性是另一个“容易忘记”的可伸缩性维度。正如我们很容易认为我们可以简单地在某个问题上扔一个节点来使我们的系统扩展一样，我们也很容易忘记将资源添加到系统中意味着在未来采取某种形式的努力来维护它们。

在管理上可伸缩的系统中，随着系统的增长向系统中添加更多的资源不应该需要大量增加管理开销。如果我们要添加一个包含节点的完整数据中心来扩展我们的系统，那么我们必须能够计算出维护这些新节点并使它们保持运行所需的人工工作量(人力工程和管理时间)(回想一下，我们必须让它们保持运行，以便为我们的用户保持系统的性能！).

很多时候，当开发人员谈论“使某些东西具有可伸缩性”时，他们实际上只是在考虑系统的大小可伸缩性维度。然而，事物可以用多种方式来衡量，分布式系统也是如此。规模可伸缩性是问题的一个方面，但是考虑地理和管理可伸缩性也很重要！随着我们对分布式系统的深入研究，我们会发现每一种更细微的扩展形式都有自己的问题需要解决。

但那是改天的问题！

#### [](#resources)资源

在我阅读可伸缩性的维度时，我发现还有很多东西需要学习。随着系统变得越来越大，要回答的问题和要考虑的情况也开始增多！这篇文章只是触及了系统可伸缩性的表面；如果你有兴趣进一步阅读，看看下面这些材料。

1.  [分布式系统简介](https://link.springer.com/content/pdf/10.1007%2Fs00607-016-0508-7.pdf)，马腾·范·斯汀&安德鲁·s·塔南鲍姆
2.  [关于系统可扩展性](https://resources.sei.cmu.edu/asset_files/TechnicalNote/2006_004_001_14681.pdf)，查尔斯·温斯托克&约翰·古德诺
3.  [以娱乐和盈利为目的的分布式系统](http://book.mixu.net/distsys/single-page.html)，Mikito Takada
4.  [分布式系统介绍(讲义)](http://cse.csusb.edu/tongyu/courses/cs660/notes/chap1.php)，佟丽玉博士

* * **