# 计算器第二贴

> 原文：<https://dev.to/kevinsarav/calculator-second-post-3jp8>

今天，我将讨论到目前为止我在计算器项目上的工作。从现在开始，我会试着谈论我的项目的挑战，而不是描述每一个细节。我会将我的项目细节作为评论，这样我的帖子可以更简短。

我已经修复了我在第一篇文章中注意到的问题。我在做项目时的主要困境是如何处理小数点。当我输入的数字是双精度格式时，我试图想出一种方法来处理小数点，但我想不出一种方法。主要问题是当小数点后没有任何内容时。如果什么都没有，那么我必须放一个 0 作为占位符，但是这样做会影响我如何在小数点右边添加更多的数字。我不能省略 0，因为那样的话，double 就没有意义了。

为了解决这个问题，我尝试用一堆布尔值来告诉我什么时候小数点右边没有东西，什么时候小数点里面有东西。所有这些无关的价值让我更难判断什么做什么以及如何让项目最终成功。除了小数点，我得到了其他一切工作正常。

为了解决这个问题，我重新设计了这个项目，这样我的输入 ArrayList 现在可以像操作 ArrayList 一样保存字符串，而不是 doubles。我认为这对于计算器程序的工作方式更有意义，因为它们把数字和小数钉在右边，把东西移到左边，就像是一个字符串一样。对于算术运算，我一直在创建一个变量，它是字符串输入的双精度表示。如果在你按下一个操作时，这个输入最终以一个十进制结束，我的程序将删除这个十进制。

对于百分比法，我发现了我想做的事情。我正试图根据 Windows 计算器的行为来模拟我的项目。如果你只是单独输入一个数字并试图得到它的百分比，Windows 计算器会把这个数字变成 0。百分比按钮只有在第一次按下操作后才有意义。然后根据运算，如果它是正的或负的，百分比将得到目前为止的总和，并得到那个的百分比。例如，10 + 20 + 50%将产生 10 + 20 + 15。如果是乘或除，输入将被转换成百分比表示。比如 10 * 50%会变成 10 * 0.5。对于我输入的数字，我可以用一个字符串数组列表更容易地做到这一点。

字符串数组列表也使我的删除操作变得更加容易。我只需要使用 substring 并包含除最后一个值之外的所有内容，不管它是小数还是数字。输入一个数字的时候，我只是做了+=(字符串数)把数字加到右边。小数也是一样:我只是把它加到末尾。对于我的计算方法，我发现两个 For 循环是不必要的。我只使用了一个 for 循环，并在数组列表中需要执行操作的地方获取了值。

* * *

我的项目的结果是，我能够毫无问题地按下数字按钮。但是，我注意到当我按下任何算术运算时，都会抛出一个错误消息。我觉得跟我吸毒有关。size()来获取数组列表的大小。我相信我记得以前在我的大学课堂上遇到过这个问题。大小()。我可能不得不用 for 循环遍历每个值来得到长度。我将在下一篇文章中再次讨论这个问题。此外，我需要测试按下数字是否会将它们存储在适当的数组列表中。到目前为止，我所知道的是，当按下数字时，不会出现错误。

另外，我想简单讨论一下我在软件工程课上做的一个小组项目。我的小组正在做一个库存管理系统。这将涉及到使用 SQL、Angular、Apache、HTML、CSS 和一大堆其他东西来工作。我很高兴能参与这个项目并学到新的东西。我会让你们了解最新情况。下次见！