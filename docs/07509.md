# 保护网络

> 原文:[https://dev.to/cheahengsoon/secure-the-network-58ac](https://dev.to/cheahengsoon/secure-the-network-58ac)

**网络安全组**

*   使用 Azure 资源管理器部署模型创建的虚拟机可以通过使用直接分配给虚拟机的公共 IP 地址直接连接到互联网
*   使用 Azure classic 部署模型创建的虚拟机通过云服务与互联网资源通信，该云服务被分配了公共 IP 地址，称为 VIP 地址
*   驻留在云服务中的虚拟机共享该 VIP 地址，并通过使用端点与互联网资源建立通信
*   网络安全组有助于为您使用任一部署方法创建的虚拟机提供高级安全保护
*   NSG 包含指定是批准还是拒绝流量的规则
*   每个规则由以下属性组成:
    *   名字
    *   方向
    *   优先
    *   接近
    *   源 IP 地址前缀
    *   源端口范围
    *   目标 IP 地址前缀
    *   目标端口范围
    *   草案
*   入站和出站流量有预定义的默认规则
*   您也可以创建自定义规则
*   您可以设计 NSG 来隔离安全区域中的虚拟网络，就像内部基础架构中使用的模型一样
*   您还可以将 NSG 分配给 Azure classic 部署模型中的单个计算机，以控制虚拟机的传入和传出流量
*   在 Azure 资源管理器部署中，您可以将 NSG 分配给 NIC
*   您可以将 NSG 创建为资源组中的资源，但是可以与订阅中存在的其他资源组共享它们

**部署网络虚拟设备**

*   UDR 是 Azure 中的自定义路由，它覆盖 Azure 的默认系统路由或将路由添加到子网的路由表中
*   udr 和 NSG 提供(OSI 模型的)第 3 层和第 4 层安全性
*   网络虚拟设备(NVAs)提供第 7 层(应用层)安全性
*   您可以在许多不同的架构中将 NVA 部署到外围网络![Alt text of image](../Images/c9fb73a7ce315b940c3ec463c0a1e1bb.png)

**为 VPN 配置强制隧道**

*   强制隧道允许您通过站点到站点 VPN 隧道将所有互联网流量重定向或“强制”回您的本地位置，以进行检查和审核
*   如果没有强制隧道，来自 Azure 中虚拟机的互联网流量总是从 Azure 网络基础设施直接传输到互联网，而不允许您检查或审计流量![Alt text of image](../Images/dbe62acca842536233718d2063468b54.png)

**Azure 防火墙功能**

*   Azure 防火墙是一种托管的、基于云的网络安全服务，有助于保护您的 Azure 虚拟网络资源
*   它是一款全状态防火墙即服务，具有内置的高可用性和无限制的云可扩展性
*   您可以跨订阅和虚拟网络集中创建、实施和记录应用程序和网络连接策略
*   Azure 防火墙为您的虚拟网络资源使用静态公共 IP 地址，允许外部防火墙识别来自您的虚拟网络的流量![Alt text of image](../Images/0dcf15d9bcb338375618a8fe3aaffc4b.png)

**创建防火墙规则**
Azure 防火墙的一些关键特性包括:

*   内置高可用性
*   无限制的云可扩展性
*   应用程序完全限定的域名(FQDN)过滤规则
*   网络流量过滤规则
*   FQDN 标签
*   出站 SNAT 支持
*   入站目标网络地址转换(DNAT)支持
*   Azure 监视器日志记录

**配置网络上的管理员访问**
有几种方法可以帮助安全访问 Azure 中运行的 Windows 和 Linux 虚拟机，包括:

*   嘘
    *   使用安全外壳(SSH)密钥对，您可以在 Azure 中创建使用 SSH 密钥进行身份验证的虚拟机，从而无需密码即可登录
*   连接到虚拟机
    *   使用公共 IP 地址创建与虚拟机的 SSH 连接
*   打扫
    *   当不再需要资源组、虚拟机和相关资源时，请使用 Remove-AzResourceGroup cmdlet 将其删除
*   RDP
    *   远程桌面协议(RDP)使您能够访问 Azure 中运行的角色的桌面
*   我们建议在 Azure 中管理虚拟机时使用特权访问工作站(paw)和 VPN
*   PAWs 为敏感任务提供了一个专用的操作系统，并针对互联网攻击和威胁媒介提供了额外的保护![Alt text of image](../Images/fc69af2e98719b8919722156faf7eae0.png)

**配置 Azure DDoS 保护**

*   DoS 攻击的目标是阻止对服务或系统的访问
*   僵尸网络是个人在主人不知情的情况下控制和使用的互联网连接系统的集合
*   分布式拒绝服务(d DoS)是一组旨在破坏目标可用性的攻击类型
*   作为僵尸网络的一部分，DDoS 涉及许多向目标发送流量的系统
*   Azure DDoS 保护与应用程序设计最佳实践相结合，可防御 DDoS 攻击
*   DDoS 保护提供以下服务等级:
    *   基本:作为 Azure 平台的一部分自动启用
    *   标准:在基本服务层上提供额外的缓解功能，专门针对 Azure 虚拟网络资源进行了调整
*   DDoS 保护标准可以缓解以下类型的攻击:
    *   体积攻击
    *   协议攻击
    *   资源(应用层)攻击![Alt text of image](../Images/cfdb7cfd9a8a25bee63e3b5d53efe05c.png)