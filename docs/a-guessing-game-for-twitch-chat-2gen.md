# Twitch 聊天的猜谜游戏

> 原文：<https://dev.to/flagrama/a-guessing-game-for-twitch-chat-2gen>

几个月前，一个朋友找到我，说要开发一个 Twitch 聊天机器人，在他们聊天时运行一个猜谜游戏，当时他们正在玩一个[随机数发生器](https://www.gamecrate.com/beginners-guide-what-are-randomizers/19361)。除了观看游戏中出现的东西，并希望出现需要最长游戏时间的最糟糕的物品组合之外，聊天还可以与游戏互动。

我接受了它，并使它达到了一个他满意的非常可行的状态。在那之后，虽然我开始认为这可能是其他人也想有机会使用的东西。因此，我开始开发一个基于网络的版本，它不需要机器人在用户的计算机上本地运行。

你可以去[猜谜游戏网站](https://guessinggame.flagrama.com)亲自尝试一下。我为它的视觉效果不太好而道歉，毫无疑问，它根本没有一个响应性的设计。目前，它处于最小可行产品状态。

我还开了一个 Patreon 页面，试图为这个项目提供资金，这样我就可以花更多的时间在这个项目上。这可能也是让[快速了解如何使用网站和机器人](https://www.patreon.com/posts/first-release-25607673)的最好地方。

这篇文章的其余部分是关于我让网站发展到这一步的旅程。

# 开端

起初，我想尝试在我已经为朋友创建的机器人周围包装一个 web 界面。听起来不错，听起来也很容易。不幸的是，现有的机器人与他的特定需求联系过于紧密，试图围绕这些需求编写任何东西都非常耗时，甚至需要做大量工作才能达到对等状态。除此之外，考虑到你在为一个人编写时所做的所有假设，为一个用户设计的东西很难被很多用户同时使用。

除此之外，我还尝试了以前从未使用过的技术。也就是一个 NoSQL 数据库(MongoDB ),甚至在这之前它就已经引起了很多麻烦。我不建议你第一次尝试使用新的东西去做一个更大的项目。在尝试实际使用 MongoDB 之前，我肯定应该开发几个更小的应用程序来了解它的古怪之处。

# 从零开始

你可能听说过不应该从头开始重写应用程序。我并不是说我不同意这种哲学。如果你继续从头开始一遍又一遍地重建，你将永远不会真正增加和改进你的软件。你最终会用几种不同的方式编写同一个软件，所有这些方式都有你不喜欢的地方。然而，我相信凡事都有时间和地点。

1.  如果你对另一种技术比你现在使用的技术更适应，并且你知道使用它你可以更快地完成工作。

2.  “一个让用户运行猜谜游戏的聊天机器人”和“一个允许无数用户在其聊天中启动和管理猜谜游戏的网站”是非常不同的目标。

在这个猜谜游戏网站上，我强烈地感受到了这两点。我对 SQL 数据库更加熟悉，并且能够比我在 solo bot 中使用的 NoSQL 数据库更容易地使用它们。至于第二个，很有可能网站的用户会希望它走一条不同于 solo bot 的道路，因为它是根据为我的朋友量身定制的非常具体的要求编写的，而不是其他人都必须这样做。考虑到这些，我选择了完全重新开始。

# 选择我的技术

## 语言

在决定重新开始的同时，随之而来的问题是“我用什么来写它？”说到 web 开发，我最熟悉的是 Java 和 PHP。我可以选择其中的一个，但是实际上我最近经常为时间随机发生器的[陶制卵形笛贡献和引用代码，所有实际的随机发生器代码都是用 Python 编写的，所以我那时已经习惯了。我也真的不想尝试建立一个 Java 开发环境。](https://ootrandomizer.com)

## Web 框架

试图重新实现运行网站后端所需的一切是愚蠢的。我选择了弗拉斯克。Django 很吸引人，但它也有很多我不确定是否需要的东西。Flask 允许我在需要时实现或安装任何我需要的包。

## 数据存储

正如我所说，我试图使用 NoSQL 的独奏机器人，但想回到这个网站的 SQL 数据库，因为我更熟悉他们。我选择了 PostgreSQL 而不是其他选项，原因不外乎熟悉程度。

然而，我还需要一种方法来在网站和实际加入聊天并运行猜谜游戏的机器人之间共享不稳定的信息。在之前的工作中，我对 Redis 有一些熟悉，虽然我实际上没有用它做很多工作，但一些快速测试应用程序让我对它足够熟悉，我觉得使用它很好。

## 托管

我不想运行 VPS 并一直保持更新。我有一个 Heroku 账户已经很久了。我想给它一些实际的用途。

# 决定什么是最低限度可行

这可能是试图在旧机器人上增加一个网络界面和从头开始一个最大的区别之一。在旧的基础上增加一个，我觉得我需要确保机器人的每个功能都能够从 web 界面进行管理。这将需要大量的工作，我不能确定谁会使用这些更具体的功能。

决定对新的猜谜游戏有用的绝对最小值要容易得多。

*   登录 Twitch 创建一个帐户。
*   启用和禁用该机器人，让它根据需要加入和退出您的 Twitch 聊天。
*   创建“猜谜游戏”——你可以试着猜一猜。
*   允许代码有几种不同的变体，因为有时你想给项目起一个更短的昵称，这样更容易输入。
*   拥有一个聊天机器人，它可以:
    *   开始猜谜游戏。
    *   在猜谜游戏中接受猜测。
    *   在猜谜游戏中接受答案。
    *   为用户提供正确的猜测点。
    *   允许用户看到他们在积极的猜谜游戏中获得了多少分。
    *   完成猜谜游戏。
    *   允许用户查看他们的总积分。

它仍然是一个相当不错的功能，但它给了我一个坚实的目标去努力。

* * *

这个帖子已经很长了，所以我想我现在就在这里完成它。如您所见，我已经成功实现了我想要添加的所有功能。这也没有花很长时间，我设法在上个月左右的时间里完成了所有的工作。

我不知道是否有人对此感兴趣。如果你知道的话，我也可以更详细地介绍这个猜谜游戏的其他方面。希望这里有你感兴趣的东西，也许你也设法读完了这篇文章，为此我祝贺你。我不知道我会写这么多。我希望我没有说得太多。

感谢您的阅读！