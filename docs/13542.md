# 告诉 Sourcetree 我的一个 GitHub 库

> 原文:[https://dev . to/Katie kodes/telling-source tree-about-one-of-my-github-repositories-4eo 4](https://dev.to/katiekodes/telling-sourcetree-about-one-of-my-github-repositories-4eo4)

我用 Git 编辑我的博客。了解我是如何设置名为 SourceTree 的图形软件来简化这一过程的。

## [](#git-github)饭桶！= GitHub

*   Git 是一种软件，它对计算机上充满文件的目录提供“版本控制”。
*   GitHub.com 是一个营利性网站，用来托管由 Git 控制的文件(有点像 Dropbox 可以托管你家庭照片的副本)。

## [](#install-sourcetree)安装源码树

我不打算介绍如何安装 [SourceTree](https://www.sourcetreeapp.com/) ，但它是一个“图形用户界面”(GUI)，用于浏览硬盘上被名为 Git 的“版本控制”软件“跟踪”的目录。

通常，人们会教你如何通过 Git 的命令行界面跟踪代码库的变化。

太好了。

但是我喜欢图形用户界面。所以我尽可能地使用 SourceTree。

然而，一旦我安装了 SourceTree，我仍然不得不告诉它所有的在线网站 *(BitBucket.com，BitBucket.com，Heroku.com 等)。)*我把我关心的代码(“存储库”/“回购”)存放在那里。

SourceTree 不直接编辑这些网站上的文件。相反，它遵循标准的 Git 协议，并帮助我组织将我的“资料库”副本下载到我的个人电脑的行为，跟踪我对我的电脑“资料库”中的文件副本所做的更改，并以*组织*的方式将这些更改上传回 GitHub.com、BitBucket.com 等地。

## [](#telling-sourcetree-about-a-remote-repository-from-githubcom)告诉 SourceTree 一个来自 GitHub.com 的“远程仓库”

1.  抓取网址。大概是这样的:`https://YOURGITHUBUSERNAME@github.com/YOURGITHUBUSERNAME/REPOSITORYNAME`
2.  打开源代码树；点击**文件- >克隆/新建**。如果你还没有在上面，点击靠近顶部的**克隆**按钮。
3.  在“**源路径/ URL** 中，输入您在步骤 1 中获得的 URL。
4.  当你点击“tab”移动到“**目的地路径**”框时，你会得到一个弹出窗口，上面写着“验证”，在“用户名”栏中填入了`YOURGITHUBUSERNAME`，还有一个空白的“密码”框。键入您的 GitHub 帐户密码。选中“记住密码”框。点击“登录”
5.  SourceTree 可能已经在“**目标路径**”框中填充了一个名为类似于`C:\Users\YOURUSERNAMEONYOURPC\Documents\REPOSITORYNAME`的文件路径。我想把它换成更有意义的东西。同样，你也不必调用最终文件夹“`REPOSITORYNAME`”例如，我将获取一个名为“testprivaterepo”的存储库，但将其保存为`C:\example\GitRepos\VeryCoolRepositoryNumber1`。
6.  SourceTree 可能会用“目标路径”的最终文件夹填充“**名称**”框。例如，当我在硬盘上设置我想要存储我的 GitHub 内容的本地副本的路径时，只要我点击“tab ”,它就会将它从“testprivaterepo”切换到“VeryCoolRepositoryNumber1”。我决定把那个改成“牛逼回购 1”。
7.  抛开其他一切，点击**“克隆”按钮**。

注意:这些说明假设您还没有告诉您的计算机有关基于 GitHub.com 的“远程资源库”的信息

*   如果您有*(例如，通过命令行上的`git clone`)*，那么在上面说明的步骤 2 中，您将单击方形的**添加**按钮，而不是方形的“克隆”按钮，并且将“浏览”以使用已经放置了本地副本*(例如`C:\example\GitRepos\VeryCoolRepositoryNumber1` )* 的文件夹填充“**工作副本路径**”框。
    *   你不需要给 SourceTree 一个 URL 和一个它应该放本地副本的文件夹，因为这已经完成了。
*   您可以忽略这些说明中的步骤 3-5。
*   如果您愿意，您仍然可以在“名称”框中选择自己的“**名称**，例如“Awesome Repo 1”。
*   在第 7 步中，你会点击一个**“添加”按钮**而不是一个“克隆”按钮。
    *   如果没有，您需要点击**添加**按钮并添加它。这样做时，可能会提示您输入 GitHub 帐户的用户名和密码，并询问您是否要保存它。*(或者 SourceTree 可能会等到您第一次尝试与“远程”存储库交互时，比如从它那里拉/取数据，或者向它推送数据。)*

### [](#verifying-that-setup-went-well)验证设置是否顺利

1.  如果我在我的电脑上导航到`C:\example\GitRepos\VeryCoolRepositoryNumber1`，我会看到它里面有所有相同的文件，这些文件可以通过在网络浏览器中导航到`https://github.com/MYGITHUBUSERNAME/testprivaterepo/`来找到。酷！

## [](#editing-a-file-and-updating-githubcoms-copy-with-the-changes)编辑一个文件，用修改更新 GitHub.com 的副本

### [](#editing-the-file)编辑文件

1.  现在在我电脑上的一个文件是“`readme.md`”，一个带有“关于我的存储库的有用解释”的纯文本文件*(现在，除了它内部的“测试 1 2 3”之外，它实际上什么也没说。)*
2.  编辑很简单:我在电脑上的 Notepad++中打开`C:\example\GitRepos\VeryCoolRepositoryNumber1\readme.md`，将`1 2 3`改为`4 5 6`，然后将文件保存在电脑上。

如果我进入 SourceTree，我会在顶部打开“牛逼回购 1”标签。

*(如果没有，我可以点击“+”标签，从右边的回购列表中打开。)*

点击周围，我可以看到在不同的地方，我可以看到警告，我已经改变了我的硬盘上的“readme.md”的内容。

### [](#diversion-anonymizing-myself-a-bit)转移话题:把自己“匿名化”一点

不过，在我继续之前，我还想对“棒极了的回购 1”做一点“设置”

1.  在 SourceTree 顶部的导航栏中，我单击“**存储库”-“T2”存储库设置**
2.  弹出窗口开始显示一个名为“Remotes”的选项卡的内容，该选项卡带有一个云图标，在其列表中有一个单独的项目，“`https://MYGITHUBUSERNAME@github.com/MYGITHUBUSERNAME/testprivaterepo`”。但我将单击带有齿轮图标的“高级”选项卡。
3.  在“User Information”下，我将确保“Full Name”和“Email address”被设置为我认为是存储库历史的一部分的值。你看，我首先用一些工作帐户设置了 SourceTree，我保留了一个有意义的名字和工作电子邮件地址作为默认，因为这是我对 SourceTree 的主要用途。然而，对于个人的副业，我宁愿使用一些更…匿名的东西。
4.  所以我要将用户名改为“ **`xyzzy`** ”，电子邮件地址改为“ **`abcdefg@example.com`** ”，并确保“使用全局用户设置”未选中**。**
***   然后我点击“确定”**

 **#### [](#verifying-my-anonymization-took-hold)验证我的“匿名化”成立了

1.  如果我进入**文件状态- >工作副本**(左侧导航)，我可以看到我的旧信息仍然在那里，靠近屏幕底部，在屏幕的“暂存文件”&“未暂存文件”部分的下方。
2.  所以我关闭并重新打开 SourceTree。(当你关闭并重新打开 SourceTree 时，很多东西都会变得更好。)
3.  现在，如果我打开“Awesome Repo 1”并转到(左导航)**文件状态- >工作副本**，我可以在屏幕底部看到我被标识为“ **`xyzzy <abcdefg@example.com>`** ”。

耶。

所以现在我准备用 SourceTree 告诉互联网(github.com)我对“readme.md”做的改动

### [](#staging-adding-my-changes)【分期】*【添加】*我的变化

如果我单击屏幕“暂存文件”和“未暂存文件”部分右侧的“未暂存文件”列表中“readme.md”旁边的橙色铅笔图标，内容会出现在标题“readme.md”下，并显示我已从文件中删除了包含文本“Testing 1 2 3”的一行，并在其位置添加了一行“Testing 4 5 6”

太好了！那是我期望看到的。

`readme.md`我的“舞台”由:

1.  点击**舞台选中***(或者“舞台全部”，我猜)*

如果我突然想，“等等！我确定我想这么做吗？”我仍然可以通过单击屏幕中间靠近顶部的“暂存文件”部分中的“readme.md”来查看更改，更改将再次显示在屏幕右侧。

这里，我只更改了一个文件，但是我完全可以将多个文件作为我想要“跟踪”的给定“更改”的一部分。

### [](#committing-and-pushing-my-changes)“提交”和“推动”我的变更

一旦我对我的改变感觉良好，我就有两件事要做(虽然我可以同时做，这是我通常做的)。

1.  第一个称为“**提交**”，向我本地计算机上 Git 中存储的“版本跟踪”日志添加一个官方历史检查点，并带有一个可选的*(但推荐)*注释，说明我做了什么值得添加到日志中。
2.  第二个称为“T0”推送“T1”到我的“T2”远程存储库“T3”，并将更新的“readme.md”文件内容以及“版本跟踪日志及其注释”发送到 github.com，作为响应，github.com 将更新其“readme.md”副本，并将“版本更改说明”添加到其日志中。换句话说，我会将 github.com 上的副本与我本地计算机上的副本同步。

在屏幕底部*(记住，我需要在**文件状态- >工作副本**【source tree】*部分)附近，有一个写着`xyzzy <abcdefg@example.com>`的区域，旁边有一个空白头像图标。

下面是输入评论的区域。

1.  在注释框中，我将键入“这是我在本地计算机上的第一次更改。”
2.  然后——这是让我同时执行“提交”和“推送”的部分——我将单击评论区正下方(左侧)的复选框，上面写着“推送立即更改为原点/主点”
3.  现在，我将单击右下角的“提交”按钮。
4.  如果我忘了点击复选框，SourceTree 左上方区域附近的“Push”按钮会有一个圆形的“1”；我可以点击它来做“推送”步骤*(通过所有提示点击“确定”就可以了，基本上)*。

### [](#verifying-that-githubcom-is-uptodate)验证 GitHub.com 是最新的

现在，如果我在网络浏览器中导航到`https://github.com/MYGITHUBUSERNAME/testprivaterepo/blob/master/readme.md`，我可以看到它的内容是“测试 4 5 6”太好了！

如果我单击该页面上的“历史”按钮，它会将我带到`https://github.com/MYGITHUBUSERNAME/testprivaterepo/commits/master/readme.md`，我可以看到“xyzzy”的一行历史声明，“这是我在本地计算机上的第一次更改。”太棒了。

## [](#editing-again-and-updating-githubcom-again)再次编辑，再次更新 GitHub.com

从现在开始，要编辑我电脑上的文件并告诉 GitHub.com，我只需重复上面的步骤——在 Notepad++或其他合适的编辑器(如果是图片，可能是 Paint 或 GIMP)中打开文件，确保 SourceTree 知道这些更改，然后提交+推送。

注意:如果您重命名文件或文件夹，它通常会在“未分级的更改”中显示为两个更改-一个删除和一个添加-但随后会转到“分级的更改”作为重命名。只要它以这种方式出现在“分阶段的更改”中，它也会在历史中显示为已提交的重命名。

*   重命名在 SourceTree 中显示为蓝色的 R 框
*   文件添加在 SourceTree 中以绿色+框显示
*   文件删除在 SourceTree 中显示为一个红框

## [](#syncing-someone-elses-githubcomside-changes-into-my-computers-copy)将他人的 GitHub.com 端更改同步到我的计算机副本中

现在…如果我把电脑放在一边 5 个月，但在此期间，我直接通过 GitHub.com 的文件编辑界面编辑一些文件，会怎么样？

或者，如果我正在与别人合作，而这个人在我忙着做其他事情的时候将变更“推”到了我的 GitHub.com 存储库中，那该怎么办？

我硬盘上的所有文件都和 5 个月前我把它们留在硬盘上时一模一样。它们不会神奇地与 GitHub.com 上的任何东西保持同步。

鉴于我将托管在 GitHub.com 的存储库视为我代码的“主要副本”，我不想忽视那里发生的一切，盲目编辑我电脑上 5 个月前的文件。

如果已经有一段时间了，我需要把 GitHub.com 当前状态的副本下载到我的电脑上——可能是在我开始在自己的电脑上做任何改变之前的**。**

(我需要这样做的频率取决于我是否是唯一可以编辑 GitHub 库的人——如果我是，我可以安全地知道我在哪里进行编辑，并在我的电脑上一遍又一遍地继续编辑，如果我知道我没有出去直接在 GitHub.com 的网络界面上编辑东西的话。)

*   问:在我开始改变之前，我需要得到一份 GitHub.com 的资料吗？或者，我是否可以对我硬盘上的“旧”代码副本进行一些更改，然后在尝试将这些更改“推”回 GitHub.com 之前担心“交叉检查”？
*   **答:**看情况。

1.  如果您所做的更改将花费您 2 周的时间来编码，并且如果其他人也需要在这 2 周内工作，您可能会选择后者。
    *   在两周前下载了一份拷贝后，你可能会在盲目地希望没有其他人对代码进行令人难以置信的、令人头痛的修改的同时继续工作。
    *   在两周结束时，当试图将你的改变“推”回 GitHub.com 时，你将不得不解决在过去两周内与其他人工作的任何冲突。
    *   *(顺便说一句，在这种情况下，您可能已经对本地计算机的“版本历史”进行了许多本地“提交”操作，以获得您自己的检查点信息，而没有“推送”到 github . com)。*
    *   这种方法涉及许多复杂的东西，实际上是互联网上大多数 Git 教程的主题，但我*今天不*报道。
2.  另一方面，如果您所做的更改将花费您 5 分钟的时间来编写代码，并且您非常确定没有其他人会对该代码做任何有意义的事情，并且您没有任何未完成的为期两周的项目*(换句话说，您在您的本地计算机上没有您所关心的不在 GitHub.com 上的代码)*，我建议完全清除您的本地存储库副本的内容，以便它的文件内容和它的历史日志与当前在 GitHub.com 上的完全一样。
    *   不幸的是，你不能在 SourceTree 中做到这一点，如果你试图在 SourceTree 打开时做到这一点，它通常会使 SourceTree 运行缓慢。
    *   但这正是我在所有“个人储存库”和“快速项目储存库”中所做的，其中“远程”*(例如，GitHub.com，BitBucket.com)*储存库是“真理的来源”，而我的计算机副本只是“短期项目的便利工作空间”所以这就是我接下来要解释的。

为了改变我的硬盘存储库，使其更像是我在 GitHub.com 的 SourceTree 中新设置的，就像我在这篇博文开始时所做的那样，我会:

1.  关闭源代码树
2.  打开一个`cmd`提示符*(键盘上的 Windows 键，键入“cmd”，击“enter”)*
3.  键入命令`cd c:\example\GitRepos\VeryCoolRepositoryNumber1`并点击“回车”
4.  键入命令`git fetch --all`并点击“回车”
    *   如果你的电脑抱怨它不理解命令“git ”,谷歌一些关于设置你的电脑理解从命令行调用“git”的教程。当你安装 SourceTree 时，Git 已经安装在你的计算机上了，所以这可能只是一个配置 Windows 的“环境变量”/“路径”的问题，以了解每当你从命令提示符说“git”时，你指的是 SourceTree 安装到你的硬盘上某个文件夹中的“git.exe”文件。我的地址是`C:\Users\MYUSERNAMEONMYCOMPUTER\Documents\A_FOLDER_WHERE_I_SOMETIMES_INSTALL_SMALL_THINGS\Git\cmd\git.exe`，这意味着我需要`C:\Users\MYUSERNAMEONMYCOMPUTER\Documents\A_FOLDER_WHERE_I_SOMETIMES_INSTALL_SMALL_THINGS\Git\cmd`作为我的“PATH”环境变量的一部分。这是我创建的一个文件夹，所以我想我一定是在设置 SourceTree 之前很久就手工安装了只支持命令行的 Git，而且我一定是在安装 SourceTree 时告诉 SourceTree 不要费心安装 Git(而是使用我安装的副本)。已经好几年了，所以不确定。你会在你电脑的不同地方找到“Git”。不过，对于初学者来说，只要尝试一下这个命令，看看它是否已经工作了。
5.  在提示说“`Password for 'https://MYGITHUBUSERNAME@github.com':`”的时候，输入我的 GitHub.com 密码，然后点击“回车”
6.  完成后，输入命令`git reset --hard origin/master`并点击“回车”
7.  如果我看到了笔记“`HEAD is now at SOME_CODE MOST_RECENT_COMMENT_FROM_GITHUB.COM_HISTORY`”，我就可以走了！
8.  键入命令`exit`并点击“回车”
9.  重新打开 SourceTree *(或者，如果我忘记关闭它，现在关闭它并重新打开)*。
10.  在 SourceTree 的左侧导航区域中，展开“**分支**”部分，单击“**主**”，并向右上方验证变更日志历史看起来与在`https://github.com/MYGITHUBUSERNAME/testprivaterepo/commits/master`时在 web 上的完全一样，并且我在计算机上完成的*和*都不存在。

我现在准备在我的电脑上开始编码，就像第一次为 GitHub.com 的知识库副本做贡献一样！

和以前一样，我可以编辑我认为合适的文件的本地副本，将它们保存到我的硬盘上，并使用 SourceTree 仔细检查我是否喜欢这些更改，将关于我的更改的注释“提交”到我的本地计算机存储库的“版本日志”，然后将这些更改和“版本注释”“推”到 GitHub.com。

快乐去吧！**