# 有效的数据库设计:第 1 部分

> 原文：<https://dev.to/adammc331/how-to-properly-design-a-database-part-1-2h6f>

数据库虽然不是我每天都要用到的东西，但却一直是我的兴趣所在。我曾经花了很多时间在 StackOverflow MySQL 标签上，只是为了好玩。我还花了很多时间与我的室友讨论数据库设计，并注意到这些对话中反复出现的一个主题——我们花了很多时间讨论如何构建数据库。

通常出现的问题是“我应该如何组织这个表”或者“我如何处理这两个实体之间的关系？”这些问题非常重要，因为如果我们没有正确地设计我们的数据库，从长远来看，我们最终会得到一些不容易维护的东西。

让我们从一个设计不当的桌子的例子开始，以及我们因此而面临的风险。考虑要求设计一个数据库表来记录学生的姓名、年份和他们所上的课。我们可能会有这样一个结局:

| 名字 | 年 | 班级 |
| --- | --- | --- |
| 圣经》和《古兰经》传统中）亚当（人类第一人的名字 | 新手 | 数学 |
| 圣经》和《古兰经》传统中）亚当（人类第一人的名字 | 新手 | 编程；编排 |
| 王子 | 新手 | 历史 |

这个表满足列出的要求，但是有几个问题。这个表有冗余数据，也缺乏完整性。这两个概念对于正确的数据库设计是必不可少的。

## 数据冗余

如果数据出现不止一次，那么它就是冗余的。我不是指某个特定的单词或标识符多次出现。在上面的例子中，有两行显示 Adam 是新生。这是冗余的数据，不需要捕获两次，甚至不需要捕获第三次(如果 Adam 上了另一门课)。

## 数据完整性

从[维基百科](https://en.wikipedia.org/wiki/Data_integrity)中摘抄一个解释，“数据完整性是在数据的整个生命周期中对其准确性和一致性的维护和保证。”

简单地说，我应该能够更新、插入和删除数据，而不会对其他数据产生任何负面影响。考虑一下上一节中我们的学生表。有可能出现三种数据异常:

1.  更新异常——如果我更新第 2 行，将 year 列修改为“大二”,那么我将有一个 Adam 是大一学生的记录和一个他是大二学生的记录。这种不一致不允许我确定哪一行是正确的。
2.  插入异常——如果我想插入一个新学生，我不能这样做。至少，在没有将“class”列设置为 null 的情况下是这样的。同样，我不能为一个没有相应学生和年份的班级添加记录。这种限制使我们无法正确记录可能对我们很重要的数据。
3.  删除异常——如果我删除第 3 行，我有两个问题。我丢失了任何王子当学生的记录，也丢失了任何历史当阶级的记录。这是一个问题，因为我丢失了两条信息，即使我只想删除其中一条。

## 归一化

那么我们如何设计我们的数据库来避免这两个问题呢？答案是正常化。[数据库规范化](https://en.wikipedia.org/wiki/Database_normalization)是组织数据库以避免冗余数据并确保数据完整性的过程。规范化的数据库不会有这些插入、更新和删除异常的风险。

标准化不是由一个单一的标准定义的。换句话说，你不只是说“如果我们有 X，那么我们的数据库是规范化的。”

相反，规范化是通过一系列[范式](https://en.wikipedia.org/wiki/Database_normalization#Normal_forms)来定义的，每一个范式都建立在最后一个范式的基础上，以确保数据完整性并避免冗余。有几种范式，在整个系列中，我们将研究其中的三种:第一范式(1NF)，第二范式(2NF)，第三范式(3NF)。

在下一篇文章中，我们将了解第一范式以及如何设计符合 1NF 的表格。