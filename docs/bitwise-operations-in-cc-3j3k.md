# C/C++中的位运算

> 原文：<https://dev.to/noah11012/bitwise-operations-in-cc-3j3k>

也许你偶然发现了一行看起来令人困惑和害怕的代码:

```
((value << 2) & 32) 
```

你不知道这是什么，在互联网上搜索了一段时间后，你遇到了所谓的位运算。在这篇文章中，我们将讨论 C 和 C++中所有可能的位运算。

按位操作是对位进行操作的操作。如果一个位是 1，那么它被称为“真”或“开”。如果是 0，那么就是“假”或者“关”。就像算术运算符一样，按位运算符在计算完成时给出结果。

## 和

对于一位值，如果两位都处于“开”状态，则 AND 运算符给出“开”的结果。否则，它产生“关”的值。

```
1 & 1 == 1
1 & 0 == 0
0 & 1 == 0
0 & 0 == 0 
```

对于字节，它遍历每个位并单独应用 and 运算。

```
10000000 & 01111111 == 00000000
11000000 & 11100011 == 11000000
10100110 & 10000111 == 10000110
10101010 & 11011011 == 10001010 
```

## 或

在 C 和 C++中由`|`表示，如果任何位处于“开”状态，该操作产生“开”状态。

```
1 | 1 == 1
1 | 0 == 1
0 | 1 == 1
0 | 0 == 0 
```

就像使用 AND 运算符一样，多位值也是如此。

## 异或

由`^`表示，它是异或的简称。如果只有一位为真，则产生“开”状态。

```
1 ^ 1 == 0
1 ^ 0 == 1
0 ^ 1 == 1
0 ^ 0 == 0 
```

应用于字节等多位值的操作是在比特级完成的，就像使用 AND 和 OR 一样。

## 阴性

否定一个位的状态。符号`~`用于表示该操作。

```
~1 == 0
~0 == 1 
```

多位值也是如此。

## 位掩码

这不是一个运算，而是程序员在处理位运算时有时会用到的东西。您可以将位掩码视为从多位值中提取位的过滤器。

假设我们有了字节`10100111`,我们想得到前两位。我们可以使用位掩码来实现这个目标。位掩码中的位 0 表示忽略，1 表示提取。在我们的例子中，位掩码应该是这样的:`000000011`。为了应用位掩码，我们使用 AND 运算符。

```
10100111 & 00000011 == 00000011 
```

## 移位操作符

你以前见过这些`<<`和`>>`。它们分别表示“向左移动”和“向右移动”。

左边的操作数是被移位的值，而右边的操作数是移位量。

不像我们所看到的其他操作符，这些操作符只能处理多位值，比如字节。

出于演示的目的，我们将使用值`11001011`。

这些运算符将每一位向由所使用的移位运算符类型指定的方向移位一定的量。完全移出字节的位将被丢弃，并在另一端用零填充。

```
11001011 << 1 == 10010110
11001011 >> 2 == 00110010 
```

这是我决定在我的主要使用 SDL2 帖子发布后做的一篇快速文章。

编辑:

感谢@ccmg 的指正。