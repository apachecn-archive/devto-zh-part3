# 可怕的面试问题:交换变量，没有一个临时的

> 原文：<https://dev.to/mortoray/terrible-interview-question-swap-variables-without-a-temporary-22jp>

巧妙的编程技巧在编程面试中没有用武之地。它们通常涉及少量的代码，并解决一个听起来无害的问题，如“在链表中找到循环”。通常还会加上一些不公平的限制，比如“你不能使用该语言的搜索功能”。它们遵循高度具体且易于搜索的一般模式。然而，这些问题不是一次面试就能解决的。这些是研究级别的问题，需要随机的先验知识、直觉的幸运跳跃或大量的面试官提示。

识别不好的问题并理解它们产生的问题是很重要的。举个例子，我来考虑一下流行的面试谜语:[“没有临时的你怎么互换变量”](https://dev.to/theoutlander/how-can-you-swap-two-variables-without-using-a-third-2f30)。这个问题在面试中制造了不必要的紧张。这不是你在工作或个人项目中会遇到的编码。更令人不安的是，没有真正的方法来“解决”这个问题。此外，它没有揭示候选人的任何信息。

这远不是热身，而是一个在面试中没有位置的糟糕问题。

## 从未在日常编码中使用

你走进面试室，和面试官握手，然后坐下。然后你很平静地递上一支记号笔，指着[一块白板](https://geni.us/Lf3w)，问道:

> 你怎么能不用第三个变量就交换两个变量呢？

你记下`swap`函数。或者也许你知道一种语言，在那里`a,b = b,a`可以工作。太好了！那只是简单的热身。

但是，等一下，你会听到面试官大叫不公平。“不，我不是这个意思。不允许你恰当地使用这种语言，但是需要做一些比特操作那些不太可能是他们使用的准确的词语，但那将是他们所说的。

我一会儿会回到聪明的交换答案，但首先，让我们看看面试发生了什么。

## 在受访者中制造紧张气氛

如果你以前没看过这个问题，你可能会切换到[恐慌模式](https://geni.us/5RMa1m)。也许你可以比别人更冷静，但你并不舒服。不要为此感到难过；大多数人都会有同样的感觉，并且有充分的理由。

这个问题与你以前项目中的任何编码都不一致。这不是你上课时提出的问题。你没有得到展示自己能力的机会，而是被扔出了船外，试图不被淹死。

这有什么帮助？面试压力已经够大了。作为一个热身问题，这有污染整个体验的风险。面试官没有试图找到与你平等的立足点，而是维护了他们的主导地位，将你击倒。

我发现大部分考生已经很紧张了。当你走进那扇门或拿起电话的时候，你可能已经在颤抖了。作为面试官，我的工作就是欢迎你并让你冷静下来。我想看看你在办公室典型的一天会是什么样子。

## 没有解决这个问题的方法

也许你保持着你的智慧，试图解决问题。你可能会发现没有办法解决这个问题，至少在面试的范围内没有。

一个有经验的程序员可能，我强调“可能”，会注意到可逆操作符是必需的。异或和按位补码都保留所有信息。他们也可能观察到二进制补数的加法和减法也是合格的。如果没有，也许面试官会给他们提示这个信息。

太好了，命令这些操作来得到想要的结果。异或解决方案和另一种加减方法都使用三种赋值和四种二元运算符。

让我们依靠一点魔法或面试官的提示。不知何故，你得到了解的模板形式:`? = ? ⊗ ?`重复三次(见“巧答”知道这从何而来)。这有`(2 x 2 x 4 x 2) ^ 3 = 32768`种组合可以尝试。有了一些关于交替变量的指导性见解，这可以归结为 64 个，甚至可能是 32 个解决方案。

你现在是不是希望完成所有 32 种组合，希望不犯错误，并找到正确的答案？那需要多长时间？你需要证明它在数学上是正确的吗？

### 谜题

通过添加严格的要求，很容易将可解决的问题转化为难题。当涉及到算法复杂性时，这似乎很流行。

例如，您可能需要编写一个双端队列。如果你不知道那是什么，一个好的面试官不会扣任何分——那是一种数据结构，有办法从列表的前面和后面推送和弹出。作为一个 API 设计问题，我不介意这个问题，但更喜欢一些更具体的东西，一些在日常编码中使用的东西。

让我们添加一个简单的要求:所有操作必须摊销 O(1)时间。即使你理解了这个问题，你仍然有一个困惑。带约束的算法设计很难。除了通过想法和借鉴多年的设计经验，没有明确的方法——我用过，但有多少项目需要人们理解[摊销时间](https://mortoray.com/2014/08/11/what-is-amortized-time/)？

这个类别中一个流行的问题是“设计一个栈，其中`get_minimum()`是 O(1)时间”。这个听起来很天真的问题背后隐藏了很多东西。这将造成明显的不适。我在网上看到很多关于这个谜题的问题。他们中的许多人被问得不正确，这使得它真的不可能。对于候选人来说，没有什么比一个措词错误却没有有效答案的问题更令人不安的了。尽管如此，鉴于这个问题的流行，它成为琐事。

## 有人随机知道

和大多数随机琐事一样，一些候选人碰巧知道问题的答案。只是运气好，你可能之前看到过问题，还记得答案。我敢肯定你会喜欢这种简单的优势，但我敢打赌你不会觉得这是你应得的。任何人，只要用搜索引擎搜索几分钟，也能找到答案。

如果这是问题的一部分，我会觉得很公平:你可以查找答案。能够在网上找到晦涩难懂的编码知识是一种编程技能。

以下是一些人们被问到的琐事问题的例子:

*   什么是 2^32，它有什么意义？你可以想象招聘人员手持屏幕上的数字“4294967296 ”,准备拒绝任何弄错的人。重要性是指 32 位 CPU 上可寻址内存的数量。这个答案在技术上是错误的——琐事问题的另一个问题是你需要猜测“正确的”正确答案。
*   *Python 中默认的排序算法是什么？*可能是 quicksort，或者是 introsort，C++用来优化性能的 quicksort、heapsort 和 insertion sort 的组合。你在乎吗？我能不能假设它使用了一种有效的方法？说到 C++...
*   *未定义和未指定的行为有什么区别？*这个问题隐含着一个重要的概念，但如果你不能根据这些术语准确解释，我个人会原谅你。
*   死锁的四个条件是什么？一位大学教授在一次测验中问道。面试不是测试。

能通过搜索得到答案的问题不是好问题。在工作的时候，我可以上网，找到许多模糊问题的答案。我不需要燃烧宝贵的神经元，在封闭的房间里通过白板上的答案来困惑。我早就训练我的大脑不再记琐事了。相反，我学会了很好的搜索技巧。

也许这将是一个有趣的面试前测试。我会给你十个晦涩的琐事和半个小时来寻找它们的答案。

> 面试官也应该记住，他们不只是在评估我，我也在评估他们。如果我收到愚蠢的问题，我会对公司有负面的看法。我可能比其他候选人知道更多的琐事答案，这无关紧要——我不会因为这样找到工作而感到快乐。

## 巧妙的互换答案

交换问题的一个标准答案是使用异或。

```
if x != y
    x = x ^ y
    y = x ^ y
    x = x ^ y 
```

Enter fullscreen mode Exit fullscreen mode

这“行得通”，但只适用于无符号整数。在许多语言中，有符号整数的特定逐位运算是未定义的。这个微妙的符号会引起悲伤。此外，在 C 或 C++中，由于类型可能会改变，上述内容也可能会遇到升级问题。这种解决方案适用于范围很窄的类型:一些特定大小的无符号整数。

效率是毋庸置疑的。在 CPU 级别，交换变量最终作为一对[加载和存储](https://mortoray.com/2010/11/18/cpu-reordering-what-is-actually-being-reordered/)而结束。对这些值执行操作会向这些加载和存储添加指令。此外，当嵌入到其他代码中时，优化器有时可以删除交换并直接使用源值。这种类型的代码欺骗很少是优化，相反经常会降低代码速度。

问关于按位运算符的问题没有错。许多职位都需要它们，这是所有程序员都应该明白的。它们是布尔逻辑的延伸，我可以毫不犹豫地拒绝那些不懂布尔逻辑的候选人。

但是如果你想要一个逐位问题，为什么不让候选人编码和解码 UTF 文本数据。它有一个具体的规格，不需要任何解谜。也是实用知识。

## 在循环中寻找循环

曾经有人问我，“你如何在一个链表中发现一个循环？”这让我很紧张，但由于我以前做过图表工作，我觉得我能回答这个问题。我想到了一个可行的答案。然后另一个。然后是第三个问题，面试官给了一个提示，指出他们想要的答案。

我看到一些关于这也是一个不好的问题的讨论，我倾向于同意。如果我根据我在这里说的来评估呢？一些候选人会知道问题的答案，而其他人可以快速查找。如果你不知道怎么做，以前也没有用过图表，你的压力水平会突然上升。

然而，与变量交换相比，这里有几种方法。如果您接触过图形和数据结构，您就有了解决这个难题的起点。如果你还是不知道，面试官可以给你很多小提示，让你走上正确的道路，而不仅仅是给出答案。

它是出现在许多代码库中的代码。如果工作需要这种类型的工作，这是一个检验知识的合理问题。

如果面试官能正确处理这个问题，这可能是一个可以接受的问题:提供帮助，而且问这个问题不会让你感到震惊。但如果面试只是说，“[你如何检测一个循环中的循环](https://en.wikipedia.org/wiki/Cycle_detection#Floyd's_Tortoise_and_Hare)”，把白板笔递给你，默默地靠在椅背上，带着傻笑，那么这绝对属于糟糕问题的范畴。

## 更好的问题

那么变量交换作为一个面试问题有什么意义呢？当然，这是一个[有趣的小谜题](https://www.codingame.com)，但是你希望你的员工解决谜题或者编写高效的代码吗？

在用一个问题进行面试之前，考虑一下我在这里提出的观点。这会让候选人感到受欢迎还是让他们感到不必要的不安？它包含你经常会看到的代码吗？问题在面试中能合理解决吗？是奖励鸡毛蒜皮的知识，还是探索考生能力的一些应用？

你、你的公司和候选人都会因为考虑周全的问题而受益。

* * *

我在[visiting . io](https://iio.sh/r/Yxu7)主持了很多面试——检查一下面试练习。我也正在建立一个新的网站来帮助你进行采访。加入邮件列表，成为第一批访问面试课程的。