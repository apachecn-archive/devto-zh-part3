# Xamarin 形式的图像缓存

> 原文:[https://dev . to/eatskolnikov/image-caching-in-xa marin-forms-2706](https://dev.to/eatskolnikov/image-caching-in-xamarin-forms-2706)

有人问我，他们在显示每个单元格都有图像的 ListView 时遇到了一个问题。当用户滚动时，图像会闪烁，用户界面会变得有点慢。这些图片是从网上下载的。

这个人遇到的问题是他们没有使用正确的图像缓存策略，现在我将解释如果这个问题发生在你身上，你如何解决这个问题。

## [](#enough-context-lets-do-the-caching)足够的上下文，我们来做缓存吧

如果你想给你的图像添加缓存，你应该像这样使用:

## 一些解释接踵而至

当你想显示一个图像时，你知道你指定了图像的来源。可能作为资源的 URL 或路由，两者看起来都像字符串，但如果你看得更远一点，你会注意到图像的 source 属性实际上是类型 **ImageSource** ，它可以被赋予任何继承自它的值。

在代码示例中，我们将 Source 设置为 **UriImageSource 的一个实例。**这个类有更多的属性，但是我们想要关注的三个属性是:

*   Uri: 这是我们想要显示的图像的地址。
*   **CachingEnabled:** 这是一个布尔值，它将启用或禁用缓存。默认值为 true。
*   **CacheValidity:** 解除缓存时的时间戳。时间戳参数是天、小时、分钟、秒。在代码示例中，我们将缓存设置为 7 天。在 XAML 取样要 30 天。

仅此而已。非常简洁，非常有用。希望你像我写这篇文章一样喜欢阅读它。您可以从官方的 Xamarin 文档中获得更多关于使用图像的信息以及本文中特征图像的来源。拜拜！

Xamarin 表单中的图像缓存帖子最早出现在 [Enmanuel Toribio](https://blog.torib.io) 上。