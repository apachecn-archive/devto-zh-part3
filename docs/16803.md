# 常规提交如何提高我的 git 技能

> 原文:[https://dev . to/maniframes/how-conventi on-commits-improved-my-git-skills-1 JFK](https://dev.to/maniflames/how-conventional-commits-improved-my-git-skills-1jfk)

在写这篇文章的时候，我正处于实习的最后一个月。我慢慢意识到在过去的几个月里我学到了多少。但是在我学到的所有东西中，更好地理解和使用 git 是影响最大的事情之一。每当我在实习前推动我的改变时，我都会这样做:

```
git add .
git commit -a -m “added a few features” 
git push 
```

仅此而已。我通常会在一天结束时或者任何我不想失去进展的时候这样做。然而，在这家公司，我养成了在一个标准化结构中承诺的习惯，这种结构被称为[常规承诺](https://www.conventionalcommits.org/)。

# [](#how-it-works)工作原理

你不再“只是”写你的信息，而是遵循一个模板，看起来像这样:

```
<type>[optional scope]: <description>

[optional body]

[optional footer] 
```

每个提交都有一个属于预定义类别的类型，在该公司，具体类别有:

*   `feat`:终端用户可见的功能。
*   一个对最终用户可见的错误修复。
*   `chore`:不影响最终用户的变更(如 CI 渠道的机会)
*   `docs`:自述文件或文档的变更
*   `refactor`:产品代码的变化，侧重于可读性、风格和/或性能。

范围指定了您更改了什么，最好用一个词来表示。描述只有一行，具体说明了变化是什么。如果提交消息中应该包含更多信息，您可以使用主体。最后，还有一个页脚，您可以在其中标记相关问题或拉式请求。

一个“常规提交”的例子:

```
git commit -m "feat(ratings): added the ability to add star ratings to posts.

This has been a feature requested by different users. 
Changes in the database structure where necessary to make this happen. 

closes #105" 
```

使用这种提交结构对我每天如何使用版本控制以及我的提交消息的“质量”都有影响。

## [](#1-more-descriptive-commits)1。更具描述性的提交

我认为最明显的变化是我的提交比以前更具描述性。通过提供类型和范围，甚至在查看作为提交一部分的文件之前，就可以更明显地发现哪里发生了变化。这也允许描述集中在什么改变了，因为其他细节是已知的。尽管正文和页脚是可选的，但它们对将来非常有用。例如，一个描述某个 bug 是如何被修复的以及它涉及到哪个问题的主体，在后来发现这个修复无意中导致了其他特性的行为变化时，会非常有帮助。

## [](#2-a-change-in-workflow)2。工作流程的改变

当使用常规提交时，我不能在一次提交中收集我所做的所有更改。我必须慢慢来，想想我当初做了什么。在此基础上，我开始提交我的工作。例如，当我添加一个重要的特性或改变 CI 渠道时，我仍然会立即编辑文档。我不是一次性提交所有文件，而是存放某些文件并编写适当的提交消息。这在开始时感觉像是大量的工作，但是当事情出错或不像预期的那样时，从版本控制的角度来看，找出变更发生的时间要容易得多。

## [](#3-using-more-git-features)3。使用更多 git 特性

除了“适当的”暂存之外，我还使用了很多 git 特性。公平地说，这也是因为 git 工作流的其他方面(不同分支中生产和开发代码的分离)。重写提交消息或[删除我最近的本地提交](https://github.com/k88hudson/git-flight-rules#i-want-to-delete-or-remove-my-last-commit)是我以前没有做过的事情。

使用这种提交结构有更多的好处。其中之一是，清晰的变更日志可以由工具生成，某些关键字的使用会触发 Github 和 Bitbucket 等存储库托管解决方案中一些很酷的功能。了解 git 的最好方法是使用它。我不得不承认，在尝试新事物的时候，我确实到处都搞砸了。我真的推荐 [git 飞行规则](https://github.com/k88hudson/git-flight-rules)库，以防出现问题或者你不完全确定如何做某事。

希望你自己愿意尝试传统的提交。
~快乐编码:)