# React.js 中 PROPS 和 STATE 的区别

> 原文：<https://dev.to/guimg/differences-between-props-and-state-in-reactjs-1kic>

很多时候我遇到过用 *React* 编程一段时间的人，他们仍然不知道一个组件的**道具**和**状态**到底有什么区别。在这篇文章中，我将尝试用最有趣的方式来解释它们的不同之处以及它们的特性。

我很喜欢 Hootsuite 在 Github 上的一篇文章，他们说:

> 组件的主要职责是将原始数据转换成丰富的 HTML。

考虑到这一点，我们可以说**属性**和**状态**是那些数据，其中的组件将被滋养以呈现一个好的 HTML。

然后， *React* 的一个组件可以被视为一台机器或“黑盒”，它有一个数据的**输入**，和一个 HTML 的**输出**。我们今天将重点关注输入，即组件数据。

## 组件的输入

现在我们将看到这个黑盒中让我们感兴趣的部分。**道具**和**状态**。首先，在我们了解它们的区别之前，让我们看看它们的共同点:

1.  两者都是 JavaScript 对象。
2.  两者都是*触发器*渲染一个组件(当其中一个发生变化时，组件再次渲染)。
3.  既然 React 是确定性的，那么只要**道具**和**状态**的条目不变，结果永远是一样的。

那么有什么区别呢？

## 兄弟但不是双胞胎

组件的**属性**(对*属性*的简称)是由父组件给出的。我们不能改变他们，这是关键。当一个父组件创建一个子组件时，它可以传递一些**道具**(子组件将拥有的属性)。儿子可以使用或不使用父亲给他的这些财产，但他不能修改它们。

另一方面，**状态**相当于组件的时间快照，它是该组件的当前状态。因为组件由于与用户的交互、对其他地址的查询等而随时间变化。在一个组件的生命周期中，如果有任何变化，这将存储在一个名为**状态**的对象中。

总之，我们可以说“一个组件管理它自己的状态，但是属性是由它的前身给出的”。

## 什么时候使用状态？

组件的状态是可选的，因为它决定哪些事件将改变该对象(记住状态和属性都是 JavaScript 对象)。所以，在把所有组件上的状态都说成疯狂之前，我们要问下面这个问题:我的组件是静态的还是动态的？因为如果我的组件是静态的，就没有理由设置一个*状态*，事实上最好不要设置*状态*。

然后，我们可以按以下方式对组件进行分类，有*状态*和没有*状态*:

*   **无状态组件:**它只有*道具*。交互性不是很强，基本上只有`render ()`的功能，其他的很少。
*   **有状态组件:**它既有*道具*，又有*状态*。这些组件是与服务器交互、对用户事件做出反应等的组件。

## 最后一句话

我希望这个小指南能帮助您更好地理解组件的**道具**和**状态**是如何工作的。最后一个建议，在创建一个组件之前，停下来想一想你是否需要 **state** ，因为不放置它会让你的 web 应用程序更快。对于可视化和数据格式，总是使用*无状态组件*，当组件需要与客户端或服务器交互时，使用*有状态组件*。