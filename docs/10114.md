# 计算器进度概述

> 原文:[https://dev.to/kevinsarav/calculator-progress-overview-4g55](https://dev.to/kevinsarav/calculator-progress-overview-4g55)

我将讨论的项目是我在上一篇文章中简要提到的计算器项目。我提到的任何项目都会在我的 GitHub 里。如果你需要的话，下面是这个项目的直接链接。我将讨论这个项目，不做任何调整，因为几个月前它被触及。这个讨论只是为了让我可以讨论整个项目，并发现在我继续之前需要修复什么。对于每一篇文章，你可以随意向下滚动到最后一段，看看我对我从分析我的项目中学到的东西的总结。这篇文章会比我以后的文章更长，因为我在讨论过去几天的工作，并试图理清我的思路。

[https://github.com/KevinSarav/Calculator](https://github.com/KevinSarav/Calculator)

* * *

所以在这个项目中，我用 Java 作为编程语言。我扩展了 JFrame 并实现了 ActionListener，这样我就可以为我的计算器制作 GUI 了。JFrame 让我使用 GUI 函数来制作 GUI，稍后将使用 ActionListener 来接收用户的输入。我创建了两个双变量:一个记录输入的数字，另一个记录运算的结果。我还创建了一个布尔变量，看起来像是在检查输入的数字是否是十进制数。

我做了两个列表数组，一个是 double，一个是 String。双列表用于保存输入的数字。无论用户输入什么，输入的 double 变量都会不断地向自身添加。一旦按下操作，该输入值将被添加到双列表中。该操作放在字符串列表中。将数字添加到双列表并将运算添加到字符串列表的过程一直持续到按下等号。

一旦按下等号，输入的数字将根据字符串列表中的下一个操作进行加减乘除。首先，前两个输入的数字将进行运算，然后结果将与下一个数字进行下一次运算，直到最后。

到目前为止，我的 GUI 有百分比、平方根、平方、倒数、清除输入、清除、删除、除、乘、减、加、负号、句号和等号按钮。

PERCENT
percentage 操作将使输入等于到目前为止输入的值乘以 0.01，然后由于某种原因，该值将乘以双精度列表末尾的值。如果输入乘以 0.01 就能得到我想要的结果，我可能需要重新考虑我为什么要这么做。

平方根/平方/逆/清除输入/清除全部
平方根运算只是用了一个简单的 Math.sqrt(input)。平方运算将输入的数字乘以自身。逆运算就是用 1 除以输入。清除输入操作使输入的数字等于 0。清除所有操作将使输入等于 0，我的两个列表都将经历。clear()操作。

删除操作将首先检查我的输入是否不是小数。如果不是，它会用输入模数 10(输入数右边最右边的数)减去 input。这将除以 10。这使得我们减去最右边的数字，然后将小数移到左边。比如 53 减去输入模数 10 会变成 50，然后 50 除以 10 会变成 5。这有效地从我原来的 53 中删除了 3。

如果输入的数字是一个带小数的数字，那么这就是我做一些不同的事情的地方。看起来我没有完成我的想法。代码在这里没有完成。首先，我创建一个字符串值，它等于我输入的数字的字符串值。然后，我创建一个字符串数组，看起来像是将数字一分为二:小数点左边的前半部分将添加到数组中，小数点右边的后半部分将添加到数组中。更具体地说，我放入的代码是:array.toString()。拆分(" \ ");。我不知道为什么我有两个退格。我可以很容易地在引号里留下 a。我将不得不重新考虑我为什么那样做。

然后我做了一个整数变量，它等价于小数点右边的所有数字，因为那是我要删除数字的地方。我觉得不用两个不同的数组就能做到这一点，但这可能只是为了让代码更容易理解。然后我有一个 for 循环，遍历小数点右边的每个值。对于每一次迭代，我都试图乘以 0.1，但我不确定是什么和为什么。我没有完成那个代码。我把它留在*= 0.1。我将不得不重新考虑这个想法。我不能只减去最右边的数字，因为那样我会减去一个整数。我需要将最右边的数字乘以有多少个小数位，这样才能工作。也许这就是 for 循环想要做的，但是我也可以很容易的做到，只要使用数组的长度，所有的数字都在小数点的右边。

除法/乘法/减法/加法
当一个操作被按下时，我把到目前为止输入的数字加到双列表中，使输入为 0。我将操作 pressed 添加到字符串列表中，并使我的小数布尔值为 false 来重置。

数字
当一个数字被按下时，我做了一个整数变量，等价于被按下的数字。如果小数的布尔值为 false(数字中没有小数)，那么我将输入的数字乘以 10，然后将用户按下的数字添加到结果中。例如，如果我们想将 5 加到 34，那么 34 乘以 10 得到 340，加 5 得到 345。它实际上是在 34 的右端加了 5。

如果布尔值为真(数字中有一个小数)，那么我创建一个数组，再次将数字一分为二，就像我的删除操作一样。我有一个 for 循环遍历数组(小数点右边的每一个值)，然后在每次迭代中将选择的整数乘以 0.1。然后将结果加到输入的数字上。这是有道理的。例如，我们想在 56.3 上加 8。一次迭代将 8 乘以 0.1，得到 0.8。我们需要再进行一次迭代来得到 0.08。然后将它加到 56.3，得到 56.38。我们实际上在 56.3 的末尾加了 8。我需要为我的删除操作这样做，以及处理小数。

负号/小数/等于
负号操作只是将输入的数字乘以-1。如果输入的数字是正数，它会变成负数。如果它是负的，它就会变成正的。小数运算只是使小数的布尔值为真。等号运算将输入的数字添加到双列表中。我的结果变量等于来自计算方法的双精度结果，该计算方法为我的两个列表都提供了参数。然后打印这个结果，小数的布尔值被重置为 false，两个列表都被清除，来自 calculate 方法的结果被添加到我的空 double 列表中，这样我们就可以继续进一步的操作，或者如果用户想要删除全部。

CALCULATE 方法
CALCULATE 方法从创建一个 double 变量开始，该变量获取 double 列表中的第一个值。然后，该方法通过两个 for 循环。第一个从 1 开始，一直到双列表的长度。这似乎是因为它想说明这样一个事实，即在第一次迭代中，前两个数相加。第二个 for 循环从 0 开始，一直到字符串列表的长度。然后是一个 switch case，它在第二个 for 循环的当前迭代中获取操作。无论这个操作是什么，结果变量都会经历双列表的当前迭代中的值。我可能需要重新考虑这个方法，因为第二个 for 循环将首先完成，然后再进行第一个 for 循环的下一次迭代。这意味着第一个操作将应用于双列表中的每个数字，然后第二个操作将应用于双列表中除第一个以外的每个数字，以此类推。可以说，我想保证我同时处理两个 for 循环。我想对前两个数字进行第一次运算，然后对下一个数字的结果进行第二次运算，依此类推。

* * *

这基本上概括了我目前为止的计划。我将在下一篇文章中讨论这个问题，并修改我的代码。一旦我找到了，那就差不多是全部了。我差不多完成了这个项目；我只是被困在如何处理小数和如何计算。我相信在处理小数时，我的数字操作思路是正确的，所以我需要将其应用到我的删除操作中。我还需要修正我的计算方法，这样它就可以用正确的变量正确地通过每一个运算，我想找出为什么我做了百分比运算。下一次，我想在我的 GUI 中添加一个文本框来显示用户正在按下的按钮，而不是仅仅将按钮存储在用户看不见的程序中，然后将结果打印到控制台。

现在，快速更新一下我的小组项目。这就是所谓的干净交换。我们从一个基本的主页开始，但是没有保存任何文本，按钮也不做任何事情。我相信第一个议程是让我们的登录工作一旦网站完成。我们需要用户输入用户名、密码和电子邮件，然后向用户发送确认电子邮件，并记录用户名和密码。该小组的负责人提到，她想通过使用盐和散列来安全地加密密码。我将不得不深入研究这一点，以及如何用我选择的编程语言来实现它，这种编程语言可以是 Java 或 Python。

在我的下一篇文章中，我将更多地讨论我做了什么来修复我的计算器程序，我给它添加了什么，以及小组项目的进展。到时候见！