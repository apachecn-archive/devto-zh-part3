# 可以说 RDB 和 Firebase 的 DB 都用了。

> 原文::1230【https://dev . to/dala 00/rdbfirebasedb-4n 4b】

今年开始使用 Firebase 后，RDB 和 Firebase 的数据库( Firestore、Realtime Database )哪个使用起来更方便呢，这一点在我自己心中一直成为议题。 不过，原本并不是必须选择其中一个，而是明白了适当地使用两个就可以了，所以关于这一点的杂记。

首先，为什么会有烦恼的地方呢？

## Firebase 的数据库的缺点

最大的还是不是关系型的，以及查询很弱。 不能统计，或者不能马上取得想要的数据。

## RDB 的缺点

总之先做成 RDB 的话，什么都能做，但缺点还是需要服务器或者钱。 放入服务器内的话会在意管理和规格的调整等，另外使用 RDS 和 Cloud SQL 的话当然会花钱。

虽然也有使用 Heroku 等 Postgres 和 Jaws 的方法，但是容量太少了。

## 对 Firebase 的期待太高了

虽然 RDB 的优点很好，但 Firebase 数据库在不需要服务器方面的优点也同样非常好。 因此，有一天升级的时候查询会不会变强，会不会更容易获取数据，这样的期待太高了。

我想大概是挪用了 Datastore，所以过于期待也没用，暂时需要考虑一下现在的现状如何使用。 使用 Firebase 的数据库的话，就有必要好好考虑制作方法。 (虽然这样很有趣)

## 没有必要限定为某一个

于是我注意到，即使原本使用 RDB 的 APP 应用程序，如果同时使用 Firebase 的数据库的话会更方便吧。

例如，以这个 Crieit 为例，前几天制作了可以实时现场公开草稿的功能。

[安装了可以实时公开编辑中的内容的实时投稿功能](https://crieit.net/posts/634be945aec88661d0edd1656e25f588)

这个网站是以 Google Compute Engine 的永久免费框中可以使用的 f1-micro 为例运行的，总之内存的使用量也很小，很贫乏。 Laravel 暂时具有可以与 Pusher 等合作使用 WebSocket 的功能，所以 Laravel 本身也可以实现实时公开功能，但最终在状态发生变化时要获取数据等，就会对 Laravel 本身进行访问。 如果频率太高，以现在的服务器规格来看，有可能会变得很严格。

那时想起的是 Firebase 的 Realtime Databse。 这虽然有同时连接数等限制，但对写入、读取等次数没有特别限制。 也就是说，如果在限制内附加实时公开功能的话，就可以在服务器零负荷的情况下实现实时公开功能。

实际上草稿输入中的内容不需要特别保存在服务器上，所以输入的内容直接保存在实时数据库中，观众只接收，完全没有服务器负荷和费用负荷，完成了现场公开的功能。 作为免费运营的个人开发服务，这种做法很合得来。 如果太流行了，人多了就不行了，但现阶段完全不用担心。 反而多了一个玩具，增加了乐趣。

相反，也可以考虑在只使用 Firebase 的服务中追加 RDB 的利用。 在 RDS 和 Cloud SQL 中费用会增加，但总之 Heroku 的 Postgres 等也可能。 只有 Firestore 方面不擅长的统计和想进行灵活分页等的数据，通过并用保存，可以经由 Cloud Functions 轻松地获取统计数据等。

## 总结

总之，灵活地考虑，通过并用，以达到无论在性能上还是费用上都是最佳形式的状态为目标是很有意思的。