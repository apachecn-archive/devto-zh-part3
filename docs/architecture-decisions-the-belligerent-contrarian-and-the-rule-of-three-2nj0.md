# 架构决策:好战的反向投资者和三法则

> 原文：<https://dev.to/danlebrero/architecture-decisions-the-belligerent-contrarian-and-the-rule-of-three-2nj0>

*图片归属:[pix abay 上的 geralt](https://pixabay.com/illustrations/stairs-silhouettes-human-upward-70509/)。*

这里有几条简单的规则，在我做软件架构师的这些年里，它们对我帮助很大。

# 三的法则

第一条规则是，当你不得不做任何决定时，至少要有三种可能的选择。

为了找到这第三个选项，我们需要从不寻常和新颖的角度来看待这个问题，或者带回那些因为我们认为它们明显错误而被丢弃的选项。

这基本上是一种实施头脑风暴的方式，但是使用一个清晰的规则，而不是称之为头脑风暴，这在我的经验中多少有些帮助。

# 三的法则

三原则的第二条是，必须至少有三个人参与决策。

这三个人都不太可能有相同的背景和偏见，所以备选方案将从更多样化的角度来看。

# 好战逆势

如果每个人都有相同的偏好选项，那么房间里有三个选项和三个人是没有用的。必须至少有一个人不同意小组的意见，并且有充分的理由选择不同的选项。

如果没有这样的人，那么就不会有关于哪个选项最合适的真正辩论，因为我们都会有偏见，以确保我们首选的选项看起来最好。如果我们有充分的理由做出选择，那么必须捍卫我们的立场将会非常明显。

不幸的是，很多时候没有这样的人，这意味着你必须愿意捍卫另一个选项，即使你认为不是最好的。

这意味着你必须确保你是最后一个发表意见的人，这样其他人都可以选择一个选项，你也可以选择另一个。

但这也意味着你必须深刻理解首选方案的弱点和缺点，加上其他方案的好处或可能的好处。这是一个很好的练习，让你诚实地审视自己的选择，并确保团队理解其中的取舍。

做一个好战的反向投资者并不是一个舒适的位置，因为很多时候你将捍卫一个看起来愚蠢或明显错误的位置，这意味着你必须对自己在公司和会议中的地位感到舒适。这个角色不适合初级架构师，或者你的自负不允许你犯错。

如果你决定扮演这个角色，重要的是不要说[“我在唱反调”](https://en.wikipedia.org/wiki/Devil's_advocate)好像你这样做了，人们就不会认真对待你的立场。如果这让你感觉更舒服，你可以在决定做出后说出来。

# 三的法则

当我们谈论三的规则时，我不能错过这个机会来提及三的设计水平规则:除非你有相同代码或逻辑的三个副本，否则没有复制。

第三次编写相同的逻辑时，您可以评估是否值得将这段代码移动到公共库或类中。

在有三个样本之前，您不能确定公共代码实际上是否足够公共。

* * *

令人惊讶的是，有多少次新的第三种选择最终成为了现实，要么是因为我们找到了更好的选择，要么是因为我们克服了自己的偏见。

扮演好战的反向投资者或魔鬼代言人有时很有趣，有时令人讨厌，有时令人沮丧，但最终，对选项进行良好的辩论意味着团队最终对所做的决定更有信心，并且更清楚可能的陷阱。