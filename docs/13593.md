# 软件开发的语义版本化

> 原文：<https://dev.to/egitsptr/semantic-versioning-for-software-development-2k2i>

给定一个版本号 **`MAJOR`。`MINOR`。`PATCH`** ，增量本:

1.  `MAJOR`版本当您做出不兼容的 API 更改时，
2.  以向后兼容的方式添加功能时的版本，以及
3.  版本当你做向后兼容的 bug 修复。

预发布和构建元数据的附加标签是对`MAJOR.MINOR.PATCH`格式的扩展。

## [语义版本规范(SemVer)](https://semver.org/#semantic-versioning-specification-semver)

本文件中的关键词**、【不得】、【要求】、【应】、【不应】、【建议】、【可】、【可选】**应按照 [<u>RFC 2119</u>](http://tools.ietf.org/html/rfc2119) 中的描述进行解释。

1.  使用语义版本控制的软件**必须**声明一个`public API`。这个 API 可以在代码中声明，也可以严格地存在于文档中。不管怎么做，都应该精确而全面。
2.  正常的版本号**必须**采用`X.Y.Z` ***的形式，其中*** X、Y 和 Z 是非负整数，**不得包含前导零。x 是主要版本，Y 是次要版本，Z 是补丁版本。每个元素在数字上都必须增加。例如:1.9.0 - > 1.10.0 - > 1.11.0。**
3.  一旦发布了一个版本化的包，该版本**的内容不得**修改。任何修改**必须**作为新版本发布。
4.  `Major version zero` (0.y.z)为初始开发。任何事情都可能随时改变。公共 API 不应被认为是稳定的。
5.  版本`1.0.0`定义了公共 API。该版本发布后版本号增加的方式取决于这个公共 API 及其变化方式。
6.  如果只引入向后兼容的错误修复，补丁版本`Z` (x.y. **Z** | x > 0) **必须增加**。错误修复被定义为修复不正确行为的内部更改。
7.  次要版本`Y` (x. **Y** 。如果新的、向后兼容的功能被引入到公共 API 中，则 z | x > 0) **必须**递增。如果 任何公共 API 功能为`marked as deprecated`，则**必须增加*****。如果在私有代码中引入了实质性的新功能或改进，则 It **可以**递增。它**可能**包括补丁级别的变化。当次要版本增加时，补丁版本**必须**重置为`0`。***
8.  主版本`X`(**X**. y . z |**X**>0)**如果任何向后不兼容的更改被引入到公共 API 中，则必须增加**。它**可能**包括小的和补丁级别的变化。当主版本增加时，补丁和次版本**必须**重置为 0。
9.  预发布版本**可以通过在补丁版本后添加一个连字符和一系列点分隔的标识符来表示。`Identifiers` **必须**只包含 ASCII 字母数字和连字符[0-9A-Za-z-]。标识符**不能为空。数字标识符不得包含前导零。预发行版本的优先级低于相关的普通版本。预发布版本表示该版本不稳定，可能无法满足与其相关的普通版本所表示的预期兼容性要求。例子:`1.0.0-alpha`、`1.0.0-alpha.1`、`1.0.0-0.3.7`、`1.0.0-x.7.z.92`。****
10.  构建元数据**可以通过在补丁或预发布版本后添加一个加号和一系列点分隔的标识符来表示。标识符**必须**只包含 ASCII 字母数字和连字符[0-9A-Za-z-]。标识符**不能为空。`Build metadata` **确定版本优先级时是否应该忽略**。因此，只有构建元数据不同的两个版本具有相同的优先级。例子:`1.0.0-alpha+001`、`1.0.0+20130313144700`、`1.0.0-beta+exp.sha.5114f85`。****
11.  优先级是指在排序时版本之间的比较方式。`Precedence` **必须通过按顺序将版本分为主要、次要、补丁和预发布标识符来计算**(构建元数据不计入优先级)。当从左到右比较这些标识符时，`Precedence`由第一个差异决定，如下:`Major`、`minor`和`patch`版本总是在数字上进行比较。例如:`1.0.0` < `2.0.0` < `2.1.0` < `2.1.1`。

    当主要版本、次要版本和修补程序相同时，预发行版本的优先级低于普通版本。例如:`1.0.0-alpha` < `1.0.0`。两个预发布版本`with the same`主版本、次版本和补丁版本**的优先级必须通过从左到右比较每个点分隔的标识符来确定，直到发现如下差异:**

    *   仅由数字组成的标识符按数字进行比较，带有字母或连字符的标识符按 ASCII 排序顺序按词汇进行比较。
    *   数字标识符的优先级总是低于非数字标识符。
    *   如果前面的所有标识符都相等，则较大的预发布字段集比较小的预发布字段集具有更高的优先级。

    例子:`1.0.0-alpha`<`1.0.0-alpha.1`<`1.0.0-alpha.beta`<`1.0.0-beta`<`1.0.0-beta.2`<`1.0.0-beta.11`<`1.0.0-rc.1`<`1.0.0`。

> [官方文字。](https://semver.org/)