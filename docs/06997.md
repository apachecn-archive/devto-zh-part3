# 真实世界开发人员的问题:API 版本控制

> 原文：<https://dev.to/jonathanbrizio/real-world-developer-s-problems-api-versioning-14ig>

后端世界是迷人的，充满了新的发现。开始时，你可能会对所有的信息感到惊讶，所以最好的理解方式是使用应用这些概念的例子。

当你设计你的后端时，有一些考虑是很重要的。认为你的未来契约会改变，你需要保持向后兼容性。

在某个时刻，你的 API 将会发展，你需要支持它们提供的特性。当它有可能破坏现有的客户端集成时，管理这种影响可能是一个相当大的挑战。

REST 没有指定任何版本控制的方法，但是更常用的方法是:

*   在 URI 上指定版本:
    `https://api.example.com/v1/`

*   使用自定义请求头:
    `Accept-version: v1`

*   或者，添加到 HTTP 接受报头
    `Accept: application/json; version=1`

使用这些方法，您的挑战将是用多个版本的资源管理整个代码库。内容协商可能会让您阻止修改整个 URL 集合，但您仍然必须处理提供不同版本内容的所有复杂性。

另一种方法是开发消费者驱动的契约，允许消费者声明他们感兴趣的数据作为请求的一部分。在最后一种情况下，你把责任委托给了客户。

无论您采用哪种方法，都需要对不断发展的契约进行一致和积极的治理。

请在此评论您推荐的或您知道的其他方法。