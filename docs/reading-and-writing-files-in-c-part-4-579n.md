# 在 C 语言中读写文件:第 4 部分

> 原文：<https://dev.to/noah11012/reading-and-writing-files-in-c-part-4-579n>

在最近的三篇文章中，我们只处理了文本，仅此而已。但是现在我们将深入研究二进制文件以及如何读写它。我敢肯定，如果不知道二进制文件是什么，第一个问题是，“它是什么？”。好问题，特别是对于我们将要使用的东西。

二进制文件是一种不能像文本一样阅读的文件。相反，它们更多地基于数值。

当打开一个二进制文件时，模式被额外设置为二进制，我们只需在末尾附加一个“b”即可。

示例:

```
FILE *binary_file = fopen(path, "rb"); 
```

您将熟悉的两个功能是`fread()`和`fwrite()`。通常，它们被保留用于处理二进制文件，但是也能够处理文本文件。

两者都有相同数量的参数，并且除了第一个以外，所有的参数都有完全相同的目的。`fwrite()`的第一个参数是数据将从哪里传输到文件，而在`fread()`中，它是从文件中读取的任何数据的目的地。因为第一个参数的类型是一个`void`指针，我们可以接收或传输任何类型的数据。第二是每个对象的大小。第三是我们要读/写多少个对象。最后，第四个也是最后一个是文件流。

我觉得你现在应该得到一个榜样:

```
#include <stdio.h> 
int main(void)
{
    FILE *file = fopen("test", "wb");

    int numbers[4] = { 65, 66, 67, 10 };
    fwrite(numbers, sizeof(int), 4, file);
    fclose(file);
} 
```

输出:

```
~/Desktop 
➜ clang main.c 

~/Desktop 
➜ ./a.out 

~/Desktop 
➜ cat test 
ABC

~/Desktop 
➜ 
```

如果你试图打开用文本编辑器编写的文件，它很可能会报错“未知编码”或类似的错误。如果你使用类似`cat`的终端命令，你会看到内容是 A、B 和 c。

即使我们没有写任何文本，我们也使用了字符对应的 ASCII 值。如果你不知道，数字 10 是换行符的 ASCII 值。

## 接下来

在下一篇文章中，我们将更多地利用它们来读写整个 C 结构！