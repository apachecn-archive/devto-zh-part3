# 用设计模式重构

> 原文:[https://dev . to/programming decoded/refactorings-with-design-patterns-4b 66](https://dev.to/programmingdecoded/refactorings-with-design-patterns-4b66)

我以前写过我认为有用的重构。但是当时我没有包括使用设计模式的重构，因为我还没有真正理解它们。现在我已经读了一本关于[设计模式](https://refactoring.guru/design-patterns)的书，希望这些能更有意义。实际上有一本关于[重构到模式](https://industriallogic.com/xp/refactoring/)的书，我还没读过。作为第一步，我想用课程中提到的模式列出重构，这样我以后可以很容易地找到它们:

**重复观察数据(观察者模式)**

如果存储在类中的域数据负责 GUI，那么将数据分成单独的类是一个好主意，这样可以确保域类和 GUI 之间的连接和同步。

**用状态/策略替换类型代码**

当具有编码类型的字段在对象的生存期内更改其值时，这种重构技术是一种解决方法。在这种情况下，通过替换原始类引用的状态对象来替换值。

**用工厂方法替换构造函数**

如果有一个复杂的构造函数，它不仅仅是在对象字段中设置参数值，那么这个函数就很有用。

**表单模板方法**

将共享的算法步骤合并到一个超类中，只保留子类中的差异。

**用委托替换继承(策略模式)**

如果继承没有意义，比如有一个子类只使用了它的超类的一部分方法，你应该考虑用组合来代替继承。