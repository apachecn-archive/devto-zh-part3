# 身份验证、授权和 OAuth

> 原文:[https://dev . to/elimer rell/authorization-authentic ation-and-oauth-1d4j](https://dev.to/elimerrell/authorization-authentication-and-oauth--1d4j)

当互联网用户允许公司和服务使用和存储他们的敏感数据时，他们对这些公司和服务非常信任。每次用户在线创建新帐户时，他们都需要创建新的用户名和密码，并可能被要求提供其他个人信息。例如，我有许多网上银行账户，我不太希望这些信息落入坏人之手。当开发新的应用程序时，我们作为开发人员必须优先考虑用户数据的安全性。身份验证和授权可以视为安全处理用户数据的第一步。用户身份验证和授权是一种确认用户身份并确保他们在线时访问正确资源的方法:

[![](../Images/1ec562e73eb4adeaa836820ccb314615.png)T2】](https://res.cloudinary.com/practicaldev/image/fetch/s--rIFL8_xU--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/5ygn7kq6ya1qp64a2fxt.png)

#### 证明

当我上网查询我的银行余额时，银行的网站会提示我输入登录凭据。银行将通过其认证服务器使用这些信息来验证我的身份。我不想让街上的任何笨蛋在网上模仿我，进入我的账户。认证通常使用唯一的用户名和密码来处理。当我第一次在银行创建帐户时，系统会提示我选择一个该银行的其他用户尚未选择的用户名。想想看，如果多个用户拥有相同的用户名，会有哪些潜在的问题。一旦我想出了完美的用户名，我必须选择一个符合网站密码指南的密码(注意:请不要对你访问的每个网站都使用 password1234)。银行很可能会要求额外的敏感信息来验证用户的身份，包括地址或社会安全号码。一旦银行收集了这些信息，它将确认用户的身份，并允许他们通过安全登录访问帐户。

#### 批准

现在我已经创建了一个帐户(并将我的宝贵信息委托给了一家在线银行)，我可以使用我的身份验证凭据来访问我的银行帐户。在努力记住我的密码后，我终于登录了。太好了！银行已经鉴定了我的身份，知道我是谁。现在发生了什么？答案是授权接过了认证的接力棒。同样，我们不希望任何人访问我们的银行账户，我们也不希望银行网站上的其他认证用户能够访问我们的私人信息。授权用于禁止用户访问不属于他们的资源和信息。用户不应该能够登录并看到他们邻居的银行账户余额(除非他们的邻居好心地提供了他们的凭证)。授权对应用程序施加限制，以确保服务器使用只有我可以查看和使用的资源进行响应。

#### OAuth 是什么？

OAuth 代表开放授权，它是一种标准化协议，开发人员可以使用它来共享私人用户数据，而无需在 web 应用程序和服务之间共享用户名和密码。OAuth 2.0 于 2012 年发布，不向后兼容最初的 OAuth。OAuth 2.0 依赖于请求令牌和访问令牌的传递，这些令牌验证用户的身份，并允许应用程序代表该用户访问资源。OAuth 2.0 提供了一个工作流，开发人员可以遵循该工作流将第三方身份验证集成到他们的应用程序中。OAuth 的一般流程如下:

1.  该应用程序要求用户允许代表用户(即他们的谷歌帐户)访问服务。

2.  在用户同意的情况下，该应用程序现在向谷歌请求令牌。Google 将用一个返回给用户的请求令牌来响应。

3.  用户将被提示登录到他们的谷歌帐户，这将授权请求令牌，并将授权的请求令牌发送回应用程序。

4.  该应用程序现在将授权请求令牌发送给谷歌，并说，“嘿，看，这个用户已经通过认证，我可以代表他们访问资源”

5.  最后，Google 将使用授权令牌进行响应，授权令牌授予应用程序使用客户端资源的权限。每当应用程序需要访问资源时，这个授权令牌就会在应用程序和 Google 之间来回传递。

为了强调 OAuth 的实用性，让我们继续我们的银行例子。假设我刚刚下载了一个新的应用程序，它可以让我将所有的个人财务信息保存在一个地方。这个应用程序允许我通过连接我所有的银行和信用卡账户并访问它们的余额和报表来跟踪我的每月支出。虽然我可能会信任这个财务应用程序，但给他们我所有银行和其他账户的凭证可能不是最好的主意。如果我向这个应用程序提供我每个银行账户的用户名和密码，它们现在就在公司的服务器上，等待被利用。更好的选择是让我的银行授权该应用程序，并允许它查看我的余额和交易，同时永远不要交出我的凭据。OAuth 的美妙之处在于，它减少了用户在访问每个网站时创建账户的需要，并大大减少了在互联网上流动的个人信息的数量。

我希望我对身份验证、授权和 OAuth 的简要介绍能够消除围绕这些主题的一些困惑。我期待在我未来的应用程序中实现 OAuth，因为它是保护用户和提高用户满意度的一个很好的工具！