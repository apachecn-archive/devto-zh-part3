# 用 UML 和现代 Java 进行软件开发

> 原文:[https://dev . to/atlassian/software-development-with-UML-and-modern-Java-bit bucket-1p9j](https://dev.to/atlassian/software-development-with-uml-and-modern-java-bitbucket-1p9j)

*本文由 Bitbucket 用户* [*亚历山大·拉杜洛维奇撰写。*](https://www.linkedin.com/in/aleksandar-radulovic/)

随着技术的快速发展，需要更有效地编写和维护软件，并与团队成员更好地交流。作为开发人员，我们很少有机会在赶时间的时候考虑这些事情。

当前的软件开发实践很少包括软件建模。即使在使用模型的时候，它们也主要是作为文档过程的一部分，并且经常看起来更像是一种负担。

本文的目的是描述一种不同的软件开发方法，这种方法将可视化建模和代码生成置于开发过程的核心。可视化软件模型强调沟通和内部软件设计，而不是简单地让事物工作。

我将描述我们如何使用代码生成器来自动化软件开发，通过使用 UML 模型作为使用 Spring、Spring Data 和 Hibernate 等框架创建现代 Java 后端应用程序的起点。

为了理解这种方法的潜力，我们需要考虑开发过程的不同基石以及这种方法对它们的影响:

*   统一建模语言(UML)——用于可视化软件系统和流程
*   现代 Java——现代 Java 生态系统的要素
*   构建软件产品—更快的原型制作和维护
*   团队动态——更好的沟通和更快的入职

[![](../Images/bbc199870b723713958165a01194b550.png)T2】](https://res.cloudinary.com/practicaldev/image/fetch/s--1BtWRwef--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/1024/0%2Akl2Kyu7RiNglbBu8.png)

让我们简要地看一下每一个。

### [](#unified-modeling-language)统一建模语言

统一建模语言(UML)是一种标准化的可视化软件建模语言。它的开发有一个雄心勃勃的意图:为软件团队提供一个标准的方法来可视化系统的设计，并提高团队对他们正在解决的问题领域的理解。使用 UML，人们可以可视化地建模概念、过程、状态机、交互或用例。

我们在日常工作中采用的方法是使用类图来建模领域概念以及它们之间的关系，并使用状态机来建模流程流。我们还记录了不同的模型元素:类、接口、属性等。因此我们可以在任何时候使用不同的格式和结构从模型中获得文档:javadoc 或 Swagger，仅举两个例子。

这是一个 UML 类图的例子。

[![](../Images/dfce83fcddaa3126affa536410045ebd.png)T2】](https://res.cloudinary.com/practicaldev/image/fetch/s--JGMSAZCv--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/1024/0%2ADnR7SagqqnSzwQZk.png)

### [](#modern-java)现代 Java

现代 Java 有一个充满活力的生态系统。虽然学习一门编程语言需要时间，但从该语言的生态系统中采用现代框架是一条额外的学习曲线。

#### [](#declarative-programming)声明式编程

声明式软件开发实践的出现已经悄悄地为模型驱动的开发开辟了新的途径。与不方便使用建模技术来指定的命令式编程流不同，声明式编程构造描述了软件的结构方面，这些方面可以自然地由类图来表示。

当代 Java 开发严重依赖声明性结构:尤其是注释。例如，不同的框架，如 Hibernate 和 Jackson，使用注释将对象模型映射到关系数据库或不同的导出格式(JSON、XML、Protobuf、BSON、CSV)。Spring 框架为 RESTful 端点的声明式开发提供了强大的支持，并且 Spring Data 引入了许多用于抽象数据存储访问操作的基本构造。

像其他类型的编程一样，声明式编程也是有代价的——我们在应用程序中引入了不同框架和库的复杂性。虽然这些依赖性给项目带来了复杂性，但是开发人员必须知道，通过让他们专注于高层次的目标，他们可以提供开发人员生产力的回报。

#### [](#code-generators)代码生成器

声明式编程允许代码生成。不必手工编写 Java 注释，只需在模型中将类标记为持久的，并让代码生成工具为您创建 Java 持久性 API (JPA)注释。代码生成不需要编写一行又一行的 JPA 注释，这有时会很麻烦，但代码生成可以让您不必为细节而烦恼。代码生成要么内置于您正在使用的 UML 工具中，要么作为一个插件提供——从 UML 到代码通常是一个点击过程。

这里有一个从上面显示的 UML 模型生成的 Java 代码的例子。

[![](../Images/e0cdca9b6a461a7c470c5c5ca09d349c.png)T2】](https://res.cloudinary.com/practicaldev/image/fetch/s--1QV41F05--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/988/0%2APVq0mZkB3q9szwc7.png)

为什么要使用代码生成器？代码生成器将设计语言(UML)翻译成实现语言(Java)。它为我们的开发过程带来了自动化，降低了整体开发的复杂性并简化了维护。我们可以真正专注于建模应用程序概念和服务，我们正在处理的核心抽象，而代码生成器将模型与代码库同步。此外，它促进了最佳实践的使用，并极大地影响了代码库的质量和一致性。

### [](#software-product)软件产品

当模型完成时，代码生成器创建一个反映我们设计的完整的起始项目——因此我们可以专注于实现业务逻辑。当涉及到软件维护时，您可以更改设计，并让生成器将更改传播到您的代码库。这个处理软件模型和使用代码生成器的过程允许快速的原型开发，更容易的软件维护，并且为你的产品提供更好的文档。

当您开始使用代码生成器时，很快就会出现一个问题:如何将您在代码中引入的更改与模型同步？我们对这个问题的回答很简单:不要那样做。模型是一组抽象，应该与实现分开。

这种单向转换通常被称为“模型优先”方法，因为它明确地强调建模，而不是相反。

另一方面，我们仍然希望能够修改生成的 Java 代码。为此，我们依赖 Java 源文件中保留的部分，这些部分在多次代码生成过程中保持定制更改不变。

### [](#development-team-now-has-a-visual-map)开发团队现在有了一个可视化的地图

团队发展和沟通在每天为取得成果而忙碌的过程中经常被低估。

使用代码生成将 UML 模型带到了软件开发过程的核心。产品的 UML 模型成为一个可视的地图，随着工作的进展而发展。有了这个图，不同的团队成员可以更好地理解软件，并进行集中讨论。新团队成员的加入现在快得多:他们不再阅读一行又一行的代码，而是依靠一个实时的地图来传达主干思想，而没有实现的具体细节。

这种可视化软件开发技术改变了团队成员的传统职责，促进了对领域的相互理解，并提高了团队凝聚力。当使用模型驱动开发时，软件开发人员的角色更接近于业务分析师的角色。另一方面，业务分析师清楚地了解软件是如何构建的，以及领域概念之间的关系。最后，QA 工程师对应用程序有了更好的理解，所有团队成员都讲同一种语言。

### [](#conclusion)结论

虽然可以使用代码生成和建模来自动化部分软件开发，但我们在实践中并不经常看到这种情况——要么是因为缺乏意识，要么是因为缺乏资源来投资审查和研究新的工作方式。如果本文表达的思想让您对模型驱动开发感兴趣，有几种方法可以更进一步。

低代码开发解决方案有多个提供商。Mendix 就是其中之一，它有一个全面的[低级代码开发指南。](https://www.mendix.com/low-code-guide/)

这类产品最好的开源例子是 JHipster，这个项目已经被全球成千上万的开发者所接受。JHipster 核心团队设法将来自不同软件开发领域的专家联系在一起，开发出这个令人惊叹的应用程序生成器。

我们自己的努力是用一个用于代码生成的插件来扩展 StarUML，这是我们软件建模的首选工具——这是本文示例中使用的插件。

最后，无论你使用什么工具和方法，软件开发都是一个人的事情，因此，它有许多不同的方面，很难衡量和管理。模型驱动的开发不能代替质量需求的缺乏，团队内同理心的缺乏，或者总体上组织文化的缺乏。它补充了敏捷开发方法，但并没有取代它们。

***作者简介:*** *亚历山大·拉杜洛维奇(Aleksandar Radulovi)是一名软件开发人员和架构师，他开发了 StarUML 的代码生成器插件* [*Rebel*](https://www.archetypesoftware.com/) *。当他不开发软件时，他喜欢阅读莎士比亚之类的经典著作，或者跳探戈。在*[*Linkedin*](https://www.linkedin.com/in/aleksandar-radulovic/)*上和他连线。*

喜欢分享你的技术专长吗？了解更多关于[位桶编写程序](https://bitbucket.org/product/write?utm_source=blog&utm_medium=post&utm_campaign=bottom-post)的信息。

*原载于 2019 年 6 月 5 日*[*【https://bitbucket.org】*](https://bitbucket.org/blog/software-development-with-uml-and-modern-java)*。*