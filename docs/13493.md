# 我的团队应该如何在这个特定的项目中使用 Git？

> 原文:[https://dev . to/Katie kodes/how-should-my-team-use-git-for-this-specific-project-4k Pb](https://dev.to/katiekodes/how-should-my-team-use-git-for-this-specific-project-4kpb)

TL/DR:我们不需要 Git 所做的一切，过渡到 Git 会给我们的工作增加更多的步骤。怎样才能减轻痛苦？

* * *

我参与了一个小团队，该团队一直在使用 SFTP 将代码和配置文件放到一个辅助项目服务器上。

*   一个新成员说，“嘿！为什么我们不使用 Git 来跟踪这个服务器上的`CUSTOM_CODE`文件夹的内容，并通过一个可靠的云提供商来保存这个存储库的副本呢？我们会有很好的备份、更改日志，并且我们会更好地了解谁在何时、为什么更改了什么。”
*   回答基本上是，“好的，听起来不错。设置好，准备好了再教我们。”

前几天，他宣布他已经准备好使用第三方云存储库，我们应该将它视为“事实的来源”，他已经通过持续集成建立了这个存储库，这样，如果我们更改第三方存储库中的某些内容，它将覆盖我们服务器上的`CUSTOM_CODE`文件夹的内容。

因此，我们希望使用标准的 Git 过程将代码提交给第三方存储库，而不是 SFTPing 服务器并将文件上传到服务器(然后，显然，只需等待 CI 系统将我们的更改传递给服务器)。

* * *

现在，`CUSTOM_CODE`中的文件并不是真正“运行在”服务器上的软件的一部分，比如说，负责保持 dev.to 在线的代码是“运行在”web 服务器上的。

*   它们大多是互不相关的脚本，通过任务调度器进行调度，以清理数据、移动数据等。
*   通常，`CUSTOM_CODE`中的文件:
    *   是它自己独立的商业逻辑世界，
    *   每 3 个月- 10 年才编辑一次，
    *   编辑时，大约需要 5 分钟- 2 小时来编辑，
    *   通常需要 1 分钟，因为没有服务器访问权限的人对他们一直保存在硬盘上的脚本副本进行了一行编辑，现在只希望“看门人”用包含脚本的文件的最新版本更新服务器。

换句话说，Git 非常擅长解决的许多“分布式开发”和“合并”问题并不是我们当前面临的问题，也不是我们期望在不久的将来会面临的问题。

(我工作的另一个团队开发传统的网络应用...我肯定他们的工作流程很不一样。我感觉我已经看到他们连续几个月分担编辑一组紧密耦合的文件的责任，而不是“5 分钟- 2 小时”)

* * *

我问设置第三方遥控器和配置项的同事，“好吧，我们不只是登录到服务器并将文件放入它的文件系统，而是做以下事情？”

1.  确保我们的计算机上有一个新的“官方”代码库，它是第三方“远程”的“本地”存储库
2.  在我们的本地计算机上编辑文件*(或者根据我们自己的偏好，或者根据某人要求我们“把关”他们的脚本更新的指定)*
3.  使用各种“Git”命令将文件内容的“新的和改进的”副本与我们的提交注释一起发送到第三方“远程”，进行“合并”以修复我们自己在“步骤 1”中未能计划的任何问题*(或者，鉴于文件更新的频率很低，极不可能有同事同时为我们工作)*
4.  等待配置项将文件放在服务器上
5.  要有耐心，抵制诱惑，不要只是 SFTP 到服务器，把文件放在那里

他基本上确认了“是”，并补充道，“CI 将覆盖您上传到服务器上的第三方遥控器不知道的任何内容，如果这有助于 w/ #5 的话。”

* * *

也就是说，他说自己相对来说是 Git 的新手，所以他对最佳实践没有太多的看法。

*   例如，我说，“你认为我们可能想要与团队分享`git fetch --all` + `git reset --hard origin/master`作为“在开始编辑代码之前”的最佳实践吗？
*   他回答说，“如果有问题，为什么不合并呢？”
*   我回答说:“我不知道。因为我以前从未合并过，考虑到我们通常处理文件的方式，这听起来更难。这有点像我偶尔用电脑在 GitHub 上编辑博客文件的方式。我并不在乎我的电脑上有什么；我只关心 GitHub 上有什么。但是我不知道合并是什么样的。这听起来就像是工作。

看起来我们都没有足够的 Git 经验来表达强烈的观点——只是我们已经/还没有尝试过的事情。

* * *

因此...开发社区...

通过 Git 协作编辑像我们这样的文件库，有什么“战争故事”和“最佳实践”吗？

与旧的“SFTP，拖，放，退出”系统相比，感觉有很多潜在的挫折。

帮助老狗学习新技巧的建议，这样整个团队将享受转变并感到富有成效，将不胜感激！