# 解释了不同类型的测试

> 原文:[https://dev . to/the jessleigh/different-type-of-testing-explained-1ljo](https://dev.to/thejessleigh/different-types-of-testing-explained-1ljo)

前几天在 standup 中，我团队的 DBA 谈到了为他最近的项目运行冒烟测试。我以前听过人们谈论冒烟测试，但由于某种原因，我从来没有真正明白，我不知道冒烟测试是什么。它与单元测试有什么不同？整合测试？回归测试？

在这一点上，我觉得有点尴尬，我不能清楚地说出这些事情之间的区别，所以我决定做一点研究，写一个解释者，以便我将来可以参考它，而不是感觉像一个无知的丁格斯。我想，由于我已经做了将近 5 年的开发人员，并且有这个问题，可能还有其他人也同样不好意思问。

在阅读了一堆不同的博客帖子、堆栈溢出问题和随机资源后，我为几个不同类别的测试构建了一个共识的弗兰肯斯坦近似。花了一点时间在谷歌上搜索之后，我认为要理解不同种类的测试，有三件事值得考虑。

1.)他们测试什么样的东西？
2。)这些测试什么时候编写和运行？
3。)测试失败提供了什么信息？

不同的人有不同的定义，一个测试套件可能包括多种类型的测试。例如，您可以运行一组测试，将集成测试和回归测试合并到一个套件中。那很好。存在灰色区域，团队习惯于开发他们自己的、特定于团队的词汇。您不需要为这些类别中的每一个都准备一个全面的套件。您应该在对以下各项有意义的级别进行测试:

*   你的应用程序的复杂性
*   你的应用看到的流量
*   你的团队的规模

如果你认为我从根本上误解或遗漏了一些重要的东西，尤其是如果你从事测试工作，请在评论中告诉我！

## [](#unit-tests)单元测试

他们测试什么？

单元测试评估代码的每个原子单元是否按照预期的方式执行。理想情况下，当您计划和编写单元测试时，您应该隔离不能再分解的功能，然后测试它。

单元测试应该*而不是*测试外部依赖或交互。您绝对应该模拟 api 调用。单元测试纯粹主义者还会让你模拟数据库调用，只确保你的代码在外部资源给定正确输入的情况下正确运行。根据您现有的代码库或您经理的偏好，这可能是不可能的。如果您不能从您的单元测试套件中排除数据库功能，请确保您关注性能并寻找[潜在的优化](https://dev.to/thejessleigh/speed-up-your-postgresql-unit-tests-with-one-weird-trick-364p)。根据经验，我可以告诉你，长时间运行的单元测试套件是非常令人不愉快的，并且会显著降低开发速度。

我什么时候运行它们？

您应该与代码并行编写和运行单元测试。当人们提到测试驱动开发时，他们指的是单元测试，并使用测试作为你的代码应该完成的规范。

当他们失败时会发生什么？

失败的单元测试让你知道一段特定的代码被破坏了。如果你已经把它分解得足够深入，你的失败应该会放大到没有按预期工作的那段代码。

失败应该帮助你快速识别和修复问题，并让你知道什么时候你的规格需要更新。对于何时更新代码文档，它们可能也是一个很好的指南。

## [](#integration-tests)集成测试

他们测试什么？

集成测试检查两个或多个原子代码单元之间的交互。您的应用程序由执行特定小功能的单个单元组成，这些小功能中的每一个都可能独立工作，但当您将它们组合在一起时就会中断。

集成测试还测试您的代码与外部依赖项的集成，如数据库连接或第三方 API。

我什么时候运行它们？

集成测试应该是单元测试之后的下一步。

当他们失败时会发生什么？

当集成测试失败时，它告诉你应用程序的两个或多个核心功能不能一起工作。这可能是您编写的两个模块在一些复杂的业务逻辑中发生冲突，或者是由于第三方 API 改变了它们的响应结构而导致的失败。在数据库连接失败的情况下，它可能会提醒您错误处理不好。

失败可能很容易识别，或者可能需要一些手动验证和实验来识别。难以解决的集成测试失败表明您可以改进日志记录和错误处理。

## [](#regression-testing)回归测试

他们测试什么？

回归测试检查一组在过去有效并且应该相对稳定的场景。

我什么时候运行它们？

您应该在集成测试通过后运行回归测试。在现有回归测试通过之前，不要将新特性添加到回归测试套件中。

当他们失败时会发生什么？

回归测试失败意味着新的功能破坏了一些现有的功能，导致了回归。

失败应该让您知道哪些旧的功能被破坏了，并且表明您需要在您的新特性和旧的、被破坏的特性之间编写额外的集成测试。

回归测试失败也可能表明您无意中重新引入了过去修复过的 bug。

## [](#smoke-testing)烟雾检测

他们测试什么？

冒烟测试是一个高级的、严格管理的自动化测试集，位于集成测试和回归测试之间。它们的存在是为了检查你的网站的核心功能是否被破坏。

这个术语似乎是管道工程的遗留物。如果你能看到烟或蒸汽从管道里冒出来，那就是管道漏了，需要修理。

我什么时候运行它们？

冒烟测试应该是对整个系统的测试，确保核心功能保持完整。这些应该不全面。这些是你的重要的，宏观的，不能通过的测试失败。您应该在试运行和生产环境中尽早并经常运行它们，最好是每天都运行。

当他们失败时会发生什么？

如果冒烟测试失败，说明你的网站功能有很大问题。在这些故障得到解决之前，您不应该部署新的更改。如果它们在生产中失败，修复它们应该是非常重要的优先事项。

## [](#acceptance-testing)验收测试

(我也听说过这叫 QA/BV/手工测试之类的。)

他们测试什么？

验收测试通常是在端到端开发完成后执行的一组手动测试。他们检查以确保所写的特性实际上满足所有的初始规范或验收标准。

当他们失败时会发生什么？

看起来你在写代码的时候错过了一些功能。你需要回到开发部门去解决这个问题。:(

如果验收测试失败，您可能需要在下次规划过程中更早地决定验收标准。

我什么时候运行它们？

因为这些是手动测试，而不是作为代码运行的测试，所以时间安排有一点不同。您和您的项目所有者应该在项目工作开始之前起草一套验收标准。发现的或添加到项目中的任何额外范围都应该反映在验收标准中。

验收测试应该在开发完成后很快进行，这样如果有些地方不太对劲，你就可以回去快速迭代。在单元或集成测试之后，在需要进行重大更改之前，在测试过程中走得太远之前，做这些是有意义的。

## [](#performance-testing)性能测试

他们测试什么？
性能测试检查产品和基础设施的稳定性、可伸缩性和可用性。您可能会检查每秒的错误数或加载一个页面需要多长时间。性能测试不一定有通过/失败的标准。这个阶段更多的是收集数据和寻找需要改进的地方。

当他们失败时会发生什么？
性能测试不会像单元测试套件那样失败。取而代之的是，你收集一组基准，并根据你想要的那些数字来评估它们。如果您的性能测试失败了，它可能会告诉您需要更加关注基础设施的伸缩、数据库查询时间等。

我什么时候运行它们？
在重大发布和重构之后，性能测试是一个好主意。

## [](#load-testing)负载测试

他们测试什么？
负载测试是一种专门的性能测试，专门检查你的产品在预先确定的一段时间内在重大压力下的表现。

当他们失败时会发生什么？
负载测试评估你对流量的显著增加准备得如何。如果负载测试失败，并不意味着你的网站崩溃了，但它意味着你没有为病毒攻击或 DDOS 攻击做好准备。对于刚起步的小产品来说，这可能不是什么大事，但是当你的用户群开始扩大时，失败应该是一个问题。

我什么时候写呢？
负载测试不应该是你一开始就关心的问题，但是随着你的产品变得越来越大，越来越成熟，你可能应该对新的特性进行负载测试，看看它们是否会影响网站的整体性能，看看它们是否可以被优化。

我再也不能说我不知道什么是冒烟测试，希望你也在这个过程中学到了一些东西！正如我上面提到的，我不是一个测试人员，所以如果你注意到我遗漏或误解了什么，请在评论中告诉我！

:)