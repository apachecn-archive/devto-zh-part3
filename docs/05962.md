# 有效的工程师(第三部分)

> 原文:[https://dev . to/its coders life/the-effective-engineer-part-iiib-2obn](https://dev.to/itscoderslife/the-effective-engineer-part-iiib-2obn)

我又开始读这本书[《有效的工程师》，作者是 Edmond Lau](https://www.amazon.com/Effective-Engineer-Engineering-Disproportionate-Meaningful/dp/0996128107/ref=sr_1_1?keywords=the+effective+engineer+by+edmond+lau&qid=1554741721&s=gateway&sr=8-1) 。我在阅读时记下了这些要点，这样它也可以作为我和其他人的备忘单。我强烈建议买下这本书，至少读一遍。

这本书分为 3 部分，我的想法是写 3 篇博文，每篇一篇。这是这个系列的第二部分。这里可以看[第一部，这里](https://dev.to/itscoderslife/the-effective-engineer-series-part-i-1kp4)可以看[第二部。](https://dev.to/itscoderslife/the-effective-engineer-part-ii-382a)

对于第三部分，我会做一些不同的事情。这本书的第三部分相当冗长，尤其是这一部分的第二章。所以我觉得把最后一部分分成三个部分，每个部分都是这本书的一章。你可以得到第三部分第一章的概要。

从我们离开的地方继续，这是 _ **建立长期价值的第二部分……**_

### [](#minimize-operational-burden)**尽量减少运营负担**

拥抱操作简单性–先做简单的事情

复杂的架构在几个方面增加了维护成本:

—工程专业知识分散在多个系统中。

—复杂性的增加带来了更多潜在的单点故障。

——新工程师在学习和理解新系统时面临着更陡峭的学习曲线。

–改进抽象、库和工具的努力在不同的系统中被稀释了。

构建快速失败的系统–快速失败以查明错误来源

快速失败的例子包括:

—当遇到配置错误时在启动时崩溃

—验证软件输入，特别是在很久以后才会被使用的情况下

—从外部服务冒起一个你不知道如何处理的错误，而不是吞下它

—当对数据结构(如集合)的某些修改会呈现依赖的数据结构(如迭代器)时，尽快抛出异常。 不可用

–如果关键数据结构已损坏，则抛出异常，而不是在系统内进一步传播损坏

–断言关键不变量在复杂逻辑流程之前或之后保持不变，并附上足够描述性的失败消息

–尽早提醒工程师任何无效或不一致的程序状态

无情地自动化机械任务–自动化决策机制

问问你自己:通过手动完成一个特定的任务，或者通过支付自动化过程的前期成本，我会节省更多的时间吗？

–时间是我们最宝贵的资源。坚持不懈地向自动化推进"

–不要因为以下原因停止自动化:

–现在没时间

–公地悲剧–对自动化不感兴趣(个人利益高于团体长期利益)

–不熟悉自动化工具

–低估任务的未来频率

–没有将节省的时间内化为长期的时间

–自动化可以提供帮助的活动包括:

–验证一段代码、一次交互或一个系统的行为是否符合预期

–提取、转换、 汇总数据

—检测错误率峰值

—构建软件并将其部署到新机器上

—捕获并恢复数据库快照

—定期运行批处理计算

—重启 web 服务

—检查代码以确保其符合风格指南

—训练机器学习模型

—管理用户帐户或用户数据

—添加或删除服务器

重要提示:当你从自动化机制转向自动化决策时，自动化会产生递减的回报。鉴于您的时间有限，首先关注自动化机制。将由 12 个命令组成的复杂链简化为一个脚本，明确地执行您想要的操作。只有在你摘下所有容易摘到的果实后，你才应该尝试解决更难的问题，即如何自动做出明智的决策。

让您的批处理过程幂等——以幂等性和可重入性为目标

“在没有人工干预的情况下执行一系列操作的脚本被称为批处理过程。”

“一个幂等的过程不管运行一次还是多次都会产生相同的结果。”

–能够以高于严格必要的频率运行不频繁的流程，更快地暴露问题

–当幂等性不可行时，构建批处理流程，使其至少可重试或可重入仍然有所帮助。

–一个可重试或可重入的流程能够在先前中断的调用后成功完成。

–一个不可重入的进程通常会在某个全局状态上留下副作用，阻止它在重试时成功完成。

更频繁地运行批处理还允许您透明地处理各种故障。每 5 到 10 分钟运行一次的系统检查可能会发出虚假警报，因为临时的网络故障会导致其失败，但是每 60 秒运行一次检查并且只在连续失败时发出警报会大大降低误报的几率。许多临时故障可能在一分钟内自行解决，减少了人工干预的需要。

磨练您快速响应和恢复的能力——计划和练习故障模式

–网飞、谷歌和 Dropbox 都认为意想不到的事情会发生。

——他们练习自己的失败场景，以加强快速恢复的能力。

——他们认为，最好是在局势平静的时候，主动为这些情况制定计划和脚本，而不是在他们无法控制的情况下争夺解决方案。

–提出“如果”( what if)的问题，并制定处理不同情况的应急计划:

–如果一个关键的 bug 作为发布的一部分被部署了怎么办？我们能以多快的速度回滚或修复，我们能缩短这个窗口吗？

–数据库服务器出现故障怎么办？我们如何故障转移到另一台机器并恢复丢失的数据？

–如果我们的服务器过载了怎么办？我们如何扩大规模来处理增加的流量或减少负载，以便正确响应至少一些请求？

–如果我们的测试或试运行环境被破坏了怎么办？我们如何提出一个新的？

–如果客户报告了紧急问题，该怎么办？客户支持需要多长时间通知工程部门？工程部门需要多长时间跟进修复？

——实践我们的失败场景，以便我们可以快速恢复，这也更普遍地适用于软件工程的其他方面:

——如果经理或其他利益相关者在不经常召开的评审会议上对产品计划提出异议，该怎么办？他们可能会问什么问题，我们如何回应？

——如果一名关键团队成员生病、受伤或离开，该怎么办？我们如何分享知识以使团队继续运作？

——如果用户对一个新的有争议的功能感到反感怎么办？我们的立场是什么？我们能多快做出反应？

——如果一个项目错过了承诺的截止日期怎么办？我们如何早期预测下滑、恢复和应对？