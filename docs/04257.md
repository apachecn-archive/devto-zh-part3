# 语言和复杂性

> 原文:[https://dev.to/gtanyware/language-and-complexity-cn8](https://dev.to/gtanyware/language-and-complexity-cn8)

这篇文章是由 Quora 上最近发布的几个问题引发的，询问 JavaScript 的未来。

我应该从免责声明开始；我不是语言学家，尽管我对自己的语言(自然地)有相当多的专业知识，对另外三种欧洲语言和另外两种语言有不同程度的精通。与我们生活的世界相比，我对计算机世界中语言和复杂性之间的关系感兴趣。所以，请原谅我拐弯抹角地谈论这个话题。

“语言”这个词很有趣。在意大利语中是 *lingua* ，在法语中是 *langue* 。这两个词都与“舌头”这个词密切相关，事实上我们有时也在英语中使用它，例如在“母语”中。

但是在英语世界里，我们从来不把计算机语言称为语言。原因很简单；大多数计算机语言听起来都像是胡言乱语的疯子或者不好笑的维托·埔柱版本。

我最近读完了一本以雅加达为背景的英文侦探小说。里面夹杂着印度尼西亚的单词和短语，还有几个荷兰语单词(印度尼西亚曾经是荷兰的殖民地)。虽然很少解释这些词的意思，但通常可以从它们的上下文中猜测它们的意思。

关键是，我从来没有认为这部小说是复杂的。文字本身并没有给一篇书面作品注入复杂性。我们要么理解它们，要么不理解，但我们得到的总体印象并不复杂，不管引入了多少新单词。难读，也许；有时很烦人，尤其是当奇怪的名字只是为了引起注意而出现的时候。英语本身比其他任何语言都有更多的词汇，但它远没有德语或意大利语复杂。复杂性是不同的东西；这与*结构*有关。一部复杂的小说有多条相互交织的故事情节，大量的主要人物或有规律的倒叙。这些都是*的结构*特征。

这让我想到了 JavaScript。一种计算机语言，最初旨在为网站构建者提供增加网页交互性的方法。最初的功能集是非常不充分的，所以早期用户很快就把它推到了极限，想要比它能轻易提供的更多。

对此的回应来自两个方向。JavaScript 的核心特性集相当完整，但它在相当低的水平上运行，因此它能够作为其他软件的平台来提供增强的特性。一个方向是向外，以框架的形式提供核心语言中没有的结构；另一个向上，以取代核心 JavaScript 的更高级语言的形式。

### [](#direction-outward)方向:朝外

框架给语言带来了结构，而语言在这方面本来就很欠缺。然而，它们也增加了复杂性。实际上没有什么是被替换的，只是被添加了一些东西，这些添加的东西伴随着复杂的使用规则。添加的内容和规则从一个框架到另一个框架变化很大，直觉对学习过程没有什么帮助。这是相当不幸的，因为时尚瞬息万变，毫无预警。一个开发人员可以花一年的大部分时间学习一个框架，却发现唯一可用的工作要求一个完全不同的框架，这需要在学习上的另一个巨大投资。

随着时间的推移，新版本的 JavaScript 本身包含了许多使框架成为必要的特性，以至于有人认为(例如这里的)它们中的许多是多余的。框架构建者的反应是添加更多的依赖特性，所有这些特性都需要理解有效使用它们的复杂需求，并且彼此之间差异很大。

可以假设这种趋势暂时还会继续，但是多少复杂性是可以容忍的必须有一个上限，因为它越来越多地限制了能够处理它的熟练工程师的数量。这对维护的影响比对开发的影响更大，当用来构建产品的工具过于复杂，更糟糕的是已经过时时，就很难维护产品。

### [](#direction-upward)方向:向上

第二个方向是向上而不是向外。这些附加功能并没有给 JavaScript 增加额外的功能，而是为核心特性提供了更具表现力的替代品。

有些人可能会对此感到惊讶，但是这种方法的第一个例子出现在任何主要框架之前，并且至今仍然非常流行。JQuery 为任何专门为浏览器设计的编码系统所需的许多特性提供了一种“简写”。这是向成熟的编程语言迈出的第一步。

一旦掌握了基本原理，JQuery 语言的特性就非常直观。它们非常符合非技术用户对浏览器和文档对象模型(DOM)的看法，因此非常容易学习。话虽如此，他们仍然将 JavaScript 语法的其余部分完全暴露出来，这就是为什么我在前一段中称之为中途步骤。

### [](#higherlevel-scripting)高层脚本

什么半路上？在这里，我们从现在走向未来，一切都结束了。今天做出的任何自信的预测都很可能被一些没有人预见到的左领域发展所淹没。正如有人开玩笑说的，“预测很难——尤其是未来”。

虽然 JavaScript 是浏览器直接理解的唯一语言，但也不排除使用其他语言。例如，有各种各样的 transpilers 可以将 Python 编写的代码转换成 JavaScript。这种方法并非没有缺点，需要在使用结果代码之前进行编译，并且在浏览器中调试可能会有问题，因为您看到的代码与您编写的代码几乎没有相似之处。但是这些和其他问题很可能被克服，所以这是一条可行的道路。

不得不说，虽然 Python 通常被认为是比 JavaScript 更高级的语言，但它们都没有接近普通的古英语。对程序员来说，两者都是无可厚非的计算机语言。然而，这并不是普遍的情况。更高级方法的一个很好的例子是 AppleScript，它本身是 Macintosh 计算机早期 HyperTalk 的后代。

AppleScript 和类似的语言在外观上非常像英语，有点像烹饪食谱、导航或逐步汽车维护的简洁说明。(他们并不试图处理真正的自然语言；这是人工智能系统的工作，超出了本文的范围。)它们的最大优势在于，它们不仅能被程序员理解，也能被普通人理解，最重要的是网站所有者，他们的需求正被捕获并以代码实现。正如 Linus Torvalds 所观察到的，“只要有足够多的眼球，所有的错误都是肤浅的”。SQL 用户可以证明，领域专家和程序员都能读懂的语言会带来很多好处。

类似英语的脚本看起来不像传统的程序代码。一个显著的区别是对*结构*的关注较少，而对*意图*的关注较多。换句话说，脚本读起来更像是编写它们的用户故事。当使用 React 或 Angular 编程时，您需要首先构建结构。意图仍然存在，但往往很难找到。使用高级脚本，实现从非常广泛的概述开始，并逐渐填充细节。

程序员经常会遇到这样的需求:用脚本实现一段笨拙或低效的代码。这通常是需要一些新语法的信号，因此设计良好的脚本语言有能力接受无缝扩展该语言的插件。这个过程很大程度上是人类语言的工作方式，创造了新的捷径来描述任何可以用简洁的方式封装的复杂实体。人类大脑欢迎这些增加，不认为它们增加了复杂性，而是简化了；新的信息可以与已经存在的信息相结合，经常取代那些笨拙得多的描述。例如，如果没有“激光”这个词，就很难讨论 CD 播放器是如何工作的。

## [](#selfcompilation)自行编译

不管源语言是 Python 还是看起来像 AppleScript 的东西，它仍然必须被编译，或者至少被解释。后者效率非常低，所以我不会进一步考虑它，但是编译的机会正在稳步增长。我前面提到过 transpilers，但是随着计算机硬件变得越来越强大，软件技术越来越先进，自编译开始成为可能。

JavaScript 非常强大，可以让非常低效的代码以可接受的速度运行。用 JavaScript 编写一个每毫秒可以处理 10 行或更多行输入脚本的编译器是可能的，即使在智能手机上也是如此，特别是如果输出格式实际上不是 JavaScript，而是某种中间形式，可以被同样用 JavaScript 编写的运行时引擎有效地处理。通常可以安排在页面加载图像的同时进行大部分编译，因此对加载时间的影响是微不足道的。

## [](#load-on-demand)按需加载

许多大型 web 页面是复杂的，本质上是整体结构，其中大部分包含在初始页面加载中。随着 Web 应用程序格式的日益流行，一切都发生在一个页面中，这种方法很容易导致加载时间过长，从而降低 SEO 性能。并不是一开始就需要所有的东西，所以系统应该能够在他们需要的时候加载他们想要的东西。拥有一个能够按需读入脚本的板载编译器是实现这一目标的一个简单方法。虽然你可以动态加载 JavaScript 模块，但你需要处理浏览器缓存和安全(CORS)问题，而高级脚本只是文本；它们可以在浏览器中编译。预先需要的唯一 JavaScript 代码是编译器和运行时引擎；目前的一个例子，能够满足大多数网站的大部分需求，重量不到 200kb。为了进一步增强性能，您可以预编译脚本并加载预编译的模块，从而避免在页面运行时需要包含编译器。

在这种情况下，脚本是独立的代码模块，通过来回传递消息与其他脚本一起工作，因此不需要理解整个结构来为它编码。这种复杂性的降低是分布式代码方法的一个主要优点。

我的结论是，框架增加了复杂性，但是高级语言降低了复杂性，或者至少将复杂性保持在可管理的水平。目前，前者是所有活动的地方，但它们正在稳步增长，超出了我们的能力。是时候创造替代品了；最好是增加编码的可访问性，而不是把它保留为高度专业化的专业人员的领域。

标题照片由[马克·拉斯姆森](https://unsplash.com/photos/yri82tuk2TQ?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText)在 [Unsplash](https://unsplash.com/search/photos/language?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) 上拍摄