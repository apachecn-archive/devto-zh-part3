# 程序员的实用隐私(第 1 部分)

> 原文：<https://dev.to/rijks-ict-gilde/pragmatic-privacy-for-programmers-part-1-2gh4>

作为软件开发人员，我们必须确保我们构建的应用程序具有正确的功能，我们还必须确保它们满足各种非功能性需求。我们的应用程序更好地抵御黑客，足够快，不会打扰用户，快速扩展，不会在使用高峰时崩溃。截至 2018 年，隐私不可避免地成为这些问题之一。如果还没有的话，那就是 2018 年 5 月[通用数据保护条例](https://eur-lex.europa.eu/legal-content/EN/TXT/PDF/?uri=CELEX:32016R0679&qid=1541482324985&from=EN) (GDPR)的实施，这使得它成为大多数开发者的担忧。

对付 GDPR 的一个办法是举起双手，阻止所有人加入欧盟。这听起来有些极端，但是一些网站和公司已经这么做了。如果你没有这种选择，比方说因为你实际上生活在欧盟(像我一样)或者有用户或客户在那里，你就需要照顾这个隐私的事情。即使你不必与 GDPR 打交道，你也很可能必须遵守[其他隐私法律或法规](https://privacypolicies.com/blog/privacy-law-by-country/)。

也许我们中的一些人很幸运能在一家大公司工作，那里有隐私专家告诉我们该做什么。如果我们真的幸运的话，甚至可能会有一个对软件工程有足够了解的隐私工程师来负责这项工作。但是在很多情况下，这样的专家并不在我们的项目中。这意味着我们很大程度上需要自己解决这个问题。但是我们该如何着手呢？我们没有时间成为隐私专家！

在这篇文章(以及后面的部分)中，我将概述一种作为程序员处理隐私的实用方法。因为我在欧盟，我将使用 GDPR 作为这方面的指导方针，但是不管你需要遵守什么样的法律，它都应该是适用的。在我们开始实际的东西之前，有必要对隐私有一些基本的定义。

由于这是一个法律话题，请将以下内容作为通用方法，而不是您应用的特定解决方案。它可能包含不正确的假设，没有考虑到您的具体情况，旨在作为一个例证。

# 有点理论

当谈到软件时，隐私是关于对个人数据的保护。乍一看，这似乎很清楚，但更仔细的观察不会有什么坏处:

一、什么是个人数据？如果我们按照 GDPR 的说法，个人数据是与可识别的个人相关的信息。这是一个相当宽泛的定义，也有点模糊。没有什么构成个人数据的参考列表，也不可能创建它，因为它依赖于上下文。让我们以头发颜色为例。这信息显然与一个人有关。但是那个人也是可识别的吗？在全球范围内，没有。但有了额外的信息，我们也许能间接确定这个人的身份。例如，如果我们知道这个人在你的公司工作，或者住在你的街道上，仅仅知道头发的颜色就足以识别。在这种情况下，头发颜色属于 GDPR 的个人数据。

其次，我们构建的应用程序应该保护个人数据。我们应该保护个人数据不受任何人的侵害:对应用程序有技术访问权的人(也就是我们)，我们组织中的其他人，合作者和局外人。正确地做到这一点将需要我们履行一些职责。首先，我们需要有一个有效的理由(合法目的)来处理个人数据。接下来，我们只能出于那个原因(目的限制)使用它，等等。与个人数据相关的人也有我们需要保证的权利。所有者权利的例子包括知道何时处理个人数据(知情权)和能够看到处理了什么个人数据(访问权)。

总而言之，隐私是关于:

1.  个人数据:
    a .与个人相关的信息
    b .可识别的个人

2.  保护:
    c .职责
    d .所有者权利

# 顺从务实之道

在 GDPR 的统治下，由个人数据的处理者——我们——来表明他们遵守了规定。合规性听起来非常合法，但它与我们作为开发人员所做的并不遥远:我们使用自动化测试来显示我们的代码“符合”我们的功能需求，并通过监控来显示我们的应用程序“符合”我们的性能需求。让我们尝试为我们的隐私需求构建这样的东西。

使用上一节的理论，我们构建的第一个版本可能是这样的:

| 与人员相关的信息 | 个人身份？ | 职责履行完毕？ | 支持所有者权利？ |
| --- | --- | --- | --- |
| 富（中国姓氏） | 不 | 不适用的 | 不适用的 |
| 酒吧 | 是 | 981 号房 | 981 号房 |

基本上是个人数据候选列表。如果它实际上是个人数据(这个人是可识别的)，我们将需要确认我们已经履行了我们的职责并支持用户的权利。如果不是个人数据，保留在列表中以记录我们不认为这是个人数据还是有用的。

我们可以在任何我们想要的地方维护这个文档，但是把它放在一个中心的、容易访问的地方是有意义的。如果你使用的是 GitHub 这样的工具，把它放在`README.md`或者 wiki 中是有意义的。这也有能够嵌入自动检查的链接/图像的优势，如果我们能够做到这一点。

让我们测试一下这个提议的方法，并构建一个简单的应用程序。我们将逐步构建它，以展示这种方法在敏捷开发中的良好表现。由于该应用程序将有各种各样的功能来演示这种方法，我们姑且称之为[厨房水槽](https://en.wiktionary.org/wiki/everything_but_the_kitchen_sink#English)。

# 增量 1:回避个人资料。

在第一个增量中，我们将建立一个非常基本的静态网站，上面有一张厨房水槽的图片。我们会把它放在一个我们正在运行的服务器上。服务器上已经安装了 Apache(或 NGINX ),所以让我们在其中放一些静态 HTML。

关于静态网页中的隐私，这里没有太多要做的，对吗？实际上，我们已经在收集个人数据了。人们会访问你的静态网站。Apache 在其日志文件中记录了每次访问。页面访问是个人数据吗？它们绝对与一个人有关(一些公司花大价钱来知道你在访问哪些网站)。这个人也是可识别的吗？日志文件[通常会记录访问者的 IP 地址](https://en.wikipedia.org/wiki/Common_Log_Format)。虽然这不会给你一个人的名字，但 IP 地址通常可以让你跨网站识别一个人，这足以使个人数据可以识别。当你将 IP 地址与其他容易获得的信息结合起来时(要想知道什么是可能的，看看[浏览器指纹](https://www.eff.org/deeplinks/2018/06/gdpr-and-browser-fingerprinting-how-it-changes-game-sneakiest-web-trackers))，这真的是个人数据就变得更加清楚了。

因此，在建立了这个静态页面之后，我们的清单如下所示:

| 与人员相关的信息 | 个人身份？ | 职责履行完毕？ | 支持所有者权利？ |
| --- | --- | --- | --- |
| 网站访问 | 是 | TBD | TBD |

但是，我们真的需要这些个人数据吗？嗯，我们希望有数据来做统计分析，如访问者数量和来源，但我们真的不需要背后的人是可识别的。如果我们能做到这一点，它就不再是个人数据，不需要根据 GDPR 进行保护。

取消数据个性化有多种方法:

1.  根本不存储数据，或者删除标识符。这是迄今为止最简单的方法，但是当然有一个缺点，那就是我们不能以任何方式使用它们。
2.  聚集数据和/或标识符。这意味着以不再显示单个记录的方式进行汇总。在我们的例子中，这可能意味着直接将它输入到我们的 access 文件分析工具中。
3.  匿名化标识符。通过从数据中隐藏标识符，它不再是个人数据。如果我们愿意，这将允许我们为将来的目标保存日志文件。

还是匿名化吧。或者实际上，我们将采取一种稍微弱一点的形式:数据屏蔽。我们将屏蔽 IP(v4)地址的最后一个二进制八位数，而不是完全匿名化 IP 地址。所以`192.168.11.12`将被屏蔽为`192.168.11.x`，或者如果我们想保持它是一个有效的 IP 地址，`192.168.11.0`。可能有人会说这还不够，但这是谷歌分析正在做的的[，所以让我们认为这已经足够了。可以用](https://support.google.com/analytics/answer/2763052)[几个规则配置](https://stackoverflow.com/questions/19452624/apply-a-mask-to-ip-with-logformat)，或者通过安装一个[模块](https://github.com/webfactory/mod_log_ipmask)来完成。NGINX 和其他网络服务器也是如此。

在我们的“合规”表中注册这种去个性化的选择似乎是有价值的，因此我们可以明白为什么我们不将网站访问视为个人数据。让我们增加一栏:

| 与人员相关的信息 | 个人身份？ | 人格解体？ | 职责履行完毕？ | 支持所有者权利？ |
| --- | --- | --- | --- | --- |
| 网站访问 | 不 | 是(屏蔽) | 钠 | 钠 |

我们还没有完全完成。我们在这里声称屏蔽了标识符，但这并不意味着它是真实的。如果我们在某个时候修改了配置，我们将永远不会知道。因此，我们应该做一个测试，看看我们是否仍然符合这里的要求。如何做到这一点将取决于我们的设置。一种优雅的方法可能是使用日志分析工具，如 [Splunk](https://www.splunk.com) 、 [Elastic stack](https://www.elastic.co/products) 或 [Papertrail](https://papertrailapp.com) 。使用这些工具，您可以在访问日志中搜索是否存在未屏蔽的 IP 地址。如果这种不太可能的事件发生，你可以注册，或者得到通知，或者[发送一个 web 钩子](https://help.papertrailapp.com/kb/how-it-works/web-hooks)到一个不同的应用程序。

通过这项检查，我们得到了这次迭代的最终隐私概述:

| 与人员相关的信息 | 个人身份？ | 人格解体？ | 职责履行完毕？ | 支持所有者权利？ |
| --- | --- | --- | --- | --- |
| 网站访问 | 不 | 是(遮罩) | 钠 | 钠 |

请尽快加入我的下一部分，我将扩展厨房水槽应用程序，看看我们是否也能履行作为个人数据处理器的职责。

如果你想阅读相关主题的更多内容:

*   英国信息专员办公室对 GDPR 及其运作方式有一个全面的解释
*   《构建进化的建筑》 这本书定义了术语“建筑适应度函数”,它与上面的方法有很多重叠。
*   众所周知，良好的数据匿名化是非常困难的，正如[在这里使用出租车](https://tech.vijayp.ca/of-taxis-and-rainbows-f6bc289679a1)所展示的那样。

* * *

这篇文章之前发表在 [Rijks ICT Gilde](https://www.rijksictgilde.nl/actueel/weblogs/blog/2018/1-pragmatische-privacy-voor-programmeurs) (荷兰语)

*照片由[戴恩·托普金](https://unsplash.com/@dtopkin1)在[Unsplash](https://unsplash.com)T5 拍摄*