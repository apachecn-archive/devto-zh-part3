# 在您的构建中 Git 提交信息

> 原文：<https://dev.to/borrrden/git-commit-info-in-your-build-390l>

很长一段时间以来，我一直在生成 git commit 信息，以便在我的程序集内部使用，但我一直在以一种迂回脆弱的方式这样做。我找到了一个包含 MSBuild 任务的库，它为我完成了一项名为 [GitInfo](https://github.com/kzu/GitInfo) 的任务。起初我持怀疑态度，但这确实是我能做的最简单的事情。

要使用它，你只需要添加 Nuget 包。在幕后，它所做的是为 MSBuild 生成一个新的目标来运行，这将添加另一个基于模板自动生成的文件。这没什么太花哨的，但是它为您处理了很多烦人的事情，比如试图定位 git 可执行文件和运行各种 git 命令来提取有用的信息。自动生成的文件类似于当您的项目中有 XAML 文件时自动生成的文件(`*.g.cs`)。它们出现在您的“输出”目录中，不会干扰您的 git 暂存区。但是因为它是编译的源代码，所以你需要做的就是调用一个静态类来获得所有有趣的 git 信息。就我个人而言，我使用`ThisAssembly.Git.Commit`，它是短提交散列。然而，还有更多的东西可以玩。

看看吧！