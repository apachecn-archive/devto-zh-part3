# 死代码存活问题

> 原文：<https://dev.to/damnjan/dead-code-alive-problem-15c>

有多少次我看到注释了代码的一部分，或者我自己注释了它，留在那里作为某种提醒，我必须在之后应用操作。多少次我看到其他开发人员的死代码被评论或取消评论，并假装它有一个目的。嗯，我看得够多了，我已经知道为什么这个特定的死代码在那里的所有答案。

通常，死代码被留下是因为几个原因:

*   作为提醒的死代码
*   测试东西的死代码
*   展望未来的死代码
*   艺术死代码

### 死码提醒

这应该是一个提醒，我们必须在适当的时候采取行动。已经做了一些工作，但是我们现在不能做更多的重构来应用这种改变，或者我们现在没有时间来实现这种改变所必需的额外代码。如果开发人员在处理一些不相关的问题时产生了一个想法，并且一时不能转换焦点，但是当他有更多的时间时，可以为将来的自己留下指导方针，这是很常见的。

**如何处理**
如果你不是这个被评论出来的软件的创作者，试着与创作者取得联系，弄清楚删除它或最终实现它是否有意义。

**解决方案**
在您的票务系统中登记票务，该系统提醒您必须实施此变更。尝试取消对这段代码的注释，并将其放在一个单独的模块中，或者隔离为一个不同的函数。将 *TODO* 或 *FIXME* 提醒添加到代码中，这将向任何遇到这种代码的开发者表明，它必须被实现。

> **结论**:如果“解决方案”部分的所有步骤听起来都太复杂，那么可能不值得保留，只需删除死代码。

### 死代码测试东西

死代码和注释代码可能是应用程序工作的“旧”方式，所以我们只是用新代码尝试不同的(测试)方法，直到我们确定我们想要保留哪一个。这种情况下，死代码是 AB 测试中的一个案例。我多次看到这个例子，当奇怪的错误出现时，或者开发人员尝试一种新的方法来解决问题时，可能会优化部分代码或使用不同的库。但是，他仍然留下了这段未使用的代码

**如何处理**
希望你得到了数据和结论哪一部分代码对你更好，所以你不需要保留这两者。

如果有必要的话，再测试一次，希望你有单元测试可以证明两种解决方案(注释的和未注释的)都有效。如果你没有任何单元测试，那就创建它，这将是你能够充分判断保留哪个代码的唯一方法。

> **结论**:试用 AB 测试后，不存在需要保留 A、B 方案的情况。尽快排除其他解决方案。

### 死码展望未来

躺在那里等待机会被使用的死代码。过早优化，过多提前考虑未来的请求。

**如何处理**
代码应该被删除，不管它与开发人员有什么样的情感联系，关于投入的工作量和精神努力。将这些代码保留在代码库中是非常危险的，它会给新手带来困惑，而且很可能永远不会使用这个特性。

**解**
按要求实施事情。保持代码的可扩展性是非常有用的，但是提前过多地预测可能需要哪些特性或者必须实现哪些变化可能是痛苦的。

> 结论:遵循 5 个坚实的原则，你就能很好地维护代码的扩展。

### 死码为艺术状态

没有人能确切地说出为什么这段代码还在那里，但是每个人都避免这样做，因为编写这段软件需要付出努力。

**如何处理**
删除并提交，然后推送给 master。

**解**
当真，删了它。

> **结论**:没有人需要有人在生产中临时起意