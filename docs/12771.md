# 什么是 API？(提示:这不是三明治)

> 原文:[https://dev . to/madisonstankevich/what-is-an-API-hint-it-is-not-a-sandwich-16nb](https://dev.to/madisonstankevich/what-is-an-api-hint-it-is-not-a-sandwich-16nb)

如果你在两周前告诉我，一周后我将自豪地展示一个以使用 API 为中心的项目，我至少会怀疑。

不到两周前，我第一次接触到 API 这个术语。

当我和我的项目合作伙伴在开发我们的程序时，我们通过一个叫做“密钥”的东西来访问 Ticketmaster API，它本质上是解锁数据供我们使用。我们创建了一个程序，允许用户在 Ticketmaster 上搜索事件。用户可以通过包括城市、执行者和日期在内的各种选项来细化这些数据。你可以在 YouTube [这里](https://www.youtube.com/watch?v=hiRDU-swJhw)观看我们项目的视频演示，在 GitHub [这里](https://github.com/madison-stankevich/eventfindr)查看我们的代码。

我完全理解我们在开发这个产品时所采取的所有步骤，但是不知何故，我无法检测出这个过程的哪一部分可以被标记为实际的 API。

[!["You keep using that word. I do not think it means what you think it means.](../Images/a11081a9d4096360dfd27d6d761fe9c9.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--MuI_2Epm--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/ey3socz9qe6td3vnhycc.png) 
*形象，引自《公主新娘》(1987)*

这篇博文的目的是挑战我自己，简单而有效地描述 API 是什么，以巩固我对这个主题的理解。在这篇文章中，我使用的术语 API 特指 web API。希望这篇文章能对那些从新手的角度寻找 web APIs 解释的开发者有所帮助。

在我定义什么是 API 之前，我想先确定什么不是 API。

API 是**而不是**你正在寻找的数据。在我的项目中，我们从 Ticketmaster 中提取了各种事件的信息(如艺术家、地点、日期、时间等。)不构成 API。这些数据点是构成我们访问的 Ticketmaster 数据库的大量信息的一部分，而不是 Ticketmaster API。这是我在这个项目中的一个误解，所以我想在开始之前澄清一下。

## 那么……web API 到底是什么？

API 是允许两个程序交互的一点代码。它本质上是一个“接入点”。我能够理解这个概念的最好方式是通过与我个人真实世界经历相关的类比。

不足为奇的是，我最喜欢的 API 类比涉及食物——特别是三明治。三明治店的点餐流程？提供 API 使用的有形表示。

在哪一家？要点菜，你在餐厅前面填写一张可用的三明治表格，然后把这张表格交给收银员。三明治表单包括面包、肉、浇头等类型的各种复选框。并印在最终用来装三明治的棕色纸袋上。提交表格后，厨房会根据您要求的规格制作三明治，并将完成的三明治放入纸袋三明治表格中。这时，你的名字被叫到，你可以从收银台领取你的杰作。

如果你不熟悉在哪个餐馆点菜？，这段 YouTube 视频简要概述了这一过程:

[https://www.youtube.com/embed/eS55MGW3VHM](https://www.youtube.com/embed/eS55MGW3VHM)
*Marina Amdream 的视频，2014 年*

在这个类比中，企业的三明治表单扮演着 API 的角色，三明治供应品是您希望访问的数据。你(作为客户)正在扮演你的程序的角色。就像三明治表单一样，API 有一套您必须遵守的规则，以便访问所需的信息。如果你遵守规则，你很可能得到你想要的。

所以这应该意味着，如果一个顾客要求一个黑麦火鸡三明治，里面有鳄梨、西红柿、泡菜和生菜，那么她应该得到这个...对吗？

不一定。如果商店今天碰巧没有西红柿，那该怎么办？API 有不完整或缺失数据的情况并不少见。这是我和我的合作伙伴在与 TicketMaster API 交互时学到的东西。此时，作为开发人员，如何处理缺失的信息是您的决定。在我们的例子中，我们选择在三明治上贴上标签，说明“今天没有西红柿”。

在类似的场景中，你可以想象一个客户要求的东西不仅“缺货”，而且根本就不是可用的选项。API 也可能发生这种情况。

例如，如果哪个 Wich？顾客添加了一个额外的盒子选择，要求巧克力粉，厨房不会处理这个请求，因为巧克力粉选项不存在。通过要求不可获得的选项，顾客冒着根本得不到三明治的风险。根据经验，无论是在 API 中还是在哪个 Wich 中？，检查可用的选项，不要请求未列出的内容。否则，这将会令人失望。

如果你看过以上视频或者去过哪个 Wich？之前，你可能已经注意到鳄梨是额外收费的。这类似于一个 API。

有些 API 只允许公众访问某些功能，其他功能也可以购买。我们为 Ticketmaster 使用的 API 允许我们访问我们设定要包含的大部分信息。有一点没有包括在内，那就是票价；可以从 Ticketmaster 购买这些信息。或者，您可以简单地访问 TicketMaster 网站(Ticketmaster 的 url 可以在我们访问的免费数据库中找到)。对于我们的项目，我们选择将用户重定向到 Ticketmaster 网站。就三明治而言，我们选择跳过鳄梨“特色”来节省一些钱。

你可能会问自己，为什么顾客不直接购买三明治材料？

如果你试图直接获得三明治供应，你可能会被踢出餐厅，并可能面临法律诉讼。当顾客进入哪个 Wich？，她同意遵守他们的规则，以获得他们的产品。想象一下，每当你想要一个三明治的时候，自己做面包，自己种菜，自己养牲畜会有多难。作为客户，我们同意遵守规则来获得想要的产品，因为我们自己生产同样的产品所需的时间和精力是巨大的。对于 API 也是如此。我们遵守规则是因为我们没有能力独自开发类似的资源(不是没有大量的时间和努力)。

## 最后...

API 是一段代码，它允许一个程序与另一个程序进行通信，以展示一些有用的东西。不是“访问 API”，而是“通过 API 访问 ______”。这个空白空间可以是任何数量的有用的东西:数据库、产品、网页的一部分等等。在我个人的例子中，我和我的合作伙伴使用 Ticketmaster API 从 Ticketmaster 的数据库中访问事件信息。

我希望这篇文章有助于区分什么是 API，并且在这个过程中没有让你太饿。