# “防御性编程”实际上是健康的吗？

> 原文：<https://dev.to/cubiclebuddha/is-defensive-programming-actually-healthy-5flj>

我不能解决这个问题，我想我需要 DEV 社区的帮助。因此，一个开发人员在回应我所做的代码评审评论时，他们简单地问我，“我为什么要这么做？”我给出了我的标准答案:“因为你必须防御性地编码——你不知道未来会发生什么。”但是我突然意识到…我是不是在扩散对未来的恐惧？当我管理 CubicleBuddha.com 的时候，我怎么能恐惧地编码呢？我经常在博客上谈论快乐地生活在当下。我给大家分享一下具体的代码示例。我希望从社区中听到我的解决方案是“在此刻编码”还是我真的屈服于恐惧。

## 一个经典的防御性编程例子

审查同事代码的部分职责是尝试看看他们可能遗漏了什么。这符合防御性编程的标准定义:

> 防御性编程是指程序员预见到问题并编写代码来处理它们。( [1](http://programmedlessons.org/java5/Notes/chap72/ch72_5.html)

因此，假设您正在审查一个拉取请求，而代码正在做一些假设。乍一看，下面的代码样本看起来无关紧要。也许确实如此。但是在花了几十年的时间修复其他人的生产缺陷后，我的蜘蛛感觉被恐惧刺痛了。[一个特定的 bug 浮现在脑海中(我将在下面的第二个代码示例中演示)](https://gist.github.com/TheCubicleBuddha/d8242b0057b5c343c16ff1877d528984)这让我盯着 Github 代码审查，不知道如何继续。我陷入了困惑，不知道我是应该保持沉默，以保持与同事之间无忧无虑的关系，还是应该大声说出来，以防止潜在的生产错误。我是不是被早年职业生涯的阴影所困扰，那时我只负责修复 bug？还是说，我的成长岁月是一个无价的练兵场，造就了今天的我？

> “如果你沉浸在对过去的悲伤和悔恨中，或者如果你对未来会发生什么感到焦虑，那么你就不能真正自由地享受此时此刻生活中的许多奇迹。”
> 
> ~一行禅师

自己看看是否能找到容易出现错误的地方。如果你看不到 bug，那么我几乎是嫉妒你的过去没有告知你潜在的噩梦。不知道是一种幸福。但可悲的是，遇到产品 bug 的用户并不关心你的“幸福”，他们只想完成他们正在做的事情: