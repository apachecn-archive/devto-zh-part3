# 我们为什么选择 Vue

> 原文：<https://dev.to/optoro_engineering/why-we-chose-vue-53d0>

五年前，当我加入 Optoro(一家帮助零售商管理退货的技术公司)时，前端开发的世界完全不同。Grunt 是首选工具，Gulp 开始流行。“捆绑”只是将所有的 JS 连接成一个单一的`script.js`。AngularJS 是最热门的前端框架，CoffeeScript 是一种可以被社会接受的语言。

如果你从四五年前穿越到今天，会有很多新概念要学。自五年前以来，仅 ECMAScript 一项就发生了巨大的变化。这些事情使得从大口+角度的过渡到更现代的设置更加棘手。最重要的是，每个开发人员都有自己的观点，基于他们所使用的东西。让一群人相信 X 库比他们正在使用的更好需要很多努力。因为改变一个库/框架并不像改变你的`package.json`和几行代码那么简单。这些库/框架是投资。采用新技术总是有成本的。因此，在引入技术堆栈时，平衡某项技术的成本和收益是很棘手的。

最初，我们从“简单”的 jQuery 用户界面开始。随着我们产品的增长，我们希望扩展我们的用户界面。AngularJS 是我们当时的最佳选择，我们将它与 Grunt 结合起来，创建了 AngularJS 应用程序的单一报告。对于应用程序的单一回购，我们需要一个构建系统来构建每个应用程序。Grunt 可以帮助我们将 CoffeeScript、SASS 和 Haml 分别转换成 JavaScript、CSS 和 HTML。我们最终将构建系统切换到 Gulp，这持续了我们很长时间。

但是，正如你可以从这篇博文的标题中看到的，我们最终选择了 Vue，而不是其他优秀的框架/库。在讨论我们为什么选择 Vue 之前，我想谈谈我们在构建系统中加入 Vue 和支持 Vue 的步骤。由于一切都向模块、捆绑和代码分割方向发展，我们选择的任何东西都需要改变构建系统。我们再也不能摆脱脚本的字符串连接了。

新框架/库的另一个约定是使用基于组件的架构。所有的用户界面都是使用组件构建的。这些组件像 HTML 元素一样表达，可以很容易地重用。组件作者可以为他们的组件设置特定的 API，并允许更可预测的用户界面。由于我们已经有了许多用 AngularJS 编写的应用程序，我们决定从在我们当前的系统中采用基于组件的架构开始。这使得开发人员开始用组件而不是巨大的单片控制器来规划和设计他们的用户界面。当我们切换到 Vue/React/Angular 时，我们可以使用相同的概念。AngularJS 在 1.5 版本中增加了对组件的支持。这是令人兴奋和耳目一新的。这让 AngularJS 变得更加有趣和易于维护。在我们的黑客时代，我更新了我们的文档并增加了对 AngularJS 组件的支持，这样我们的开发者就可以开始构建组件了。

在组件化我们的应用程序的同时，更新的框架和库变得越来越流行。每隔一天就会有关于 React、Vue 或 Angular 的博客帖子。在我们的技术部门内部，关于我们下一步应该使用什么的讨论开始出现。团队开始计划新的项目。人们认为这将是一个寻找安古拉 JS 替代品的好机会。

随着我们技术部门的发展，维护我们前端应用程序的难度也在增加。有了全球串联脚本，跟踪事情变得非常困难。由于 AngularJS 通过依赖注入自动将服务注入控制器，因此通常很难跨不同模块跟踪这些服务——开发人员使用级联脚本做出的假设是，注入的服务在`script.js`的某个地方。这也增加了调试的难度。我们的包裹相当大。我们发布了大量未使用的代码。很容易让安古拉杰表现不佳。我们最终添加了 ESLint 和约翰爸爸的棱角分明的 T2 风格指南来改进我们的代码，但这仅限于 JS 代码。它不检查模板，而且很难在现有的代码基础上实施。linter 最终非常嘈杂，修复需要额外的时间。总的来说，我们准备尝试别的东西。

对于我们堆栈中 AngularJS 的继任者，我们的目标是挑选一些开发人员可以快速采用的东西，而不必经历巨大的思想转变。熟悉的东西肯定会赢得更多开发者的心。React 被排除在外是因为 JSX 和他与 AngularJS 完全不同的做事方式。Angular (2+)由于与 AngularJS 和 TypeScript 完全不同而遭到反对。最后，Vue 似乎是 AngularJS 的一个很好的替代方案。它有相似的模板语法和许多共享的概念(指令、过滤器和组件)。它也比来自 AngularJS 的 React 或 Angular (2+)更容易学习。

学习曲线并不是 Vue 吸引我们的唯一部分。我们的许多开发人员发现这些文档非常有用。一切都组织得很好，代码示例也很容易理解。在广泛阅读文档之后，用 Vue 学习和构建一些东西相对容易。不同的代码样本和示例确实涵盖了很多内容。我个人从文档中受益匪浅。

人们开玩笑说，“每五分钟就有一个新的 JS 框架。”有点夸张，部分正确。如果你没有积极关注 JS Twitter，那么新工具和技术的快速发展可能会让人不知所措。很难说一个新的图书馆是否能坚持下去。到目前为止，症结在于框架背后的社区。安古拉杰和恩伯树立了一个好榜样。

幸运的是，有了 Vue，我们不必担心这部分。Vue 周围充满活力的社区给了我们极大的信心。这不是另一个框架。很多人都在使用它，而且它的发展速度非常快。截至[2018 年 12 月 31 日](https://npm-stat.com/charts.html?package=vue&from=2018-01-01&to=2018-12-31)，Vue 在 npm 上已被下载 2300 万次，而 2017 年为 170 万次，Vue Devtools 拥有约 70 万用户，而 2017 年为 84k，Vue Github 资源库拥有 13 万颗星星，而 2017 年为 37k。Vue 的创始人尤雨溪在他的 Vue 演讲中提到了很多这些数据。

此时，我们意识到 Vue 是我们的最佳候选人。在用 Vue 赢得了我们技术部门的人心之后，在我们可以将 Vue 代码部署到生产中之前，还有很多工作要做。

现在困难的部分是将 Vue 安装到我们的构建系统中。我在我们的黑客时代又开始研究这个了。Vue CLI v2 使用 webpack，并包含基于模板的不同内容。我们所有的前端应用程序都存在于一个 git 存储库中，Gulp 用不同的插件构建它们，所以将 webpack 放入其中是很棘手的。最终，我使用了 npm 最好的特性之一:npm 脚本。默认情况下，Vue CLI 添加了一些 npm 脚本，用于本地开发、生产构建(缩小、丑陋、树抖动等)。)，运行测试并 lint JavaScript、CSS 和 HTML 代码。我利用这一点，让 Gulp 通过调用正确的 npm 脚本来构建 Vue 应用程序。这样我就不用把 webpack 和 Gulp 集成在一起了。这使得很多事情变得更容易，只要有正确的 npm 脚本可用，它将允许我们轻松地交换框架/库。一旦我有了一个工作实例，我就把它展示给我们的开发人员，每个人都很兴奋。

在打磨和修复与 Vue 集成的 bug 几个月后，我们于 2018 年 3 月将第一款 Vue 应用交付生产。在那之后，其他团队开始用 Vue 开发他们的新应用，反馈非常好。在 Vue 文档的帮助下，我们的开发人员能够在很短的时间内学会 Vue。我们的一些开发人员参加了在线课程，一些只是在飞行中学习。多亏了 webpack 的代码拆分，我们的包变得更小了，我们可以轻松加载所有非关键代码。这些性能改进将通过加快加载速度来改善我们应用程序的用户体验。

就这样，对吗？通过添加 Vue 和 webpack，我们是否已经解决了所有的前端问题？当然不是。一旦我们有了更多关于 Vue 的团队，我接下来想重点关注将初始 webpack 设置从 Vue CLI v2 过渡到 Vue CLI v3。这将允许我们放弃所有重复的 webpack 配置，拥有更简单的应用程序。

总有需要改进和升级的地方。这是我们的第一篇博文，接下来还有很多精彩的博文。我希望你能跟上我们的步伐！感谢您的阅读！