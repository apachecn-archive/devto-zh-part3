# “HTML-CSS-JS”和“CSS-in-JS”到底是什么？

> 原文:[https://dev . to/bhai bel/what-are-html-CSS-js-and-CSS-in-js-anyway-4c jp](https://dev.to/bhaibel/what-are-html-css-js-and-css-in-js-anyway-4cjp)

昨天下午，我认识的一个早期职业开发人员给我发邮件问:“人们对 CSS-in-JS 的定义是什么？”他们在互联网上看到了很多争论，但不知道如何参与讨论，因为没有人费心去定义术语。当我思考如何回答这些问题时，我意识到...“CSS-in-JS”是一个很大的总括术语！有许多不同的“CSS-in-JS”技术，其中一些比另一些更接近“传统的”HTML-CSS-JS 方法！

很多关于 HTML-CSS-JS vs . JS-JS-JS 的争论都是基于[历史背景和感觉](https://twitter.com/betsythemuffin/status/1090342513054007296)而不是精确的技术细节。我不认为试图把它变成一个纯粹的技术讨论是一个好主意，因为房间里有这么多其他的社会动态。但我也认为，如果我们*费心定义我们的术语*，讨论的技术方面会更健康。本着这种精神，我想谈谈我观察到的一些具体的前端策略。

## TL；速度三角形定位法(dead reckoning)

通过分解这些策略，我可以得出 CSS-in-JS 的最佳工作定义:

> 任何使用 JavaScript 来应用样式的技术，与应用样式来响应用户行为相反。

## [](#separate-file-css)【单独文件】CSS。

**一般不考虑 CSS-in-JS**

CSS 是在`.css`(或`.scss`，或`.less`)文件中开发的，这些文件与`.js`文件分开维护。在开发中，它们一般被保存在一个单独的`stylesheets`目录中。这些 CSS 文件可能会从几个小文件预处理成一个更大的 CSS 包，也可能不会。如果 CSS 使用面向组件的技术，开发人员使用 BEM 或另一种命名约定来确保组件级样式保持在组件级。

## [](#web-components-and-shadow-dom)Web 组件和阴影 DOM

**一般不考虑 CSS-in-JS**

关于 CSS 保存在“哪里”还没有很强的约定，因为这是一项年轻的技术！但是在这种样式中，影子 DOM 样式隔离用于确保组件级样式保持在组件级。

## [](#componentlevel-css-with-informal-scoping)带有*非正式*作用域的组件级 CSS

**一般不考虑 CSS-in-JS**

CSS(通常)是在`.css` /中开发的。`scss` / `.less`与其他组件文件(如 HTML、JS、JSX)保存在同一目录下的文件。这个策略也涵盖了在`style`块中使用`scoped`属性的**而非**的`.vue`文件。这些样式被预处理成一个更大的文件以便交付，但是没有添加数据属性或“roboclasses”来强制组件范围。相反，开发人员必须使用 BEM 或另一种命名约定来确保组件级样式保持在组件级。

## JS-应用的实用程序类

**有时被认为是 CSS-in-JS**

像 Tailwind 或 Tachyons 这样的工具类框架保存在一个单独的文件中。所有组件都由 JS 呈现，并使用 JS 来决定将哪些实用程序类应用于组件中的 HTML 元素。

## 带有 JS 强制作用域的组件级 CSS

**有时被认为是 CSS-in-JS**

在这种前端策略中，CSS 与组件文件一起用于样式化，或者嵌入在那些组件文件中，`.vue` style。Vue `scoped`属性或者像 React 的`styled-components`这样的插件在处理过程中被用来给组件的样式添加一个“roboclass”前缀，以便确定作用域。这个“roboclass”在组件的客户机或服务器呈现期间应用，所以这个策略*要求*使用 JavaScript 进行模板呈现。

## JS-应用内嵌样式

**几乎总是被认为是 CSS-in-JS**

所有组件都由 JS 呈现，并使用 JS 来决定将哪些特定的内联样式应用于组件中的 HTML 元素。“CSS 模块”就属于这一类。

* * *

在开始为期一个月的旅行之前，我正在快速赶写这篇文章。我的列表并不详尽，我的解释也可能不像我希望的那样清晰。如果你们能帮忙补充我遗漏或手写的内容，我将不胜感激，这样这篇文章/讨论就能成为困惑于 CSS-in-JS 讨论的人们的强大资源。

如果你们在讨论中不发表对这些技术的看法，我将不胜感激。我打算写一篇后续文章，谈谈我对这些技术的优缺点的看法。我欢迎你在*评论区发表意见！但在这里，我想保持它的定义，以最大限度地发挥这个帖子/讨论作为资源的效用。*