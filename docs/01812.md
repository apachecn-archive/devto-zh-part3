# 一个不同的行动和突变

> 原文:[https://dev . to/Emerson Pereira/entenda-a-diferenca-entre-actions-e-mutations-em-vuex-GK](https://dev.to/emersonpereira/entenda-a-diferenca-entre-actions-e-mutations-em-vuex-gk)

了解 Vuex 并想知道如何使用动作和突变？两者的区别？

这是介绍如何使用两者以及两者主要区别的介绍性文章。

但在此之前，如果您想知道什么是操作和转换，请注意:操作和转换是 Vuex 中的内置概念，它是管理 vista . js 中应用程序状态的一种方法(最初是 Facebook 团队流实现概念)。下面是一篇关于此事的文章的摘录。[vista . js Brazil](http://vuejs-brasil.com.br/)。如果你不知道 Vuex 是什么我推荐阅读如果你也知道的话。加强我们已经知道的概念总是很好的。

> 采用这种方法有一些优点:
> 
> 1.  您是否拥有添加/修改数据的集中位置；
> 2.  可用于所有组件：
> 3.  任何组件都不会直接修改信息，从而确保数据的一致性；
> 4.  附加工具使开发体验更好。
> 
> ――Trecho de[Artigo sobre Vuex do vue . js 巴西](http://vuejs-brasil.com.br/vuex/)

操作和转换都是更改应用程序状态的方法。不同的是每一个都使用的时间和每一个的作用。

假设您正在使用列出自行车的应用程序，并且选择了自行车类型，则必须调用外部 API 并使用从 API 中获取的数据更新列出自行车的页面。在此方案中，我们有以下流:

1.  当用户单击某个自行车类型时，我们通过向呼叫发送用户请求的自行车类型来触发一个动作。
2.  该操作将处理此请求并调用外部 API，等待返回该特定类型的 bikes。但动作不会改变状态。
3.  一旦 API 返回数据，那么就到了**突变**的演出时间。操作会将从 API 接收的数据转换为突变，并且突变必须更改状态。然后通过突变更新状态，结果应在页面上主动查看。
4.  用户高兴地看到他刚才选择的那种自行车。

所以我们有以下的流程:

1.  列出自行车的组件具有初始状态，其中列出了一些自行车。
2.  当用户单击自行车类型菜单时，我们用**动作**触发状态更改。
3.  Action 捕获 API 数据并发送到突变。
4.  突变 altera o estado。
5.  结果反映在页面上。

如你所见行动和变异是协同工作的。一个球传给另一个球，一切顺利。但此时你可能会想:

**但我为什么不直接打电话给突变？它可以获取 API 数据并立即更新状态！**

这是一个非常有效的问题，这种职责分离是有原因的:

*   动作可以使异步调用。
*   操作**可能有附带操作**，例如在调用 API 之前启用加载，在获取数据后禁用加载。
*   突变必须是**纯函数**，因此不能有调用其他函数或执行其他逻辑等附带动作。
*   突变**不**可以做**异步调用**。
*   突变具有改变**更新**状态的独特作用。

有些人会说这太浮夸了，无法管理状态的变化，还有人会主张明确分工的好处。

事实上，自从实施 Vuex 以来，这种部署一直运行良好，对于小型和大型应用程序来说，这已经足够了。但这并不意味着什么是好的不能变得更好。Vue.js 的创造者 Evan You 稍微谈到了一种可能的‘t0’股票和突变的融合’。

> 我们可以通过排除突变和合并两个概念来进一步简化概念。
> 
> [埃文·优于 2019 年阿姆斯特丹 vuejs】](https://youtu.be/zB3HOejXqwk)

我希望我帮助你更好地理解了行动和突变之间的区别。

## [](#refer%C3%AAncias)参考文献

如果你喜欢盎格鲁撒克逊语，我推荐阅读迈克尔·加拉格尔的这篇文章，他在文章中很好地突出每一个概念，给出例子，搭建场景，展示不同用途的优缺点。

一如既往，请查阅 vista . js 的官方文档:

*   vuex 是什么
*   [动作](https://vuex.vuejs.org/guide/actions.html)
*   [突变](https://vuex.vuejs.org/guide/mutations.html)

谢谢你的阅读，希望我能帮上忙。

emersonpereira.me