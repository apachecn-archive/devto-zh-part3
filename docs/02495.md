# react-beautiful-dnd 维护费用是多少？

> 原文:[https://dev . to/alexandereardon/what-do-react-beautiful-dnd-cost-to-maintenance-52e 8](https://dev.to/alexandereardon/what-does-react-beautiful-dnd-cost-to-maintain-52e8)

这个博客的目的是让人们看到维护开源拖放项目 [`react-beautiful-dnd`](https://github.com/atlassian/react-beautiful-dnd) ( `rbd`)所需的持续努力。`rbd`项目的维护看起来与其他开源项目不同，但我认为它仍然很有见地。通过公开维护信息，我希望消除这样一个神话，即开源项目导致的总工作量比私有资源少。开源有巨大的优势，但拥有成本不是其中之一。

## [](#-raw-rbd-endraw-is-popular-and-much-loved)`rbd`是深受喜爱的❤️

我很幸运地在[亚特兰大](https://www.atlassian.com/)将近两年的时间里几乎全职从事`rbd`项目，我是它的主要维护者。`rbd`在内部(吉拉软件、吉拉作品集、吉拉服务台、Trello 和 Confluence 等)和外部(脸书、box、Zendesk 等)被广泛使用。它现在是[排名前 20 的](https://bestof.js.org/tags/react) `React`项目，也是网络上下载量最大的[拖放包之一。该软件包一直是 Atlassian 的称赞来源。](https://www.npmtrends.com/react-beautiful-dnd-vs-react-dnd-vs-react-drag-and-drop-vs-react-sortable-hoc-vs-@shopify/draggable)

## 最好的防御是有效的进攻🏈

### [](#optimising-for-selfservice)自助服务优化

我采用了一些策略，旨在最大限度地提高员工的能力，让他们能够开始使用`rbd`，使用`rbd`，以及在不需要直接联系的情况下解决问题(**自助服务**)。它们包括:

*   创建了一个免费的`egghead.io` [快速入门课程](https://egghead.io/courses/beautiful-and-accessible-drag-and-drop-with-react-beautiful-dnd)来一步一步地教人们入门图书馆。
*   创建和维护大量文档
*   为可检测到的设置问题添加仅开发`console`警告。这样，人们就不需要为大多数设置问题查阅文档了
*   创建常见安装问题指南
*   创建问题模板，帮助人们在联系之前调试他们自己的问题
*   使用重复的问题作为不清楚的文档的信号或仅用于开发的良好警告

### [](#no-open-bugs)没有公开的 bug🐛❌

我对`rbd` : **采取了一个相当大胆的立场:只要有公开的 bug**，我就不会发布任何新功能。这似乎不太可能实现，但是`rbd`已经成功地使用这个策略将近两年了。通过保持高质量，我减少了人们寻求帮助的需要。这减少了我需要花费在维护上的时间。

#### [](#rant-%F0%9F%8C%B6)咆哮🌶

很难知道一个 bug 是微不足道的，还是暴露了一个基本问题。为了自信地推进一个软件项目，我们需要知道我们正在构建的东西是可靠的——否则，我们会淹没在修复和返工中。当人们使用一个项目时，他们希望它能够工作。一个项目有限制是可以的——但是不交付它声称要做的事情就是**破坏信任**。

## [](#workload)工作量👷‍♂️

我提到过，我做了很多工作来推广`rbd`的自助服务。然而，人们仍然会因为各种各样的原因而伸出援手。这些加在一起大约平均每周工作一天。努力量**每周都在波动**。

### [](#bug-reports)错误报告🐛

我大约每 1-2 天就收到一份错误报告。有几种类型:

*   **幽灵问题**:创建了一个没有太多细节或示例的问题。我要求更多的信息和一个演示(我提供一个样板演示)。然后我再也听不到任何回音。我需要一段时间后再来解决这个问题。我让他们知道，如果他们提供更多信息，他们可以重新讨论这个问题。
*   **简单的设置问题**:提出的一些问题可以通过简单地告诉人们看他们的控制台来解决(因为它已经告诉他们他们的问题是什么以及如何解决)，或者让他们指向我们的文档。其中很大一部分来自刚开始使用`React`的人，而`rbd`是他们的第一个项目。因此，人们经常因为`React`问题而不是`rbd`问题而争吵
*   复杂的设置问题:有时类似 bug 的行为会出现在人们发布的复杂例子中。经过大量调查，我发现答案是一个隐藏在层层复杂性下的**简单设置问题**。
*   限制命中:人们命中了库的一个文档限制。需要对限制进行解释，并将任何相关问题或文档链接到。有时，这可能会导致添加新的功能请求问题，或者向现有的功能请求添加额外的细节。
*   **实际的 bug** :实际的 bug 出现了，需要修复。我需要诊断错误，进行根本原因分析，设计解决方案，编写补丁，编写测试，合并补丁并发布。一些 bug 是简单的问题，有明显的修复方法。有些揭露了更深层的问题。有时我会发布一个短期的补丁，如果我知道正确的补丁需要更长时间的努力。我将在本地环境中用一个 bug 来重现所提供的例子，以便开发`rbd`。有时候一个 bug 一个小时就能搞定，有时候两天。有时需要 it 部门对体系结构进行更改，这可能需要几个月的时间。

设置和限制问题也可能导致文档和开发警告改进。理想情况下，我们尽可能让人们明白所有的事情。我用重复的问题作为信号

### [](#feature-requests)特征请求🚀

`rbd`获取大量交互的功能请求。这些需要贯穿我们的指导原则并进行评估。有时候我觉得符合图书馆的方向，保持请求开放。当我们弄清楚这个特性的含义和实现细节时，这可能是一个讨论的开始。其他时候，请求不符合项目的方向，我会提供一个解释并结束这个问题。我可能还会将这些信息添加到项目理念页面中。

### [](#discussions-%F0%9F%97%A3)讨论🗣

我们同时有许多开放的讨论线程在运行。这是针对仍然需要更多思考的特性和想法。这些可能是冗长的来回对话和 API，用例，实施，测试和影响。我经常做很多背景(淋浴)思考这些。

### [](#pull-requests)拉取请求

我们每周都会收到`rbd`项目的**个拉取请求。有许多种类**

*   文档修复:几乎总是可以很容易地合并
*   提议的代码更改:一个 bug 修复或新特性。**很少创建，更少合并**

#### [](#proposed-code-changes)建议修改代码

当团队说他们很少接受来自外部贡献者的变更时，他们说得很好。`React`项目有着丰富的历史和既定的未来方向。一个局外人很难进来并对核心库做出有意义的贡献。我发现对`rbd`来说也是如此。欢迎并鼓励项目边缘的变化:文档、构建改进、类型、示例和(小的)错误修复。**但是外部贡献者通常缺乏做出更大改变的背景**。我们确实不时地得到一些，但是他们经常试图满足他们自己的目标而没有更广泛地考虑图书馆。我发现这些提议的变更经常与项目的可访问性或理念相冲突。一般来说，我鼓励人们在进行大型工程工作之前，就应该采取什么样的方法进行讨论:

*   Hack:使用现有的或新的 API 来实现它们的用例
*   分叉:保持分叉的版本，在他们的行为中烘烤
*   Contribute: `rbd`可以使用该特性。根据我的经验，我们没有一个功能完全是由外部因素促成的。有时我可以引导一个 bug 修复。另一个挑战是他们的技能水平。有几次，我需要重做外部拉取请求的大部分

### [](#moderating)缓和👩‍⚖️

`rbd`中有 50 多个活跃问题。它们由功能请求、讨论、改进和想法组成。我监督他们提供意见并确保行为准则得到遵守。我试着在 48 小时内回复人们。我还需要关闭旧的或多余的问题。我偶尔也会通过 Twitter、Stack Overflow 和其他渠道收到 pinged 问题。如果很简单，我会直接回答，或者把他们推向项目页面，制造一个问题。

### [](#sharing)共享🎁

在`rbd`中有一些真正有趣的工程。我写博客，发表演讲，分享我的学习成果，推销`rbd`项目。通过这样做，`rbd`的影响不仅仅是项目本身。我经常花 0.5-2 天写博客，0.5-1 天准备在会议上发言，3-5 天准备在会议上发言。在创建可分享的内容之前，也有很多思考、探索和讨论。

#### [](#project-related-blogs)项目相关博客

*   [反思拖放](https://medium.com/@alexandereardon/rethinking-drag-and-drop-d9f5770b4e6b)
*   [列表间的自然键盘移动](https://medium.com/@alexandereardon/friction-gravity-and-collisions-3adac3a94e19)
*   [漂亮的拖拽:一年回顾](https://medium.com/@alexandereardon/beautiful-drag-and-drop-a-year-in-review-1febc3fac7ce)
*   [漂亮的交互:制作优雅而健壮的拖放动画](https://medium.com/@alexandereardon/beautiful-interactions-8f67502ccf73)

#### [](#performance-related-blogs)绩效相关博客

分享我从`rbd`中学到的一些性能工程知识

*   [抓住火焰🔥](https://medium.com/@alexandereardon/grabbing-the-flame-290c794fe852)
*   [将 React 性能向前拖](https://medium.com/@alexandereardon/dragging-react-performance-forward-688b30d40a33)
*   【React 应用的性能优化
*   【React 应用的性能优化:第 2 轮

#### [](#talks)会谈

*   [用 React 鱼钩深海钓鱼](https://www.youtube.com/watch?v=MVi17tk3VsI)
*   [为 Atlassian 创建美观易用的拖放功能](https://www.meetup.com/Sydney-Web-Accessibility-Inclusive-Design/events/258868400)
*   [从头限速](https://www.youtube.com/watch?v=g_3e_bNU2e0)
*   盒子里是什么？
*   [React 传送门:好的、坏的和丑陋的](https://www.youtube.com/watch?v=sI83N5OeNGI)
*   [将 React 性能向前拖](https://www.youtube.com/watch?v=3REMkuIg23k)
*   【React 的性能优化:第 2 轮
*   【React 应用的性能优化
*   [性能黑客反应](https://www.youtube.com/watch?v=hbCwF3QVr7o)
*   30+在内部 Atlassian 前端会议上

### [](#internal-atlassian-maintenance)内部阿特拉斯维护

所有关于`rbd`的问题跟踪和讨论都是在 Github 上完成的——所以大多数情况下，内部问题不需要两次更新。然而，也有内部的`rbd`任务。它们包括:创建和更新高级项目跟踪问题，与内部利益相关者讨论未来需求，内部博客和规划讨论。

## [](#closing-thoughts)关闭思绪

维护`rbd` **需要大量**的持续工作。维护这样规模的项目是令人愉快的——但是很繁重。通过主动寻求自助服务并继续参与项目，维护变得更加容易。在我需要专注于其他事情的时候，我知道项目的维护已经下滑，因为这是一个相当令人生畏的领域。

我希望你已经发现这个窗口对`rbd`的维护成本很有见地。也非常感谢 Atlassian 继续允许我投资✌️