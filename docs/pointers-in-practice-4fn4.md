# 实践中的指针

> 原文：<https://dev.to/mjb2kmn/pointers-in-practice-4fn4>

我大体上理解什么是指针以及它们是如何工作的。我遇到麻烦的地方是何时在我自己的代码中使用它们。

当我有一个结构，我想为它创建一个新的实例，什么时候我应该返回实例，什么时候我应该把它作为指针返回？假设我有一个在 web 应用程序中获取`Session`实例的函数。它要么从 cookie 中查找会话，要么创建一个新的会话。在任何情况下，它总是返回一个有效的会话。这应该返回`Session`还是`*Session`？为什么？

现在考虑一个有`Card`、`Deck`和`Hand`结构的纸牌游戏。当创建一个`Hand`时，从`Deck`中移除一个`Card`并放入一个`Hand`。一个特定的`Card`只能有一个实例，比如红心 8，那么`Card`应该作为指针传递吗？这样内存效率会更高吗？这里有关于垃圾收集的担忧吗？或者 GC 是否仍然可以跟踪只作为指针传递的内存？

我的经验是 Java、Ruby、Lua、Php 之类的语言，如果这有助于了解我来自哪里的话。