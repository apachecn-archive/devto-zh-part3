# 框架不是架构

> 原文：<https://dev.to/3zsforinsomnia/the-framework-is-not-the-architecture-33ng>

框架不是架构。然而，至少在前端世界中，Angular 多少被频繁提及，就好像它是一整套观点、结构和设计模式。这是一个错误。Angular *所做的是提供一套工具，这样你就有了尽可能多的不同架构的基础部分。但是，无论如何，这些形状或形式并不能仅仅因为这些工具被绑定在一起就构成一个架构。*

简而言之，一个架构包括关于“事情将如何被完成和组织”的定义，以及如何定义“事情”并区分它们(除了定义可能包括的其他事情)。然而，尽管这一真理听起来相对简单，但架构决策却绝非如此。决策通常基于深层的技术因素，这些技术因素集中在如何定义实体的类别以及团队想要使用或避免的设计模式上。

与此同时，“我们使用注入的服务”并不是一个架构意义的陈述，原因有很多，最大的原因是没有区分什么逻辑属于或不属于服务。把这个放到 Angular 的上下文中，Angular 服务本身只不过是一个类，在构造时以一种奇特的方式提供给你的组件。对于 Angular services，您可以像对待其他任何东西一样有许多设计选择，无论是 Webpack 提供的包含 helper 函数的 singletons、Redux 的 reducers 和 actions，还是纯 Typescript。你也很容易犯同样多的错误。没有什么可以阻止您在服务中进行不可检测的状态更改，或者以劫持 API 请求逻辑流的方式使用 HTTP 拦截器，或者滥用 RxJs 来创建一个所有组件都可以直接订阅和更新的巨大的全局状态对象。

另一方面,“我们使用注入的服务……来管理组件之间共享的状态，并在可重用/通用组件之外的地方处理业务逻辑”,这是一个架构性的重要陈述。它清楚地表明已经画了线(希望比这更详细)来帮助团队在精神上*分离出*不同的功能块。这也有助于建议设计模式如何*制造和保持*这些部分的分离。另一个例子是使用明确划分的组件组，例如核心 UI/无状态组件与布局或用例特定组件，这在“表示和容器”组件方法中很常见。

但重要的是要注意，这不是为你创造的有棱角的东西。这些划分并不存在于角度之内，也不以任何方式是它所固有的。这些也不是 React、Typescript 或 RxJs 的固有部分。这些库和包只是管理工具箱(或一个单独的工具本身),它们被放在一起，着眼于促进或避免各种模式，同时尽可能地向其他任何东西敞开大门。在任何关于 Angular 的讨论中，如果没有注意到 Angular 为如此多的不同架构提供的非常有价值的基础，以及它是如何以如此不可知论的方式做到这一点的，那将是一个错误。(也可以说 Angular 有太多不同的方法，但这是另外一个讨论)

将所有这些向前推进一步，即使 Angular(或其他任何东西)中有明确选择的最佳实践明显倾向于某些架构选择(一些竞争者是 RxJS 支持的反应式编程和“数据向下，动作向上”)，*没有什么强迫你接受这些选择*。只要您保持在体面的编码模式的范围内，并做出相互不冲突的明智决策，就没有理由不能随心所欲地挑选，甚至打造一条全新的道路。

但是，要小心。仔细挑选你能自己解决的问题，也许更喜欢现有的模式来解决过去给你带来麻烦的事情。考虑目前正在做的事情的方式和“作者建议的方式”，但不要把它当成真理。前进的道路有很多；你的框架不是整个房子，但它应该总是帮助你打开通往你能最好地预见和行动的前进之路的大门。