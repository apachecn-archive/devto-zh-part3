# 尽管有这么多优秀的 UI 框架，我为什么以及如何构建自己的 UI 框架

> 原文：<https://dev.to/oatw/why-and-how-i-built-my-own-ui-framework-inspite-of-so-many-great-ones-9g6>

很多 UI 框架在前端世界已经存在很长时间了。你已经有很多选择了，还有必要自己建立吗？当然，这要视情况而定，但作为一名前端开发人员，我会告诉你为什么它对我来说是必要的，并与你分享我从开始构建自己的 UI 框架以来学到的一些经验——[鲁大](https://github.com/oatw/luda)。

如果你是一个有经验的前端开发人员，但是还没有构建过 UI 框架，并且碰巧和我有相似的情况，我相信这篇文章中的一些观点会对你有所启发。

## 使用现有 UI 框架时遇到的问题

在过去的几年里，我经常发现我和我的团队在使用 UI 框架时遇到一些情况，有时是因为我们没有遵循“框架方式”，有时是因为我们想快速开始，不得不接受框架的限制。

我相信我并不孤单。我猜可能有很多时候你对一个内置的组件不满意，但发现它很难被定制，也有很多时候你对如此多的 CSS 类着迷，以至于很难维护你的 HTML...如果我们谈论这些问题，我们可以花一整天...

但是请不要误解我，我不是在责怪 UI 框架，实际上 UI 框架一直在帮助开发人员特别是不熟悉 UI/UX 设计和前端技术的开发人员更好地完成他们的工作。在大多数情况下，是我们使用框架的方式和我们做出的选择导致了问题。

我问你一个问题，你有信心做 UI 工作吗，即使你用了一个很棒的 UI 框架？

我的答案是否定的！

用户界面是前端最灵活的部分，在业务产品的开发过程中，用户界面可能会经常改变。在我做前端开发者的职业生涯中，我越来越意识到构建自己的 UI 框架的重要性。我需要一些我可以完全控制的东西，这样我就可以尽可能地对它进行深度定制，以适应业务需求。我需要我最熟悉的、符合我习惯的东西，这样我才能以我最高效的方式创建应用程序，以最快的速度响应市场。总而言之，我想要用我的设计概念实现的东西来帮助我自信地做 UI 工作。事情必须是我自己的 UI 框架。

有没有想过构建自己的 UI 框架？说真的，一个框架，不只是一些代码片段复制粘贴。

嗯...一个框架...这听起来像是一个大项目...事实上，如果你想要一个全面的框架，你将不得不花一些时间，对你来说将会有许多挑战。但是请相信我，开始并没有那么难，每个怪物都是从小泰迪熊长大的。

无聊的一步一步的指导在这里是不必要的，因为当你决定构建自己的 UI 框架时，你会有自己的概念和计划。相反，我想和你分享一些我学到的经验，希望我的经历能给你一点启发。

## 从头脑风暴到内心平静

如果你决定构建一个 UI 框架，你可能会考虑很多方面，关于 UI/UX 设计，关于如何构建你的代码，关于如何实现特性...并且觉得很难得到一个清晰的想法。这是可以的，对任何没有建立框架的人来说都很正常。在进入细节之前，我认为有一些好的起点，只是一些你可以问自己或与你的团队讨论的问题。

1 **你的框架应该是什么样的东西？**

考虑你想在什么情况下使用框架，什么样的人会使用框架来创建应用程序。

2 **在已有的框架中有没有你喜欢的好的概念/特性？**

从已有的框架中收集适合你的框架的概念和特性，用一个简短的想法思考如何在你的框架中实现它们。你可能想从其他框架移植很多特性和很多组件，不要着急，把它们写在一张纸上就行了。

3 **现有框架中有没有你想克服的弱点？**

在你的记忆中寻找当你使用已有的框架时的痛苦，并简单地思考如何在你的框架中克服它们。弄清楚你将使用什么样的概念/特征来克服它们。

4 **有没有其他你喜欢但在现有框架中没有实现的概念/特性？**

嗯~关于这个问题，跟着感觉走就好！任何你喜欢的概念或者功能都可以。反正这是你自己的框架。

这些问题看起来很简单，但当你开始思考它们时，你会觉得它们很难回答。在你弄脏手之前，你的答案真的很重要。你可以花尽可能多的时间反复思考它们。如果你陷入其中一个，做一些特定主题的研究。你的答案可能会很长，太多的概念和太多的功能，一开始没关系，继续平衡，直到你对它们感到满意，觉得你桌上的一切都是必不可少的。

以下是我在建[鲁大](https://github.com/oatw/luda)之前，我认为对我最有价值的部分回答，你可以作为参考。

1 **我希望鲁大成为的样子:**

1-1 它应该专注于解决用户界面问题，必须是可维护的，并能够在严重的商业项目中使用。

1-2 如果能用来快速制作原型或者帮助不熟悉 UI/UX 设计的同事制作一些原型和内部项目就更好了。

...

2 **其他框架中我喜欢的一些好的概念/特性:**

2-1 [语义 UI](https://semantic-ui.com/) 拥有比其他许多框架更干净的代码架构。如果你不熟悉它的架构，请阅读它的[词汇表](https://semantic-ui.com/introduction/glossary.html)介绍。受语义 UI 的启发，我决定将鲁大的组件分成不同的级别，用于不同的情况。

*   行为:一些增强默认浏览器行为的功能组件，以在不同的浏览器中获得更好的一致性。它们应该能够在商业项目中使用。

*   元素:基本的 HTML 元素，但是具有更强大的功能和更漂亮的外观，以及一些其他用于创建用户界面的基本元素。它们应该能够在业务项目中使用，并且非常灵活地创建复杂的组件。

*   模式:通常使用的 UI 模式。它们不像元素那样灵活，但是可以在没有大量定制需求的项目中使用，对于我的后端同事创建内部项目尤其有用。对于具有大量定制需求的项目，不适合的现有模式级组件应该被放弃，并且应该创建新的适合的模式级组件。

*   实用工具:一些基本的 CSS 规则，快速创建原型，但不应该在任何商业项目中使用。他们会炸掉我的 HTML。

2-2 许多框架支持多个主题，这对于开发不同种类的项目是必要的。所以我决定在鲁大包含多个主题。我不想从头开始一遍又一遍地创建主题，所以主题必须有一个默认的来继承，并且默认主题必须是最小的。

2-3 像 [UIKit](https://getuikit.com/) 这样的框架比其他一些框架更加[自动化](https://getuikit.com/docs/javascript#uikit-and-reactive-javascript-frameworks)，因为它基于[变异观察器](https://developer.mozilla.org/en-US/docs/Web/API/MutationObserver) API 自动处理组件生命周期。最好也让我的框架自动化，这样我的后端同事就可以不用写 javascript 来控制组件了。

像 [Onsen UI](https://onsen.io/) 和 [Framework7](https://framework7.io/) 这样的 2-4 个框架提供了多种技术栈支持，它们为 Vue 用户、Angular 用户和 React 用户制作了包装器。但对我来说，这需要太多的时间来做我的框架，所以这是可选的。

...

3 **我想在我的框架中克服现有框架的弱点:**

3-1 大多数框架很难定制，样式变量太多，一些样式规则嵌套太深。更糟糕的是，我不得不在不同的组件中一次又一次地覆盖类似的风格，也许作者以模块化的方式创建了这些组件，但对我来说，这有点太多了。所以我的框架必须易于定制，即使它支持多个主题，我仍然希望在不同的项目中进行一些定制，我不希望我的项目看起来都一样。变量应该尽可能少，样式不能嵌套太深，我想使代码幂等，易于维护。内部组件可以重用，但是元素级组件应该尽可能独立，以保持它们的灵活性。

3-2 基线对齐对我来说很重要，但是大多数框架忽略了这个重要的设计概念。我知道在网页设计中实现基线网格很难，但也没那么难，对吧？所以我的框架必须支持基线网格，所有组件都应该与基线对齐，它们的大小应该设置为基线高度的整数倍。

...

## 写文档是回顾你的框架的好方法

我们都知道文档对团队合作很重要，它帮助人们快速熟悉你的框架，并帮助你更好地记录事情。此外，当你写文档的时候，你可以好好回顾一下你的框架，你会发现有些概念很难向人们解释清楚，有些特性很难描述清楚...如果你有这样的感觉，那多半是因为你没有把特性或概念设计好。你应该回到起点，重新设计不清楚的东西，修改你的框架。写文档是发现问题的一种强有力的方法，就像代码评审一样，特别是当你没有团队成员一起做评审工作的时候。

## 尊重规则，但不要害怕尝试新的方式

在前端世界已经有很多很棒的工具，但是新的概念和工具还在不断涌现。我们不满足于我们所拥有的，我们想让事情变得越来越好，这是人类的本性。

所有伟大的想法和最佳实践对你来说都是好的方向，但是记住你的目标是为你自己或你的团队建立一个 UI 框架，你不必遵循所有的最佳实践，也不必让每个人都满意。最好的东西对你来说可能不是最好的，认真考虑后自己做决定，但也要开心。

我在建鲁大的[官方网站的时候，选用了](https://oatw.github.io/luda)[罗威](https://fonts.google.com/specimen/Raleway)字体作为正文，用这种为导语设计的字体作为正文可能是一个错误，但我认为这很适合表达鲁大的轻便和现代的特征。所以我试了试，真的很开心。不要害怕犯错误，每个人都会犯错误，我们都是一些事情的初学者，有时你不得不犯错误，因为前端世界是一个充满平衡和妥协的地方。

## 向开源世界学习

当你完成了一个测试版，是时候让人们了解你的框架了。你可以在许多伟大的社区中推广你的项目，[黑客新闻](https://news.ycombinator.com/item?id=19836307)，[回声 JS](http://www.echojs.com/news/31740) ， [Quora](https://www.quora.com/I-just-published-a-UI-framework-Luda-How-do-you-feel-about-it-I-need-advices-to-make-it-better-Please-help-to-have-a-look-at-it-if-you-have-some-time-Thanks) 等等。(更新:我的问题被 Quora 删除，我觉得 Quora 把我的问题当成了某种服务推广。以下是问题的原链接。https://www . quora . com/I-just-published-a-UI-framework-鲁大-How-do-you-feel-on-it-I-need-advice-to-make-it-better-Please-help-have-a-look-it-if-you-have-time-Thanks

你可能会问，有必要把我自己的框架暴露给世界吗？不，没必要，但这样更好。越多的人知道你的框架，你得到的反馈就越多，甚至是来自专家的专业建议，这些建议可以指导你改进你的框架。喜欢你想法的人会鼓励你，一起投入到你的项目中，你的框架可能会以双赢的方式帮助这些人。

但是也有人不喜欢你的想法，可能会让你失望，更糟糕的是，一些粗鲁的家伙会无缘无故地侮辱你。不要害怕，每个开源项目的作者都必须面对这些事情。永远不要让自己陷入无意义的争论，那没有任何帮助。

## 包装完毕

非常感谢阅读这样一篇由像我这样的非英语母语者写的不可读的文章！

如果你能在构建自己的 UI 框架上获得一些灵感和勇气，我会非常高兴。如果你对这个帖子有什么看法，或者对[鲁大](https://github.com/oatw/luda)有兴趣，请留下评论，让我们一起讨论。

提前祝编码快乐，六一儿童节快乐！