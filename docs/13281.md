# 代码评审如何有助于质量保证？

> 原文:[https://dev . to/lambdatest/how-code-review-can-help-with-quality-assurance-4gld](https://dev.to/lambdatest/how-code-reviewing-can-help-with-quality-assurance-4gld)

在软件行业中，您可能经常听到术语代码审查。然而，代码审查的概念经常被误解。在软件开发生命周期中，它经常被忽视，因为人们认为执行测试应该满足验证过程。因此，他们倾向于对代码审查过程视而不见。然而，忽视代码审查过程可能会带来严重的后果。我们也有一个误解，认为代码审查过程是开发团队单独的责任。不是的！代码审查是一个过程，不仅应该包括开发人员，还应该包括 QA 和产品经理。这篇文章试图帮助你认识到代码审查的重要性，以及作为 QA 你应该如何参与其中。我们还将研究使用 Selenium WebDriver 进行[自动化测试的代码评审最佳实践和代码评审清单。](https://goo.gl/9BimHb)

## [](#what-is-code-review-and-its-objective)什么是代码评审及其目的？

代码审查是一种实践，其中源代码被分成小块，由团队中的主管或高级人员在测试前进行检查。这是敏捷方法中最常遵循的过程。

代码审查的主要目标是检测错误，捕捉早期的 bug，并确保代码遵循标准实践。它可以被定义为一种双向的交流，在这种交流中，编码者和审查代码的人可以互相学习，消除任何可能会影响产品的潜在错误。

在敏捷环境中工作，您可能经常低估代码评审过程的重要性。你可能认为代码审查将会很耗时，尤其是当你在截止日期前运行的时候。然而，这正是它变得更加重要的地方。您越早审查代码并消除任何阻塞或错误的可能性，您就越早能够按照发布过程交付产品。在发布周期的后期或者迁移到生产环境之后寻找 bug 会变得更加昂贵和耗时。这就是为什么组织现在遵循现代的方法学[左移测试](https://goo.gl/4LL3YD)的原因，在这种方法学中，你从客户的需求收集阶段就开始整合测试。

## [](#why-code-reviewing-is-inevitable)为什么代码审查是不可避免的？

如果你认为只要你在测试，代码审查就不是必需的，那么下面提到的好处可能会改变你的想法。

*   早期缺陷检测:当在开发阶段的早期阶段检测到缺陷时，可以减少测试阶段的大量时间。整个过程变得便宜很多。虽然现在，[自动化测试](https://goo.gl/i6dFmE)减少了测试工作和花费的时间，但是，没有比检测和纠正他人所犯错误的人性更好的礼物了。

*   指导低年级学生:当一个新生加入一个项目时，高年级学生可能没有太多的时间来指导低年级学生的编码实践，或者训练他们如何工作。在这种情况下，高级开发人员的理想解决方案是至少花 20-30 分钟来审查初级开发人员编写的代码。定期的反馈将允许新生发展他/她的编码技能。

*   敏捷时代:现在大多数组织遵循敏捷方法，并要求及时交付高质量的工作。代码审查将使组织能够开发一个没有缺陷的、按照标准协议开发的高质量原型。

*   **团队凝聚力**:频繁的回顾讨论拉近了团队的距离，让他们意识到彼此的优缺点，避免陷入孤立的环境。

*   **遵循标准**:在敏捷时代，客户经常要求我们遵守某种编码标准。然而，新开发人员通常不了解行业标准编码。频繁的审查有助于确保代码遵守由涉众设定的规则和标准。

## 代码审查和测试可以互相替代吗？

首先，代码审查和测试都是软件开发生命周期中的最佳实践。然而，两者都有自己独特的方式，不能混淆。认为您不需要代码审查是错误的，因为您的 SDLC 中有测试，反之亦然。

代码审查包括检查代码，可能包括也可能不包括检查 bug。它包括检查代码的风格是否符合所有策略，是否有任何违反安全性的行为，最重要的是，代码是否容易理解。目标是检查代码是否简单，是否遵循所有政策和标准，最重要的是，是否符合其目的。

另一方面，测试有几个类别。测试的主要目的不是检查代码，而是检查应用程序是否工作正常。测试包括检测应用程序的不同层中是否有任何错误，应用程序是否满足利益相关者的所有要求，并确保将检测到的问题传达给相关团队。

假设，代码审查可以取代测试。在一个非常小的应用程序的情况下，如果多个评审人员仔细地检查代码，他们可能会在单元测试执行时识别出可能产生缺陷的部分。只是假设，不现实。

测试，无论是手动的还是自动化的，通常都遵循一种固定的方法来检查应用程序流，并找出是否有任何事情表现得像它不应该表现的那样。

然而，代码审查需要人工干预。人类的思维是复杂的，在编写测试脚本时，可能会想到没有预先编程的场景。一个有经验的代码审查者可以检测出任何一行错误的代码，这些代码可能会导致测试人员在[编写有效的测试用例](https://goo.gl/1nevb5)时可能没有想到的特定场景下的崩溃。

然而，代码审查只能在应用程序非常小并且可能只有一百行代码的时候取代测试。在大型应用程序的情况下，范围会变得更大，无论有多少评审人员一起工作来检查代码，当代码被集成时，应用程序可能会导致崩溃。这就是测试发挥作用的地方。

然而，无论是假设的还是现实的，测试永远不能取代代码审查。尽管测试可能检测到所有的 bug，并由开发人员修复它们，但是让我们讨论一个场景，它将清楚地说明为什么它不能代替代码审查。

我来分享一下我的亲身经历。我们的团队正在开发一个大型的动态 web 应用程序。在最后的测试阶段之后，整个应用程序满足了每个用户的需求。然而，有一个问题——加载时间。即使在最快的网络连接中，应用程序的加载也需要 4-5 秒。通过经历代码审查阶段，我们发现 CSS 和脚本非常复杂，它们可以通过几百行代码最小化。这样，我们将加载时间减少到了 2 秒。因此，可以得出这样的结论:实际上，代码审查和测试都是软件开发阶段不可分割的一部分，永远不能完全相互替代。

## [](#how-to-participate-in-code-review-as-qa)如何作为 QA 参与代码评审？

代码审查被认为是静态测试的一部分，这是一项主要由质量分析师进行的活动，目的是在测试阶段开始之前发现是否有任何 bug。如果测试团队积极参与代码评审，会节省很多时间。

当你开始测试并且没有任何开发经验时，你可能想知道如何开始代码审查。但事实是，代码审查只需要你的观察技能，而不是你的编码熟练程度。首先，您可以从[自动化脚本](https://goo.gl/YHN9YU)开始。尝试寻找可能导致不正确测试顺序的小错误。当你有时间的时候，平行地浏览你的应用程序的仓库，并且试着理解开发者在那里做了什么。

此外，如果团队中有人一直在审查代码，与他们讨论或坐下来，并试图了解他们是如何完成工作的。检查他们是否在看

*   清晰易懂的日志消息
*   句法误差
*   拼写错误造成的错误
*   命名规格

最初，当测试人员有机会审查代码时，与有经验的人合作会使任务变得容易得多。虽然大量的代码行最初没有任何意义，但跟上它使质量分析师能够找到一种模式，慢慢地他们习惯了代码库，最终有一天，他们只需查看应用程序的某个部分，就可以清楚地说明该部分中实现了什么业务逻辑。

此外，一旦开发团队观察到 QA 团队正在关注代码，他们会很乐意向他们解释他们的代码是如何工作的，从而增加质量分析师的编程知识，并改善团队之间的交流。由于代码审查的实践，测试人员将会知道项目的什么功能是在代码的什么部分定义的，从而即兴发挥整体智慧&团队合作。

最后，记住一件事。你不需要成为一个专业的程序员来执行代码评审会议。任何有基本编码知识的人都可以审查代码。你只需要看一看这些变化，问一问事情是怎么做的，为什么做，怎么做的。从小的变化开始，了解更多关于它们的信息，无论你在哪里感觉到任何差异，评论它，并要求编码者清除你的疑问。如果您正在管理整个项目，请确保将代码审查和测试作为任何软件开发生命周期中必须执行的阶段。这将确保交付高质量的产品，并维护您组织的声誉。

## [](#ways-to-perform-code-review)执行代码评审的方式

让我们从你应该如何审查代码开始。根据您的应用程序的大小，您可以执行两种类型的代码审查。

*   正式的代码评审:这是一个详细的过程，需要你与多个参与者合作，并在多个阶段工作。这是传统的过程，团队参加会议并逐行检查代码，传统上使用打印副本。彻底进行检查，发现该方法在发现缺陷方面是有效的。
*   轻量级代码审查:这个过程也非常有效，比正式的代码审查需要更少的努力。作为正常开发过程的一部分，有 4 种方法来执行此审查。
*   越过肩膀:在这里，一个开发人员看着另一个人的代码，而后者带着前者浏览代码，解释代码中做了什么。

*   **传递电子邮件**:每当进行签入时，管理源代码的应用程序会自动向审核者发送一封邮件。

*   **结对编程**:两个程序员在同一个工作站开发代码，同时不断检查彼此的工作。

*   工具辅助评审:现在有专门的工具用于代码评审和测试。对等体使用这些工具来审查代码，并根据需要进行注释。

[![cta](../Images/5ca15e434455da9426a2aad75efd7d47.png)T2】](https://goo.gl/3Hnt4T)

## Selenium 自动化测试的代码审查清单

尽管我们稍后将讨论某些最佳实践，这将导致完美的代码审查，但是如果您使用 [Selenium WebDriver 对您的网站进行跨浏览器测试](https://goo.gl/gJNiwo)进行自动化测试，则在审查您的代码时需要检查某些因素。

*   尽可能使用 CSS 定位器，而不是 Xpath。
*   页面对象必须用于所有用作选择器的 DOM 对象。
*   避免复杂的数据管理结构。
*   为了处理等待问题，测试应该主要依赖于框架。
*   对于数据搜索功能，使用最少的文本。
*   长元素定位器通常很脆弱。避免使用它们，因为它们绑定的布局会改变。
*   页面对象应该是唯一的和健壮的。

## [](#code-review-best-practices-to-follow)代码审查——要遵循的最佳实践

就像编码和测试一样，您也需要记住一些代码评审的最佳实践。我们来详细讨论一下。

*   **知道自己在找什么**:在复习前设定好目标。准备一份清单，包括编码风格、结构、逻辑复杂度、可读性。简而言之，包括在自动化测试中不能被审查的项目，并且需要人工干预。问类似“我知道这个代码在做什么吗？”或者“该代码符合客户指定的编码标准吗？”被认为是一个很好的代码审查最佳实践，您可以很容易地在代码中准备要检查的项目。

*   **在评审**之前构建&测试:在当前[持续集成和持续交付](https://goo.gl/wfkdfS)的时代，在手动评审之前构建和测试代码是最理想的。这样可以保证代码稳定，节省大量时间。在成功构建之后，当代码通过所有自动化测试时，最佳实践是进行代码审查，并确保无错误的代码已经被推送到开发人员的代码行。

*   **不要花太长时间来评审**:作为代码评审最佳实践的一部分，你需要确保你在代码评审上花费的时间不超过平均水平。如果你能在短暂的休息中复习代码，以确保你的大脑得到所需的间隔，你就能以一个全新的思维重新开始，这样会更好。经常审查代码也将帮助您思考新的场景，并提高代码的质量。

*   你的评估不能伤害到别人:不要吹毛求疵，在评估中要有建设性。提问而不是陈述。此外，称赞开发人员的工作。你以正确的语气给出的反馈不能伤害他们，而是应该激励他们改正错误，并确保错误不再发生。

*   **传达期望&目标**:明确评审的目标以及评审者的期望。如果评审人员在您的领导下工作，那么作为代码评审最佳实践的一部分，我们建议您为他们提供一份清单，帮助他们检查强制性的内容，并确保整个团队的代码以一致的方式得到评审。

*   **包括你的整个团队**:不管你的程序员有多资深或多有经验。每个人都必须在审查代码的同时审查代码。当他们知道他们的代码将被审查时，性能水平会相对提高。在审查代码时，尝试将架构师和开发人员包括在内。它们都将检测不同的问题，并最终影响整个应用程序的设计。

*   **在需要的地方自动化**:代码中的一些东西应该手工检查。使用适当的工具可以检查其他一些东西。在你觉得不需要人工干预的地方实现自动化。像代码分析器这样的工具将代码与编码规则进行比较，并找出潜在的问题

*   **考虑代码审查以检查跨浏览器兼容性**:我们都知道，当特定的浏览器不支持特定的 CSS 样式或 JS 功能时，就会出现与 Javascript 、HTML/ CSS 的[浏览器兼容性问题。
    有一次，我们开发了一个应用程序，其中某些风格的使用受到了限制，因为这个应用程序本应该在一个旧版本的 Internet Explorer 中完美运行，这个浏览器因为与所有最新的网络技术不兼容而给全球的开发者带来了痛苦。](https://goo.gl/BGaQ6d)

经过数周的编码，我们进行了一次审查，发现在编写 CSS 时，在代码的某些部分，我们遗漏了特定的浏览器供应商。更正后，应用程序立即进入测试阶段。不用说，它完美地通过了[浏览器兼容性测试](https://goo.gl/f8t66T)。如果没有进行代码审查，缺陷会在[跨浏览器测试](https://goo.gl/zT9ffC)中被发现，随后会让开发人员急于找出问题的原因。

*   培育积极的环境:从管理的角度来看，保持积极的工作文化很重要，这是代码审查最佳实践的一部分。当审查代码时，一个积极的环境会非常有帮助。谁造成的 bug 并不重要。重要的是 bug 已经被抓到并修复了。赞美相应的人，总的来说，这将有助于保持产品的质量。

*   **依靠代码评审工具**:不要手动检查和写下问题，使用代码评审工具，通过启用内嵌注释和错误报告来节省工作。

我希望您现在认识到 SDLC 中代码审查的相关性，以及它与测试的区别。如果你是一个产品经理，那么在你的发布周期中加入代码审查过程是至关重要的，如果还没有的话。如果它被合并，您需要有效地组织带宽和资源，并确保开发人员和测试人员都积极参与。如果你是一个害怕进入代码审查的 QA，那么你需要改变你的看法，直接进入。最后，如果你是一名开发人员，那么你必须确保产品经理和软件测试人员参与代码审查过程，以确保透明性。复习愉快！

[![cta](../Images/5ca15e434455da9426a2aad75efd7d47.png)T2】](https://goo.gl/3Hnt4T)

原文出处:[lambdatest.com](https://goo.gl/SWpn6T)

**相关文章**

1.  [为什么信息架构在 UX 进程中是一种必然？](https://goo.gl/M6MdRR)
2.  [指标&2019 年测试流媒体应用的挑战](https://goo.gl/3fcVaJ)
3.  Selenium WebDriver 应该成为自动化测试首选的 13 个理由！