# 我为什么要关心 HTTP？

> 原文:[https://dev.to/raddevon/why-should-i-care-about-http-2em3](https://dev.to/raddevon/why-should-i-care-about-http-2em3)

HTTP 是你的 URL 开头的四个字母，对吗？这就是你真正需要了解的为网络构建的所有东西，但是，就像 T2 理解二进制码一样，它可以帮助你理解你否则不会理解的问题。这不是必需的材料，但它使你成为一个更全面的开发人员。

因为它是我们的软件将使用的主要通信协议，所以让我们了解一下 HTTP！

## [](#what-is-http)什么是 HTTP？

HTTP 代表超文本传输协议。那是一套发送和接收(传输)网页(超文本)的规则(协议)。尽管它仍被称为 HTTP，但除了超文本之外，它现在还被用于发送许多东西——例如，JSON 和图像。

## HTTP 是如何工作的？

[![HTTP flowchart](../Images/fc83953d87b4771089e848797afa3ffe.png)T2】](https://res.cloudinary.com/practicaldev/image/fetch/s--6b3eTvzP--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://raddevon.com/wp-content/uploads/2018/11/http-flowchart.svg)

HTTP 通信发生在客户端和服务器之间。客户端发出 HTTP 请求，服务器响应它。您的 web 浏览器是一个 HTTP 客户端。当你访问一个网页时，你的浏览器向服务器发送一个 HTTP 请求，服务器发送一个响应。(几乎)就这么简单。

实际上，一个网页通常由多个请求组成。通常发生的情况是，对某个 HTML 发出请求，服务器用该 HTML 作出响应。浏览器开始呈现 HTML，并对呈现页面所需的任何其他资源(如 Javascript 文件、CSS 文件和图像)发出附加请求。

## [](#parts-of-a-request)请求的部分

下面是对 RadDevon.com 主页的原始请求:

```
GET / HTTP/2
Host: raddevon.com
User-Agent: curl/7.54.0
Accept: */* 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

当你在地址栏中输入 raddevon.com 并按回车键时，你的浏览器会将这个请求发送给我的主机。以下是部分内容:

*   `GET`–请求方法。它告诉服务器请求的目的是什么。这个请求希望服务器发回一些数据。MDN 有[一个不错的请求方法引用](https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods)。
*   我们正在请求的资源。由于主页位于服务器的根目录，这就是我们在这里请求的资源。
*   `HTTP/2`–协议。这个特殊的请求是使用 HTTP 的第 2 版发出的。
*   另外三行是标题。这些为接收服务器提供了关于该请求的附加信息。
    *   很明显。它标识目标主机。
    *   `User-Agent`标识发送请求的客户端。我用 cURL 发送了这个，这是一个简单的 Unix 命令行 HTTP 客户端。当您使用浏览器发出请求时，这将显示浏览器的名称和版本。
    *   `Accept`告诉服务器客户端可以接收哪些类型的响应。

您可以在您的请求中使用其他的[标题。这些只是这个请求碰巧使用的。您甚至可以创建自己的头来向服务器发送附加信息。](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers)

除了头，你的请求可能还有一个主体。提交表单时，数据通常在请求正文中发送到服务器。

## [](#why-do-i-need-to-understand-http)我为什么需要了解 HTTP？

理解 HTTP 如何工作，尤其是理解各种响应状态代码及其含义，有助于您**调试您的应用程序**和**适当地处理错误**。了解页面上使用的每种资源(脚本、图像、样式表等。)代表一个单独的请求，也可以帮助你**让你的应用程序更有性能**。

> 这对你有帮助吗？我的目标是帮助人们过渡到 web 开发职业。🤬🔜🤩在 Rad Devon 注册一个免费的辅导课程，我会帮你想出下一步该怎么做。

下面是如何查看浏览器对应用程序的请求。您的浏览器开发工具将向您显示所有请求、响应状态，甚至请求标题和响应正文。下面是一个在 Chrome 开发者工具“网络”标签中查看 Chrome 对 RadDevon.com 的请求的例子:

[![Chrome developer tools Network tab](../Images/cd8d45be545461ce647db09002229bda.png)T2】](https://res.cloudinary.com/practicaldev/image/fetch/s--jKxkX79H--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://raddevon.com/wp-content/uploads/2018/11/dev-tools-network-tab-requests.png)

当您第一次切换到“网络”选项卡时，它可能是空的。只需刷新，它就会在页面重新加载时捕获所有请求。

每一行都代表浏览器为呈现该页面而发出的请求。如果您单击该请求，您将看到几个选项卡，其中包含有关该请求的更多信息。下面是返回 Rad Devon 主页 HTML 的主请求的响应选项卡:

[![Responses in Chrome developer tools](../Images/6aa3a8a04efbafda2d473b402663396d.png)T2】](https://res.cloudinary.com/practicaldev/image/fetch/s--Ibk2tvS8--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://raddevon.com/wp-content/uploads/2018/11/dev-tools-response.png)

## [](#how-do-requests-impact-performance)请求如何影响性能？

完成请求所需的时间是请求到达服务器所需的时间、服务器准备响应所需的时间以及响应返回所需的时间之和。每个请求都有一些开销，超出了您请求的数据返回所需的时间。如果你能减少资源的大小和请求的数量，你就能减少加载页面的时间。

想象一下你正在帮助某人烤蛋糕。你主动提出做他们的“跑腿”，在他们专注于烘焙时给他们提供所有他们需要的东西。他们首先让你去买面粉。你走向橱柜，拿起面粉，然后拿回来。

接下来，他们问你要可可粉。你回到橱柜，有点不高兴，抓起可可粉，递给他们。现在，他们问你要发酵粉。好吧，这有点荒谬了。如果他们只是向你要橱柜里所有他们需要的东西，而你可以一次就把它们都拿走，这不是很好吗？

答对了。尽管你可能会花更长的时间带着所有的物品回到他们身边，因为它们有点重，但这比跑三趟要快得多。如果你只拿他们需要的数量，而不是拖着一个 5 磅的袋子，你也可以让这个过程更快。如果事实证明他们根本不需要可可粉，那也会加快事情的进展！

这与您在优化 web 应用程序性能时可能采用的方法相同。按顺序尝试这些优化:

1.  **删除不必要的请求**删除任何你不绝对需要的图片或脚本。
2.  **通过优化图像和精简代码来减轻重量**。
3.  **通过将所有的 Javascript 和 CSS 连接成一个单独的文件来减少请求的数量**。

查看开发人员工具中的“时间”栏，了解哪些请求使您的页面变慢。

理解 HTTP 不只是对性能有帮助。它还可以让你的应用程序更有用，更容易调试。当您的应用程序不按预期运行时，可能是因为请求有问题。这使得能够理解“网络”选项卡向您显示的内容对于调试很有价值。HTTP 状态代码是一个很好的起点。

## [](#what-are-http-status-codes)什么是 HTTP 状态码？

服务器将 HTTP 状态代码与响应的其余部分一起返回给 HTTP 客户端。它们通知客户端**请求是否成功**，如果失败，给出一些关于原因的信息。下面是它们在 Chrome 开发者工具中的样子:

[![HTTP response status codes in Chrome developer tools](../Images/23d9a51fc2437dec9543b49dd05a1b0b.png)T2】](https://res.cloudinary.com/practicaldev/image/fetch/s--jIQWQyij--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://raddevon.com/wp-content/uploads/2018/11/dev-tools-response-status.png)

状态代码是一个三位数。以下是范围和每个范围的含义:

*   **100**–100 秒的响应被描述为“信息响应”我个人从未在野外见过这些反应代码。我肯定它们就在那里，但我怀疑它们是否很常见。
*   200–这是一个成功的请求，没有任何附加条件。如果你要求服务器做什么，它就会做什么。如果你需要一些数据，它会返回。
*   **300**–您的请求被重定向。这个响应可能仍然是好的，因为服务器知道您请求的资源的位置…即使它不在您认为的位置。
*   **400**–400 范围是客户端错误。这意味着请求中的某些内容不是服务器所期望的。可能您发送了一个您向其发出请求的端点不支持的 URL 参数。如果代码在 400 之内，您可能在响应体中得不到任何有用的信息。
*   **500**–500 范围是服务器错误。这个请求很好，但是服务器出了问题。像 400 系列一样，你可能不会从 500 系列中获得任何有用的数据。

这涵盖了这些范围，但是这些范围内的每个状态代码都有更具体的含义。MDN 有一篇很棒的文章讲述了[每个响应代码](https://developer.mozilla.org/en-US/docs/Web/HTTP/Status)的含义。这可以帮助您进一步缩小应用程序的问题范围。它还可以帮助你**更智能地处理应用程序中不成功的请求**。

例如，如果一个请求返回 400，因为用户在表单中输入了无效数据，然后通过参数传递给 API，那么您可能希望显示一条错误消息，告诉他们如何提供有效数据。另一方面，如果您得到一个 500 错误，这意味着服务器上发生了不好的事情，您的用户可能没有什么可以做的。

### [](#why-status-codes-arent-always-reliable)为什么状态码并不总是可靠的

理解状态代码对于调试和编写处理错误的应用程序非常有用。问题是他们并不总是可靠的。原因如下。

在编写服务器端代码时，开发人员完全可以选择对他们有意义的错误代码。上面的描述是每个范围的含义，但这并不意味着它们在每个应用中都是这样实现的。事实上，他们不是。

您可能会得到一个主体中包含有用数据的 500 响应，也可能会得到一个包含错误消息的 200 返回。每个应用程序都是一片独特的雪花，所以当你写前端代码时，确保你知道什么会真正回来。

## [](#quick-wins-from-understanding-http)从理解 HTTP 中快速取胜

即使你一直在为 web *而没有*理解 HTTP，至少粗略地理解一下仍然是值得的。你将拥有**更好的工具来提高性能**，你可以**轻松处理从服务器返回的错误**，你还可以**调试原本可能躲避你的问题**。

这是一套很好的好处，作为交换，你需要读一点书，在你的浏览器开发工具中探索一下。