# 我拒绝在没有适当的代码审查过程的团队中工作——你也应该这样！

> 原文：<https://dev.to/manuelbieh/i-refuse-to-work-in-teams-without-a-proper-code-review-process-and-you-should-too-4e58>

当我作为自由职业者做客户工作时，我拒绝在没有适当的代码审查过程的团队中工作。我想告诉你原因，但是首先让我们看看我对“适当的代码审查过程”的定义:

*   每一个特性，bugfix，hotfix 或者任何在分支上开发的东西(特性，开发者，…由你决定)。没有代码被直接推送到主分支！

*   事实上，您的主要分支应该受到保护，将变更合并到主分支(开发等)中至少需要您的一位同事的批准

*   团队中的每个人(从培训生到领导者)都得到并定期接受(！)时间，甚至被鼓励去做代码审查

*   评论被每个参与的人认真对待！不要在没有真正审查代码的情况下轻率地点击“批准”按钮。如果您选择的审核人现在没有任何带宽，请提醒他稍后再做，或者询问另一位同事是否有急事。

*   仍然需要审查的拉式请求不会“堆积”，因为“有更重要的事情”。同时打开几个拉请求是可以的，但是你不应该在一个 5 人开发团队中有 50 个打开的 PRs。从我的经验来看，每个开发人员同时打开 2-3 个 PRs 应该没问题，并且仍然可以进行适当的审查，但是这当然很大程度上取决于 PRs 的大小。

*   拉取请求保持简短。一个 React 项目中的 15-20 个文件应该是 PR 的最大值。有时你无法避免，但请至少尝试一下。

我拒绝在没有审查的情况下将我的代码合并到 master 中(并因此发送到产品中),原因有几个:

1.  可维护性！🍎对我来说非常清晰的代码，对其他人来说可能非常混乱。在这种情况下，评审可以(并且通常会)帮助简化复杂的部分。

2.  责任！📜如果我犯了一个超级明显的错误，不管出于什么原因，它没有被测试覆盖，并且投入了生产，我是唯一一个对这个不幸负责的人。让其他人批准它可以将这个责任分成一半(甚至更多)。尤其是当你是一个可能因疏忽而被追究责任的承包商(像我一样)时，这样的审查可能是至关重要的，有一天真的会救你一命。(我说的是能，不是会！)

3.  文档！📋我通常会写一个简短但易懂的描述来描述我的公关经历。如果以后你(或其他任何人)对某些事情不确定，如果在文档/自述文件中没有明确提到，你可以在旧的拉式请求描述中找到答案。

4.  可持续发展！🌿每个人都可以随意提交未经审查的代码的代码库通常看起来就是这样:好像没人在乎。这是不可持续的，最终将不可避免地以灾难告终。

5.  风险降低！🛡:有时候，你会连续几天独自开发一个相对复杂的功能。通过让另一个人审查你的代码，这个人不可避免地会知道这是怎么回事。这已经可以大大降低你的公交系数。

6.  学习！🎓作为一名开发者，你只能通过接受和给予来成长。)定期反馈代码。代码审查是一个很好的方式来讨论替代方案和不同的方法，让你从别人的大脑中吸取免费的知识。

做好代码审查需要时间。我工作过的最好的公司都有非常“耗时”的审查过程，但是时间是真正值得投资的！你今天因为“慢”而损失的时间很可能在以后的长期代码库中以数量级节省下来！