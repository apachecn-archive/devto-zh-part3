# 将 Rails 应用迁移到 VPS 值得吗？

> 原文：<https://dev.to/aritdeveloper/migrating-rails-apps-to-vps---help-f68>

更新:我决定把我的应用留在 Heroku 上，这要感谢我和 [@zspencer](https://dev.to/zspencer) 的一次会议。我在下面转载了我们的对话——希望能对某人有所帮助！

* * *

ARIT:你好，齐。你最近为我的 devTo 问题提供了一个关于从 Heroku 迁移 Rails 到 VPS 的非常详细的答案。我在编码训练营的时候开发了这些 Rails 应用程序；他们的存储与 AWS S3 桶相关联，我的 AWS 免费年即将结束。我想迁移应用程序，以便它们可以使用服务器上的本地存储。虽然它们是面向客户的，但是它们不会消耗太多的资源，所以我认为把它们都放在同一个 VPS 上会节省我一点钱。今天我跟随奥利弗的 GoRails.com 迁移教程；我顺利通过了，但是在加载服务器的 IP 时，我得到了一个错误:

> 错误 ID: 35090cd9
> 详细信息:Phusion 乘客应用程序服务器无法启动 Web 应用程序。

不知道该何去何从，头也疼。

你有没有算过，如果你把应用留在 Heroku 上，S3 要花多少钱？我在 S3 存储了几千兆字节的数据，每个月只需几便士。
我猜你会想尝试找到 nginx 和/或 phusion passenger 的日志，找出应用程序拒绝启动的原因。
此外，如果您依赖您的服务器为您的应用程序提供存储容量，那么您将不再拥有 S3 所提供的正常运行时间和冗余性；s3 是一个*非常好的*工具，可以非常便宜地存储文件，并确保你以后可以访问它。
如果您*确实*在您的网络服务器上存储数据，然后网络服务器开始耗尽空间，您将需要升级网络服务器的存储容量，这将涉及关闭服务器一段时间，复制磁盘映像，并在更大的虚拟磁盘上重新膨胀它。在 devTo 上问这些问题也是完全没问题的:)其他人可能也有类似的情况，并且会从你暴露你的不确定性中受益！

ARIT:你说服了我，齐:)我会和 S3 在一起。我会更新我的 devTo 帖子。

我的意思是，我不知道这是不是 T2 的正确选择，但我非常懒，我很乐意用美元来换取时间，尤其是如果是小时或天的话。

**ARIT** : Lol。不，你真的说服了我——尤其是你关于缩放的论点。你是对的——对于低存储使用和查询，S3 并不昂贵。此外，仅迁移我的一个应用程序的过程就令人头疼！😫

等到你的应用上有了客户，它在周二凌晨 3 点关闭，你认为增加一个“当它关闭时给我打电话”提醒是个好主意，你醒来时听到电话刺耳的声音，你不得不在昏昏沉沉中重新弄清楚到底发生了什么。

**ARIT** :😆

* * *

***旧帖如下:***

你好德夫托家族！我需要一些帮助。我想把我的 Rails 应用从 Heroku 迁移到 Vultr 上的 VPS。对于如何在一个 Rails 应用程序中做到这一点，有几个指南。然而，**我想在同一个 VPS** 上托管我的所有 5 个应用程序，利用基于名称的托管方法来解析它们的所有域名。这是我在网上找不到多少有用信息的地方。一个向导使用乘客服务器，但我知道 Puma 被认为更好。对于 web 服务器，我偏爱 Nginx。
如果能帮助我规划如何实现这一目标，我将不胜感激。提前谢谢大家了！🙏🏾