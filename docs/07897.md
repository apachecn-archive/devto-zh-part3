# 当我写 CSS 的时候我考虑什么

> 原文：<https://dev.to/liammyles/what-i-consider-when-writing-css-46ep>

从高层次来看，所有这些考虑都可以分为两个方面。用户下载和开发者人机工程学。

对于用户下载，我们只想提供他们正在查看的内容所必需的 CSS。并且建立在干净的 HTML 之上。

对于开发人员的人机工程学，我们希望将 CSS 分解成可管理的块，创建功能分离，并允许重用。也许最重要的是，我们希望我们的 CSS 解决方案能够随着项目的发展而扩展。

## 只写你需要的，写一次

CSS 是灵活的，允许你做很多事情。但是 CSS 提供的巨大灵活性也存在危险。

当我写 CSS 的时候，我不想重复不必要的内容。但是，在为核心特性编写特定的 CSS 和为一般特性编写通用的 CSS 之间有一个平衡。

经典的例子是按钮样式。按钮需要保持一致，开发人员应该能够在一个位置更新所有按钮。当一个按钮是基于每个特性设计的，这会导致 CSS 在每个特性中重复出现。

这种重复还会导致不一致的按钮设计，以及将来更新时的问题。

## 不要让工具膨胀你的最终 CSS

工具创建了一个远离最终 CSS 的抽象。这对 CSS 开发人员的人机工程学有很大的帮助。尤其是当你生活在一个浏览器前缀的世界里。然而，这种抽象隐藏了您正在创建的 CSS。

例如，Sass 是一个流行的 CSS 预处理器，具有 mixin、变量和循环等特性。但是有时候，与 CSS 的距离会导致大量重复的 CSS，而开发人员的人机工程学收益却非常少。

为了演示我看到的一些 CSS 膨胀，我在 SassMister 上放了两个例子(SassMister 是 SASS 在浏览器中编译它的平台)。

第一个例子显示了 mixins 导致 CSS 和占位符重复，只扩展了 CSS 选择器。[https://www . sass meister . com/gist/160390 ca 9b 723 bbf 08 f1 d 000 fa 2 fa 2 a 7](https://www.sassmeister.com/gist/363ce20038ed5c3e4adc7ae12229a390)

第二个显示了添加 svg 标志背景的 each 指令。我见过它在实际生产代码中导致超过 1000 行的重复 CSS。[https://www . sass meister . com/gist/160390 ca 9b 723 bbf 08 f1 d 000 fa 2 fa 2 a 7](https://www.sassmeister.com/gist/160390ca9b723bbf08f1d000fa2fa2a7)

仅供参考:如果 CSS 无法加载，只需在 SASS 终端中输入一个空格。

## 尽量不要让 CSS 支配你的 HTML

首先，一个 cavate，不幸的是这是不可避免的。像 Grid 和 Flex 这样的技术已经极大地减少了对额外 HTML 搭建的需求，但是这并不总是可以避免的。

这并不意味着你应该让 CSS 决定你写的 HTML。把 HTML 当作一等公民，它本身就是一种语言。辅助技术和搜索引擎爬虫依靠它来理解你的站点。任何网站都有两个非常重要的部分。尊重它，你会收获回报。

## 注意你的媒体询问

根据我的经验，媒体查询在开发人员人机工程学方面得到更多的关注，然后是用户下载方面。我这样说的主要原因是媒体查询可以使用 link media 属性动态添加到页面中。

这意味着你用来使你的网站在桌面和平板电脑上看起来漂亮的所有 CSS，不需要被手机用户下载。所以干净的媒体查询策略对于任何项目都是必须的。

你也只需要一个媒体选择器来选择你的目标尺寸。这不是我见过的常见策略。

我遇到的最常见的策略是将媒体查询添加到与功能样式相同的文件中。导致跨多个特征的重复媒体查询。本质上不必要的重复 CSS。

## 思考未来(但不要太多)

事情在变化，这需要成为实现 CSS 的方法的一部分。如果一个按钮设计更新品牌范围，它应该在一个容易的地方更新网站范围。如果一个当前的特性必须适应一个新的页面，它应该很容易扩展以满足新的需求。

所有这些当然都可以通过蛮力来完成。但是创建一种清晰的、可预测的、可维护的 CSS 工作方式是任何 CSS 系统成功的主要因素。

CSS 中的 Scale 是关于未来的功能不会妨碍过去的功能，以及不会导致糟糕的用户下载或令人沮丧的开发人员体验的策略。

## 在关闭

CSS 很有趣，也很复杂，需要考虑的东西很多。这些是我在写 CSS 时喜欢思考的抽象想法。不同的 CSS 神话可以帮助你避免这些问题。一些工具可以让它们对用户来说不成问题。请注意，因为 CSS 不会对你大喊大叫，它是一个好朋友，会帮助你，而不会提及它。即使这会损害友谊。

如果你有任何想法，请通过 twitter @LiamMyles92 联系我