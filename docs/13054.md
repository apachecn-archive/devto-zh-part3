# 为什么 GraphQL 认为人们应该喜欢 GraphQL

> 原文:[https://dev . to/smizell/why-graph QL-thinks-people-should-like-graph QL-dp4](https://dev.to/smizell/why-graphql-thinks-people-should-like-graphql-dp4)

我最近写了一篇文章，我相信人们选择 GraphQL 是因为它解决了 web APIs 的常见问题。我想从 GraphQL 的角度来看这个问题，通过查看他们的[营销网站](https://graphql.org/)，了解他们为什么认为人们应该喜欢 GraphQL。尽管他们在整篇文章中都提到了技术原因，但他们很清楚自己试图解决的痛点。

# [](#when-are-there-moments-of-frustration)什么时候有失意的时刻？

在一个人决定寻找解决方案之前，有那么一刻，挫折或需求驱使他们采取行动。好的营销会把人们带到这些时刻，讲述一个令人信服的故事，并提供救济。Basecamp 是一家在登陆页面上做得很好的公司。

> 所有成长中的企业都会遇到同样的基本问题。头发着火，埋在邮件里，到处都是东西。好消息是什么？Basecamp 解决了这些问题。

Basecamp 没有关注他们的产品，而是关注人们在工作中处理来自四面八方的通知时的挫败感。他们想帮助创造一个更平静的工作体验，他们通过提供一个项目管理工具来做到这一点。这些沮丧的时刻告诉我们为什么他们认为人们应该喜欢 Basecamp。

# graph QL 解决的挫折

GraphQL 登录页面也采用了这种方法，尽管没有那么明确。如果我们深入研究他们说的话，我们会发现他们感到沮丧的时刻。我们将查看 GraphQL 登录页面上的要点，并考虑一个人在选择 GraphQL 之前可能的感受。

## [](#why-cant-i-have-more-control-over-the-api)“为什么我不能对 API 有更多的控制权？”

[网站说](https://graphql.org/#predictable-results)，“要求你需要的，得到你想要的。”客户端开发人员可能会回到他们必须筛选有效负载来寻找所需数据的时代。虽然 GraphQL 导致较小的初始响应，但我不确定这是大多数的驱动因素。人们知道他们需要什么数据。为什么他们要处理更多？当他们可以使用 GraphQL 并得到他们想要的东西时，为什么还要做额外的工作呢？

## [](#i-cant-figure-out-how-this-data-is-related)“我想不通这个数据是怎么关联的。”

他们说“在单个请求中获得许多资源”。但是我们很久以前就有解决方案了。GraphQL 为什么不一样？他们给了我们一个暗示。

> GraphQL 查询不仅可以访问一个资源的属性，还可以平滑地跟踪它们之间的引用。

GraphQL 试图揭示数据的相互联系。对于许多 web APIs 来说，理解所有资源之间的关系是一项困难的任务，但是对于 GraphQL 来说，这是与数据交互和理解数据的主要方式之一。

## [](#its-difficult-to-write-usable-and-helpful-docs)“很难写出有用的、有帮助的文档。”

当[他们说](https://graphql.org/#type-system)“描述使用类型系统的可能性”时，他们是在陈述没有类型是不可能的。在阅读 API 文档的时候，你可能会想，“我全都读了，但是我仍然不知道我能*用这个 API 做什么*类型系统为开发人员指明了方向，并成为其自己的文档。

## [](#my-tools-require-me-to-do-a-lot)“我的工具需要我做很多事情。”

[他们说](https://graphql.org/#powerful-tools)，“借助强大的开发工具加快速度。”他们希望拥有能够提高开发速度和灵活性，同时又易于使用的工具。GraphiQL 允许您在同一个工具中导航文档和构建请求，而不是在文档和工具之间跳转来拼凑多个请求。大多数人直到看到它才意识到他们有多想要这个。

## [](#its-hard-to-reliably-make-changes-to-my-api)“很难可靠地对我的 API 进行更改。”

发展一个 API 需要努力。大多数人将版本化作为管理 API 变更的一种方式。这是人们在开始一个新的 API 时的第一个讨论——“我们如何给我们的 API 版本化？在网址里？标题？这些版本是全球性的吗？”GraphQL 站点在其[最佳实践](https://graphql.org/learn/best-practices/#versioning)中解决了版本控制问题:

> 当对从 API 端点返回的数据的控制有限时，任何更改都可以被视为重大更改，而重大更改需要新版本。

在他们的[登陆页面](https://graphql.org/#without-versions)中，他们说，“进化你的 API，不要有版本。”他们希望你忘记你所知道的关于版本控制的一切。可以不用版本进化 REST APIs 吗？[确定](https://philsturgeon.uk/api/2018/05/02/api-evolution-for-rest-http-apis/)。但这仍然很少见，以至于这是他们营销的一个要点。

# [](#a-recipe-for-traditional-web-apis)传统 web APIs 的秘诀

如果您正在为传统的 web APIs 构建工具，我觉得您可以关注这些同样的挫折，并解决那些正在转向 GraphQL 的用户。我希望看到人们在 REST 范式中创建工具和实践来解决这些问题——这是使用通用 API 最佳实践的加分项。

在 GraphQL 与 REST 的讨论中有许多折衷需要解决(在这里阅读更多[和在这里](https://blog.goodapi.co/rest-vs-graphql-a-critical-review-5f77392658e7)阅读[)。也许我们可以通过 GraphQL 的易用性和简单性来获得 REST 的好处。](https://philsturgeon.uk/api/2017/01/24/graphql-vs-rest-overview/)