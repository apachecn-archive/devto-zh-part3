# 使用 Vim 在一周内变得高效而不讨厌它

> 原文:[https://dev . to/nickjj/get-productive-with-vim-in-week-not-hatting it-40cf](https://dev.to/nickjj/getting-productive-with-vim-in-a-week-without-hating-it-40cf)

**本文最初发布于 2019 年 3 月 19 日:[https://nickjanetakis . com/blog/getting-productive-with-vim-in-week-not-hatting it](https://nickjanetakis.com/blog/getting-productive-with-vim-in-a-week-without-hating-it)**

* * *

我不是 Vim 的专家，因为我使用它才一个多月。

但是我发现自己在大约一周后变得很有效率，而且从那以后变得越来越好。我认为在你还是一个半初学者的时候，写这样的帖子是值得的，因为一旦你用了一个东西很长时间，很容易忘记早期帮助你的细节。

也就是说，这篇文章更多的是关于我如何学习 Vim 的个人旅程，而不是一步一步的教程。尽管在本文结束时，您可能已经获得了一些帮助自己快速掌握 Vim 的技巧。

## [](#diving-into-it-with-no-safety-net)在没有安全网的情况下跳入

当我完全沉浸在所学的东西中时，我通常学得最好。我仍然记得 5 年多前在大约 3 个月的时间里学习 Rails，当时我建立了自己的博客平台，一边看大量 Railscasts 视频一边学习 Rails。

在我开始那 3 个月的冒险之前，我没有 Ruby 的经验，但是在那之后，我学到了足够多的东西，可以轻松地开始从事新的基于 Rails 的自由职业。尽管值得一提的是，我有 15 年的一般开发经验，所以我已经知道了很多一般的 web 开发概念。

所以在学习 Vim 的时候，我也做了同样的事情。一旦我知道我 100%完成了 VSCode(我停止使用它，因为[它在 1.5MB markdown 文件中表现很差](https://nickjanetakis.com/blog/vim-is-saving-me-hours-of-work-when-writing-books-and-courses)，我卸载了它，Vim 成了我的首选编辑器。

这意味着，当我为客户做自由职业工作或编写自己的课程内容时，我心甘情愿地承受了最初的生产力打击，但我很清楚地知道，在一段时间内，我的效率会低得多。

#### [](#the-first-weekend)第一个周末

我通常在周末不做合同工作，所以我在周五晚上决定，当我第二天早上醒来时，我要努力工作到周日晚上。

在没有真正的 Vim 先验知识的情况下(我在很多年前看过一次),我花了一个坚实的周末才从不知所措到对这种转变有点满意。

当我说可靠的时候，我的意思是我花了两天 10 个小时研究 Vim 的特性，看教程，跟着教程慢慢地引入几个我知道我想要的插件(基于我遇到的确切问题)。

很多时间仍然花在“omg 闪亮”阶段，我在 Youtube 上看了很多关于 Vim 如何有用的讨论。我不在乎任何人说什么，最初的炒作阶段很重要，因为它会给你带来难以置信的动力。

##### [](#after-the-hype-it-was-time-to-make-a-config-file)炒作过后，该做一个 config 文件了:

一旦我觉得我将接管世界，我真的开始配置 Vim。

我知道从头开始写我自己的`.vimrc`文件太难了，因为有一百万个设置和两倍多的未知。我不知道什么是可能的，也不知道我想要什么。

与此同时，我知道我不想从像 [SpaceVim](https://github.com/SpaceVim/SpaceVim) 这样的大规模预制解决方案开始。我并不反对它，它可能会令人惊讶，但我从个人经历中知道，从一件大事开始会让我更难理解自己在做什么。抽象出现在最后，而不是开始。

所以我最终找到了一个[基本`.vimrc`文件要点](https://gist.github.com/simonista/8703722)，并利用它来帮助我前进。当我浏览配置时，我在我看到的每个设置上运行了`:help <setting>`。

我甚至根据助手所说的对他的一些设置做了我自己的调整，我认为这是一件值得注意的重要事情。你对什么是“好”有你自己的偏好和想法，所以如果你发现你喜欢的东西，你不应该害怕把它变成你自己的。

你也不应该因为你 100%不同意某件事就完全不考虑它。即使你只同意某件事的一半，你也有机会学到很多。

##### [](#sunday-night)周日晚上:

此时，我有了一个非常简单的配置和几个插件。在这个过程中，我甚至还没有经历过`vimtutor`。我的思维过程是，在我真正开始学习 Vim 之前，我想获得某种正常的工作环境。

事后看来，这可能不是最好的主意，但我一直是那种在阅读大量手册之前就一头扎进某样东西并进行尝试的人。在制作配置文件的过程中，我也积极地使用 Vim，所以我获得了“真实世界”的经验。

我最终并不后悔我的决定，但我认为如果我从`vimtutor`(如果你安装了 Vim，这是一个内置命令)开始，可能会更快一点。

## [](#life-with-vim-after-a-week)一周后与 Vim 一起生活

接下来的几天并不容易。我像个白痴一样挣扎了几天，甚至连简单的事情都做不到，比如“移动到一个句子的倒数第二个单词，然后把最后两个单词换成一行”。在没有箭头键和鼠标的情况下做这件事几乎要了我的命。

即使是复制/粘贴也是一项艰巨的任务。我花了很长时间才能够将文本从 Vim 复制到另一个应用程序中，并将文本从另一个应用程序粘贴到 Vim 中。

这主要是因为不了解 Vim 中的寄存器是如何工作的，而且事情从一开始就有点棘手，因为我运行的是 Windows 10，但我在 WSL 中安装了终端 Vim。很多剪贴板变量在起作用。

总的来说，我经常遇到这样的情况，在其他编辑器中似乎很容易做到，但在 Vim 中却非常困难。几乎到了我想“去他妈的，这不值得”的地步，因为我感觉自己被这么多事情缠住了。

甚至像将文本粘贴到相对于光标的准确位置这样的基本事情。我花了几乎整整一周的时间来习惯块光标的工作方式。

#### [](#its-not-all-or-nothing-forget-the-purists)这不是全有或全无，忘掉纯粹主义者吧

我一直在阅读关于你应该如何解除箭头键的绑定，你所做的每一个编辑都应该与运动完全分开。使用鼠标也是邪恶的！

我这样做了好几天，甚至在推特上发布了这个消息:

> ![Nick Janetakis profile image](../Images/901fcab846c1507b9b1b5a6a5911553e.png)尼克·贾纳基斯@尼克·贾纳基斯![twitter logo](../Images/65e26e35707d96169ec8af6b3cbf2003.png)我意识到，在 Vim 中，箭头键实际上是通向家的大门，结束和翻页键，因为你离它们如此之近。我将解除它们的绑定，然后看看情况如何:
> 
> no remap<Up><Nop>
> no remap<Down><Nop>
> no remap<Left><Nop>
> no remap<Right><Nop>21:20PM-2 月 11 日

但这对于我简单的头脑来说太难理解了。我从来没有做过家庭打字员，将来也不会。当我打字时，我的手到处乱飞，但不知何故，我能以每分钟 75 字的速度非常准确地打字。

我也经常使用鼠标。

用`hjkl`来运动不适合我。当我想做的只是移动几个字符时，在插入模式下使用箭头键会让我更开心、更快。

别误会我的意思。我确实偶尔使用`hjkl`,但这真的取决于我正在做什么，这导致我开始意识到另一个真正大的收获。

#### [](#not-every-movement-is-a-black-and-white-decision)不是每一个动作都是非黑即白的决定

我花了大约一个星期才意识到这一点，但一旦我做到了，一切都变得更好了，我开始看到真正的进步。

我被困在这种思维模式中，我绝对必须以一种特定的方式做某些事情。例如，我在内部挣扎着跳到一个文件中的特定区域。

我一直在阅读 Vim 不仅仅是插入模式，要真正利用它，你应该利用动作和热键来移动。你不应该按下向下箭头或`j` 10 次来向下移动 10 行，然后移动超过 15 个字符来到达你想要的点。那是非常低效的。

所以我犯了一个错误，继续寻找在文件的可视区域移动的最佳方式。这导致使用插件，如 vim-sleek，easymotion，并根据最少的击键次数来衡量效率。

那是一个很大的错误，但是我很高兴我度过了那个时期。这提醒我不要做什么。在过去的各种形式中，我已经写了你如何不能通过尝试理论来找到好的解决方案，但这正是我在 Vim 中所做的。

我正试图优化一个我并不完全理解的问题的解决方案。

一旦我意识到我在做什么，我立刻停下来，专注于使用`/`快速移动到文件的特定区域。我发现使用 easymotion 的上下文切换比自然地键入我想跳转到的单词要糟糕得多。

但后来我知道了`f`、`F`、`t`、`T`和`%`，它们非常适合在特定的路线上移动。它以一种非常好的方式解决了一个不同于`/`的问题。

我对此做的实验越多，我就越意识到移动和编辑文件是一个有机的过程。有时我用箭头键，有时我用`j`向下移动一行，有时我用鼠标，有时我会用别的东西。这真的归结为手头的任务和什么感觉是自然的。

#### [](#sticky-notes-helped-build-momentum)便利贴有助于造势

值得一提的是，整整一周我都在我的显示器周围添加便签，上面有常见的 Vim 命令、动作和映射。在我的便利贴阶段结束的时候，我已经有了 7 个便利贴，上面记下了大约 80 件事情。

[![Vim sticky notes](../Images/120e01741474c97c163839f82246d23b.png)T2】](https://res.cloudinary.com/practicaldev/image/fetch/s--lkyMvzuu--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://nickjanetakis.com/assets/blog/vim-sticky-notes-after-1-week-59a5db34a9e702bc7153235234134e6477c2f2a80cb9a87571868ada3ec9d8c9.jpg)

第七个仍在制作中，放在架子顶上，是的，我用那个魔方挡住了我的网络摄像头，但它也是我在积极使用网络摄像头时用的。

便利贴真的有助于建立信心和动力，因为如果我忘记了什么，它只是快速浏览一下，而不是打断我的流程，谷歌一下。

所以，如果你发现自己不止一次地查找某个东西，把它写下来。值了。

## [](#getting-familiar-with-vim-during-week-2)在第 2 周熟悉 Vim

到第二周，我开始掌握事情的窍门了。我发现自己总是很自然地使用像`ciw`、`gg`、`G`和`.`这样的动作，有时我会不假思索地这么做，这感觉很神奇。

我也经常使用`i`、`I`、`a`、`A`、`o`和`O`。不假思索地使用它们仍然不是自动的，但我可以看到事情开始变得越来越多。我现在移动和编辑文件的速度比我过去用过的任何编辑器都快。

就好像 Vim 是我大脑的延伸，这是我从未在任何编辑身上感受到的。

真正的整体速度提高来自于仅仅半记忆 20 个左右的动作和命令。它们中的每一个都不是改变世界的事件，但是当你把它们结合在一起时，它真的开始累积起来。

这实际上是对整个 Vim 思维模式的证明。对于 VSCode，我只是把它看作另一个文本编辑器。当然，在使用了一年之后，我已经记住了一大堆热键，但是我从来没有感觉到我的速度有多快。

另一方面，对于 Vim，我觉得它自然会推动我进步。

#### Vim 堪比一款视频游戏

我是电子游戏的超级粉丝，我倾向于被像《雷神之锤 3》这样有高技能上限的竞技游戏或像 Dota 这样的 mobas 所吸引。当使用 Vim 时，我从它那里获得了和玩游戏时一样的感觉。我觉得我永远不会超越 Vim，实际上使用它真的很有趣。

它符合我大脑里一种玩游戏不玩游戏的怪异需求。随着我越来越好地使用它，我也感觉到了一种进步。就好像我变平了。

## [](#beyond-week-2-with-vim)超越第 2 周与 Vim

在这一点上，我的 vimrc 是一个完全的灾难区。它所花费的只是几个星期在文件中扔东西和尝试一堆插件，直到它失去控制。这是一个无组织的 500 线怪物。

但是在这一点上，我对我正在使用和没有使用的东西感到很舒服，所以我在一个周末花了整整 3 个小时来检查我的配置。我把所有不想要的东西都拿走，尽可能把东西整理得井井有条。现在在我的 [dotfiles repo](https://github.com/nickjj/dotfiles) 里(含截图)。

这也是我开始添加一些自定义绑定的时候，但是关键的是我没有为了添加而添加它们。所有的束缚都源于一种直接的需求。基本上，如果我发现自己重复某件事很多次，我会把它变成一个束缚。

有时绑定不会持续超过几个小时，而其他的可能会永远出现在我的配置文件中。

同样的思考过程也用于插件。我甚至没有搜索过任何类似“最佳 Vim 插件”的帖子。我只在遇到特定问题时搜索插件，比如“Dockerfiles 的语法高亮显示”或“可视化不需要的空白”。

#### [](#a-month-of-real-world-usage)一个月的真实世界使用情况

值得一提的是，在整个过程中，我都在全力以赴地尝试使用 Vim。遇到问题并建立肌肉记忆来解决问题。

同样值得一提的是，这是我停止使用便利贴的时间。经过 3 周左右的完全重复，我记住了 80%以上常用的东西。

编辑 YAML 文件、Markdown、Flask / Rails / Phoenix 项目等等。

我真的认为这很有帮助。如果我把 VSCode 留在身边做客户端工作，那么这个过程会花费更长的时间，因为我不会获得任何使用它的实际经验。我也会失去沉浸感。

另外，最初的那个周末真的是我唯一一次死死锁定在生产力上，而且那是下班时间。在那之后的几天里，我的工作效率明显降低了，但这并不意味着我在一天 8 小时的工作中浪费了 2 个小时。

它更像是 20 分钟，而一堆小事情加起来只持续了几天，所以也许我放弃了一个小时的时间，是的，当我跟踪我的时间时，我给自己少开了一个小时的账单，因为我就是这样的人。

虽然说实话，我不认为这是道德上的错误，因为从现在起 6 个月后会发生什么？如果我能提前 15 分钟完成工作，是不是意味着我赚的钱就少了？这说不通。

或者可能 6 个月后，我会提高利率，然后你会在这里看到一篇文章，标题是*“我如何通过学习 Vim 每小时多赚 10%”*。可能哈哈。

顺便说一句，这就是为什么按小时计费有时会很糟糕，但在这种情况下，我当时正在处理的合同是按小时计费的，因为它们的持续性质。

#### [](#what-is-worth-it)什么值得？

你打赌。

我觉得我预先投资了大约 25 个小时，这将在未来 5 年多的时间里帮助我。

我不确定 Vim 是否适合所有人，我也不会从任何人的改变中得到什么，但是因为我录制视频课程，我经常让人们尝试将他们的开发环境与我的相匹配。

因此，当我切换[关键工具](https://nickjanetakis.com/blog/the-tools-i-use)时，我内心总是有点畏缩，因为我知道这将意味着其他人可能会试图做同样的事情，这可能会分散他们参加课程的注意力。

我只是想发出这个帖子，让人们知道 Vim 不是一个神秘的疯狂的人的工具，只有灰胡子在一生的奋斗后才能使用。如果你碰巧感兴趣，那就值得一试。这是一个非常平易近人的编辑器。

**你用了多长时间来适应 Vim？下面让我知道。**