# 删除你的代码:寻找软件开发的极简方法

> 原文：<https://dev.to/juampilorenzo/delete-your-code-in-search-of-a-minimalist-approach-to-software-development-3gii>

[![](img/b54cd0eb658efd826ab47875c12675e9.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--uVcph1yW--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/2600/1%2AHTKqg1DFILEq90zjQV8onw.jpeg)

> 很抱歉我给你写了这么长的信；我没有时间写一个简短的。
> —布莱士·帕斯卡

软件是一个既难又美的问题。软件工程是解决这一问题的领域，尽管它是一个年轻的学科，但已经出现了许多想法来提高我们处理软件的能力。这篇文章是关于我们在开发时所依赖的一组想法，这些想法与代码和软件的极简方法相一致。

### 起点

一个很好的起点是臭名昭著的*无银弹*短文。在其中，我们发现对软件概念本质的第一次攻击是*购买与构建*:“构建软件的最激进的可能解决方案是根本不构建它”*。*除了这个攻击的明显意义，我认为这个点的关键在别的地方。*购买 vs .构建*是软件简单存在的递归解决方案。它说尽可能避免构建软件。三十年后的今天，我们一直在努力。但是我们总会找到基本情况，我们必须建立。

我的意思是:如果我们错过了基本情况会怎样？我们已经增强了我们的限制，基于减少我们对构建我们的软件部分的需求(使用 SaaS、微服务、开源等)。).但是如果我们应该最小化的代码是我们已经开发的代码呢？

### 极简主义又能提供什么

极简主义现在很流行。一群网飞纪录片、TED 演讲和作家创造了一个难以定义的概念。什么是极简主义者？连牛津词典都被落下了。最准确的定义是形容词*极简主义者*:“在一种情况下采取或表现出尽可能少的行动和参与”。

如果你想给这个现代术语下一个精确的定义，二战后的极简主义艺术运动并没有多大用处。我们可以借用画家 Ad Reinhardt 的一句话:“东西越多，艺术作品越忙，就越糟糕。多即是少。少即是多。”

如果我们改变话题，看看思想史，我们可以找到伊壁鸠鲁(公元前 341-270)。在我们之前几千年，他说过:“对嫌不够的人来说，什么都不够。”他寻找一种快乐宁静的生活，其特点是没有恐惧和痛苦，生活在朋友的包围中。

这样的想法在东西方历史上流传了几千年。我们可以只写一篇关于他们的文章，但这不是我们的想法。这些想法和玛丽·近藤有什么关系？这些想法能给我们的工作带来价值吗？我将以利奥·巴伯塔对极简主义的现代定义来结束这一部分:

> 简单来说，就是扔掉你不用或不需要的东西，留下一个整洁简单的环境和一个整洁简单的生活。它是生活中没有对物质的执念或对做所有事情和做太多事情的执念。它使用简单的工具，有一个简单的衣柜，携带很少，生活很轻松。

这句话很重要，因为它表明这个概念不是不做事，而是避免做太多。这是关于用简单的工具解决简单的问题。那是我们的起点。

### 软件开发中的前辈

这些想法已经在软件开发中流传多年了。我们可以描述其中的一些:

#### 极限编程(XP)

如果非要找一个这种思想的前辈，那就不可能避开极限编程(XP)。在肯特·贝克出版他关于方法论的书的一年前，罗恩·杰弗里斯写道*你不需要它！*。这个想法很清楚:每次都要抵制开发你实际上不需要的功能的冲动。Jeffries 讨论了时间的重要性，以及代码的数量不仅会影响开发人员，还会影响每个阅读、维护或使用代码的人。为了更清楚，我可以引用 Ron 的话:“快速实现代码的最好方法是实现更少的代码。减少 bug 的最好方法是实现更少的代码*”。*删除代码的想法比更好地实现该原则更好吗？

#### 越差越好

这种方法认为，在软件制作中，最好从最小的创作开始，并根据需要以“渐进增长”的方式增长。这个概念的创造者是计算机科学家 Richard P. Gabriel，他以 Lisp 编程语言而闻名。用他的话说，这种风格的本质与麻省理工学院/斯坦福大学的设计风格略有不同。简而言之，他们同意简单是设计中最重要的考虑因素。

#### 亲吻

简单点，笨蛋。美国海军给我们留下了这个美丽的概念，它非常接近于一句常见的短语“一切都应该尽可能简单，但不是更简单”。软件工程中到处都在重复 KISS。它成为了一个重要原则，因为工程师们倾向于过度设计解决方案。你最好使用简单的代码来构建软件。它创造了更加可维护和灵活的软件。

#### Jamie Zawinski，软件膨胀和功能蔓延

如果前面的观点涉及到了避免创建不必要的代码的想法，那么在这种情况发生后就会出现问题。我们对代码中扩展特性的问题有一个特定的名称:*特性蔓延*。Zawinski 做得比我好:“每个程序都试图扩展，直到它可以读取邮件。那些不能这样扩展的程序被那些能这样扩展的程序所取代。”。著名的 Andrew Tanenbaum 也在他的书*计算机网络*中对此发表了看法:“此外，大量的问题是由错误软件引起的，这是因为供应商不断地给他们的程序添加越来越多的功能，这不可避免地意味着更多的代码，从而更多的错误。”。

似乎给一个从未想过要做那种工作的软件添加功能只会导致*软件膨胀*，完全失去原始设计的意义，使用与范围不相符的技术时浪费资源，无法维护和重构软件，以及其他噩梦..

#### 无代码库

“没有代码是编写安全可靠的应用程序的最佳方式。什么都不写；无处部署。”这是一个关于其他软件主题的笑话，但我忍不住在 GitHub 的这个库中加入了 Kelsey Hightower 的内容。

### 我们能提供什么？发展方法

我用*删除你的代码*想表达什么？我认为开发软件应该首先考虑它的实际用途。这必须在软件生命周期的每一步都考虑到，而不仅仅是在设计中。这种开发方法可以概括为三点:

*   每个软件必须只包含正在使用的软件。
*   一个软件的各个部分之间必须有一个内聚的使用量。
*   一个软件的设计、实现、监控和维护都应该牢记上述概念。

### DYC 有没有可能？

这篇文章可能会以一个叫做删除驱动开发(我们会用 DeDD，DDD 已经很忙了)或者使用驱动开发(UDD)的新过程作为结尾。但我认为，考虑实施这些战略的真正机会非常重要。

有许多概念在这种方法中发挥了作用，但有一个概念是使之成为可能的关键:监控。你必须在产品中描述你的软件，并且你必须以一种使结果具有代表性的方式来做。这并不容易，但这是没有商量的可能性，删除你的代码的一部分。这就是为什么我们需要一个解决方案，当它至少在部分时间内分析软件的使用时，不会使我们的软件过载。在我看来，正确的方法是应用程序性能管理(APM ),如 DataDog 或 Stackify 提供的那些。

需求很明显:您需要知道您的代码片段被执行了多少。我们不仅在谈论 API，也在谈论类、函数和代码行。我们必须知道我们的每段代码被使用了多少，以便能够删除未使用的代码并重构剩余的代码，从而遵循这三个原则。

### 盟友:微服务

根据定义，微服务必须是可维护和可测试的。为什么微服务对该方法很重要？因为微服务是软件的一部分，它让我们能够保持一致的使用量。如果你的微服务有不止一个职责，而没有一个内聚的使用量，你可能需要拆分这个微服务。你需要在你的软件中添加一个新的特性吗？你是否想把它添加到一个与其职责不相符的微服务中？我敢肯定，在添加该功能后，它不会像微服务以前的状态那样有大量的使用。

我们想避免什么呢？浪费资源，使用只适用于部分功能的工具或技术。这项工作必须在所有级别完成，但我相信微服务是应用之前定义的原则的一个很好的参考点。

### 结论

这篇文章是故意不完整的。这是一个需要大量工作才能超越概念的想法。它甚至可能被证明是一个坏主意。但对我来说很清楚的是，有许多迹象将我们引向那个方向。我们很久以前就知道，我们可以用更少的代码期待更好的软件，我们必须完全接受这个想法。所以，简而言之:检查软件的实际使用情况，删除不用的代码。我相信利润会超过你的损失。

* * *

### 参考文献

*   Jeffries，J. (1998 年 4 月 4 日)。你不会需要它的！检索自【[https://ronjeffries.com](https://ronjeffries.com)】[http://ronjeffries . com/xprog/articles/practices/pracnotneed/](http://ronjeffries.com/xprog/articles/practices/pracnotneed/))
*   阿帕奇软件基金会(2019)。KISS 代表什么？检索自 http://people.apache.org
*   雷蒙德(2003 年 12 月 29 日)。*行话文件 v . 4 . 7*。从 http://jargon-file.org/[取回](http://jargon-file.org/)
*   k . hightower(2018 年 2 月 6 日)。*没有代码库*。从 https://github.com/kelseyhightower/nocode[https://github.com/kelseyhightower/nocode](https://github.com/kelseyhightower/nocode)取回
*   Tanenbaum，A. (2010 年)。*计算机网络*亚洲:印度国际教育学院。
*   c .理查森(2018)。*什么是微服务？*检索自 [https://microservices.io](https://microservices.io/index.html)