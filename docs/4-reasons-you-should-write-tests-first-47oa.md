# 你应该首先编写测试的 4 个理由

> 原文：<https://dev.to/flippedcoding/4-reasons-you-should-write-tests-first-47oa>

测试遇到了不同的意见。有些开发人员讨厌写测试，有些不介意。当您编写单元测试或任何其他微妙的测试时，您会得到一些关键的好处，但是它们会成倍地改进开发周期。这里有几个为什么在你写任何代码之前你应该考虑写测试的原因。

## 它迫使你(和业务方)清楚地定义问题

一个项目的范围不断扩大，而用户故事却定义得很差，这种情况并不少见。你必须停下来问一些问题，比如业务方面希望如何处理某个场景，他们最终会告诉你做一些与最初任务无关的事情。

当您首先编写测试时，在深入研究代码之前，您已经得到了所有这些问题的答案。它还为您提供了某种程度上控制每个任务范围的方法。在为一个特性编写测试之前，您必须确切地知道它应该做什么。这将让你有机会提前问所有的业务问题，这样当你写代码时，你就能确切地知道你在写什么和为什么写。

如果你要求业务方定义他们遇到的问题，而不是试图给你一个解决方案，你会惊讶于你取得的进步。测试将确保你有这些对话，因为没有它们你将无法做任何工作。

## 它会让你写更少的代码

你只需要写足够的代码来通过测试。一旦它过去了，你就完成了那个部分。当你试图实现一个大的特性时，很容易迷失在代码中。当你为那个大的特性写代码时，测试让你保持在轨道上并且集中注意力。

在移动到另一个功能块之前，您必须完成您正在处理的功能块。没有“以后再来”，因为在通过第一个测试之前，你不能继续写代码。就像它让你慢下来，这样你就可以在写作之前好好想想你要写的东西。一旦有了定义良好的测试，编写实现就不会那么困难或复杂了。

## 它将为你节省数小时的调试/维护/回归测试时间

反对测试的一个最大的理由是它花费的时间太长。当发现一个逻辑语句不正确需要几天时间的时候，没有人会说太多时间，但是如果你花了几个小时来编写测试，那就太多时间了。随着您的进行，调试会容易得多，因为您是在独立于其他所有内容的一段特定代码上工作。

当你不得不深入研究代码并记住它应该做什么时，你会花费更多的时间。在开始时定义所有的测试，并编写足够的代码来通过它们，可以解决很多问题。

你可以在周五晚上部署你的代码，而不用担心任何问题。当你需要更新一个特性或者你确实发现了一个 bug，你可以检查测试失败的地方。此外，当您进行任何重大更新或只是更改大量文件时，您不必担心回归测试。几个小时的编写测试可以将你从这些问题中拯救出来。

## 它给你一个支持你的话的方法

有时候，商业世界和开发者世界之间是脱节的。这么说吧，用户并不总是完全诚实地说出当有东西坏了的时候他们做了什么。测试就绪后，您可以明确地向他们展示这不是您的代码。

即使有人在你不知道的情况下部署了变更，测试也是为了拯救你。你将能够向人们展示你已经准备好了所有这些测试，并且一个失败的测试不会被通过，除非有人做了他们不应该做的事情。测试就像你的安全网，因为它们通过证明你的清白让你远离麻烦。

用户或 QA 测试人员破坏事物的方式令人印象深刻。通过将您的测试放在适当的位置，并在每次添加新代码时运行它们，您给自己一个清晰的文档，说明一切都正常工作。没有人能给你这种确切的证据证明你这次是对的。

你觉得先写测试再写代码怎么样？大约一年前，我开始为我的个人项目这样做，它改变了我处理编码的方式。尽管我仍然听到许多开发人员谈论编写测试是多么的烦人或者困难。这是我真的很想从你们那里听到的，因为业务方面通常不热衷于你花时间写测试。

* * *

嘿！你应该在推特上关注我，因为原因:[https://twitter.com/FlippedCoding](https://twitter.com/FlippedCoding)